function Ik(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yS={exports:{}},Yh={},vS={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),Pk=Symbol.for("react.fragment"),Ck=Symbol.for("react.strict_mode"),Rk=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),bk=Symbol.for("react.context"),kk=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Nk=Symbol.for("react.memo"),Dk=Symbol.for("react.lazy"),S_=Symbol.iterator;function Vk(t){return t===null||typeof t!="object"?null:(t=S_&&t[S_]||t["@@iterator"],typeof t=="function"?t:null)}var _S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,ES={};function $o(t,e,n){this.props=t,this.context=e,this.refs=ES,this.updater=n||_S}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TS(){}TS.prototype=$o.prototype;function Fg(t,e,n){this.props=t,this.context=e,this.refs=ES,this.updater=n||_S}var jg=Fg.prototype=new TS;jg.constructor=Fg;wS(jg,$o.prototype);jg.isPureReactComponent=!0;var I_=Array.isArray,SS=Object.prototype.hasOwnProperty,Ug={current:null},IS={key:!0,ref:!0,__self:!0,__source:!0};function AS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SS.call(e,r)&&!IS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zl,type:t,key:s,ref:o,props:i,_owner:Ug.current}}function Lk(t,e){return{$$typeof:Zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $g(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zl}function Mk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A_=/\/+/g;function Cf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mk(""+t.key):e.toString(36)}function yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zl:case Ak:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cf(o,0):r,I_(i)?(n="",t!=null&&(n=t.replace(A_,"$&/")+"/"),yc(i,e,n,"",function(c){return c})):i!=null&&($g(i)&&(i=Lk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(A_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",I_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cf(s,a);o+=yc(s,e,n,l,i)}else if(l=Vk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cf(s,a++),o+=yc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bu(t,e,n){if(t==null)return t;var r=[],i=0;return yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Fk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},vc={transition:null},jk={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:vc,ReactCurrentOwner:Ug};function PS(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Bu,forEach:function(t,e,n){Bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bu(t,function(){e++}),e},toArray:function(t){return Bu(t,function(e){return e})||[]},only:function(t){if(!$g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=$o;he.Fragment=Pk;he.Profiler=Rk;he.PureComponent=Fg;he.StrictMode=Ck;he.Suspense=Ok;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;he.act=PS;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ug.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SS.call(e,l)&&!IS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Zl,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xk,_context:t},t.Consumer=t};he.createElement=AS;he.createFactory=function(t){var e=AS.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:kk,render:t}};he.isValidElement=$g;he.lazy=function(t){return{$$typeof:Dk,_payload:{_status:-1,_result:t},_init:Fk}};he.memo=function(t,e){return{$$typeof:Nk,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};he.unstable_act=PS;he.useCallback=function(t,e){return Ft.current.useCallback(t,e)};he.useContext=function(t){return Ft.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};he.useEffect=function(t,e){return Ft.current.useEffect(t,e)};he.useId=function(){return Ft.current.useId()};he.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Ft.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};he.useRef=function(t){return Ft.current.useRef(t)};he.useState=function(t){return Ft.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Ft.current.useTransition()};he.version="18.3.1";vS.exports=he;var b=vS.exports;const me=Qh(b),Uk=Ik({__proto__:null,default:me},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=b,Bk=Symbol.for("react.element"),zk=Symbol.for("react.fragment"),Hk=Object.prototype.hasOwnProperty,Wk=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qk={key:!0,ref:!0,__self:!0,__source:!0};function CS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hk.call(e,r)&&!qk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Bk,type:t,key:s,ref:o,props:i,_owner:Wk.current}}Yh.Fragment=zk;Yh.jsx=CS;Yh.jsxs=CS;yS.exports=Yh;var D=yS.exports,RS={exports:{}},on={},xS={exports:{}},bS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Q){var Y=z.length;z.push(Q);e:for(;0<Y;){var de=Y-1>>>1,re=z[de];if(0<i(re,Q))z[de]=Q,z[Y]=re,Y=de;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],Y=z.pop();if(Y!==Q){z[0]=Y;e:for(var de=0,re=z.length,ce=re>>>1;de<ce;){var ke=2*(de+1)-1,Ce=z[ke],Je=ke+1,tt=z[Je];if(0>i(Ce,Y))Je<re&&0>i(tt,Ce)?(z[de]=tt,z[Je]=Y,de=Je):(z[de]=Ce,z[ke]=Y,de=ke);else if(Je<re&&0>i(tt,Y))z[de]=tt,z[Je]=Y,de=Je;else break e}}return Q}function i(z,Q){var Y=z.sortIndex-Q.sortIndex;return Y!==0?Y:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,y=!1,w=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=z)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function k(z){if(T=!1,E(z),!w)if(n(l)!==null)w=!0,Qt(V);else{var Q=n(c);Q!==null&&ue(k,Q.startTime-z)}}function V(z,Q){w=!1,T&&(T=!1,v(_),_=-1),y=!0;var Y=p;try{for(E(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||z&&!x());){var de=d.callback;if(typeof de=="function"){d.callback=null,p=d.priorityLevel;var re=de(d.expirationTime<=Q);Q=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),E(Q)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var ke=n(c);ke!==null&&ue(k,ke.startTime-Q),ce=!1}return ce}finally{d=null,p=Y,y=!1}}var L=!1,A=null,_=-1,P=5,C=-1;function x(){return!(t.unstable_now()-C<P)}function O(){if(A!==null){var z=t.unstable_now();C=z;var Q=!0;try{Q=A(!0,z)}finally{Q?R():(L=!1,A=null)}}else L=!1}var R;if(typeof g=="function")R=function(){g(O)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,ot=ye.port2;ye.port1.onmessage=O,R=function(){ot.postMessage(null)}}else R=function(){I(O,0)};function Qt(z){A=z,L||(L=!0,R())}function ue(z,Q){_=I(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Qt(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var Y=p;p=Q;try{return z()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=p;p=z;try{return Q()}finally{p=Y}},t.unstable_scheduleCallback=function(z,Q,Y){var de=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Y+re,z={id:h++,callback:Q,priorityLevel:z,startTime:Y,expirationTime:re,sortIndex:-1},Y>de?(z.sortIndex=Y,e(c,z),n(l)===null&&z===n(c)&&(T?(v(_),_=-1):T=!0,ue(k,Y-de))):(z.sortIndex=re,e(l,z),w||y||(w=!0,Qt(V))),z},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(z){var Q=p;return function(){var Y=p;p=Q;try{return z.apply(this,arguments)}finally{p=Y}}}})(bS);xS.exports=bS;var Kk=xS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk=b,nn=Kk;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kS=new Set,fl={};function _s(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(fl[t]=e,t=0;t<e.length;t++)kS.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,Qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P_={},C_={};function Yk(t){return Fp.call(C_,t)?!0:Fp.call(P_,t)?!1:Qk.test(t)?C_[t]=!0:(P_[t]=!0,!1)}function Xk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jk(t,e,n,r){if(e===null||typeof e>"u"||Xk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bg,zg);_t[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bg,zg);_t[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bg,zg);_t[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hg(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jk(e,n,i,r)&&(n=null),r||i===null?Yk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ar=Gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),NS=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),DS=Symbol.for("react.offscreen"),R_=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Rf;function Va(t){if(Rf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rf=e&&e[1]||""}return`
`+Rf+t}var xf=!1;function bf(t,e){if(!t||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Va(t):""}function Zk(t){switch(t.tag){case 5:return Va(t.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hs:return"Fragment";case zs:return"Portal";case jp:return"Profiler";case Wg:return"StrictMode";case Up:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NS:return(t.displayName||"Context")+".Consumer";case OS:return(t._context.displayName||"Context")+".Provider";case qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kg:return e=t.displayName||null,e!==null?e:Bp(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return Bp(t(e))}catch{}}return null}function eO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(e);case 8:return e===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tO(t){var e=VS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=tO(t))}function LS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zp(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function x_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MS(t,e){e=e.checked,e!=null&&Hg(t,"checked",e,!1)}function Hp(t,e){MS(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wp(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var La=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(La(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function FS(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function O_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,US=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nO=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){nO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function $S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function BS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rO=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(t,e){if(e){if(rO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function Gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,uo=null,co=null;function N_(t){if(t=nu(t)){if(typeof Xp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=td(e),Xp(t.stateNode,t.type,e))}}function zS(t){uo?co?co.push(t):co=[t]:uo=t}function HS(){if(uo){var t=uo,e=co;if(co=uo=null,N_(t),e)for(t=0;t<e.length;t++)N_(e[t])}}function WS(t,e){return t(e)}function qS(){}var kf=!1;function KS(t,e,n){if(kf)return t(e,n);kf=!0;try{return WS(t,e,n)}finally{kf=!1,(uo!==null||co!==null)&&(qS(),HS())}}function ml(t,e){var n=t.stateNode;if(n===null)return null;var r=td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Jp=!1;if(gr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Jp=!1}function iO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ga=!1,Wc=null,qc=!1,Zp=null,sO={onError:function(t){Ga=!0,Wc=t}};function oO(t,e,n,r,i,s,o,a,l){Ga=!1,Wc=null,iO.apply(sO,arguments)}function aO(t,e,n,r,i,s,o,a,l){if(oO.apply(this,arguments),Ga){if(Ga){var c=Wc;Ga=!1,Wc=null}else throw Error(B(198));qc||(qc=!0,Zp=c)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D_(t){if(ws(t)!==t)throw Error(B(188))}function lO(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D_(i),t;if(s===r)return D_(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function QS(t){return t=lO(t),t!==null?YS(t):null}function YS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YS(t);if(e!==null)return e;t=t.sibling}return null}var XS=nn.unstable_scheduleCallback,V_=nn.unstable_cancelCallback,uO=nn.unstable_shouldYield,cO=nn.unstable_requestPaint,Ye=nn.unstable_now,hO=nn.unstable_getCurrentPriorityLevel,Qg=nn.unstable_ImmediatePriority,JS=nn.unstable_UserBlockingPriority,Kc=nn.unstable_NormalPriority,dO=nn.unstable_LowPriority,ZS=nn.unstable_IdlePriority,Xh=null,Mn=null;function fO(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Xh,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:gO,pO=Math.log,mO=Math.LN2;function gO(t){return t>>>=0,t===0?32:31-(pO(t)/mO|0)|0}var qu=64,Ku=4194304;function Ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ma(a):(s&=o,s!==0&&(r=Ma(s)))}else o=n&~i,o!==0?r=Ma(o):s!==0&&(r=Ma(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function yO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eI(){var t=qu;return qu<<=1,!(qu&4194240)&&(qu=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function _O(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function tI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nI,Xg,rI,iI,sI,tm=!1,Gu=[],Zr=null,ei=null,ti=null,gl=new Map,yl=new Map,$r=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L_(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(e.pointerId)}}function Aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nu(e),e!==null&&Xg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EO(t,e,n,r,i){switch(e){case"focusin":return Zr=Aa(Zr,t,e,n,r,i),!0;case"dragenter":return ei=Aa(ei,t,e,n,r,i),!0;case"mouseover":return ti=Aa(ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gl.set(s,Aa(gl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yl.set(s,Aa(yl.get(s)||null,t,e,n,r,i)),!0}return!1}function oI(t){var e=Wi(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=GS(n),e!==null){t.blockedOn=e,sI(t.priority,function(){rI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yp=r,n.target.dispatchEvent(r),Yp=null}else return e=nu(n),e!==null&&Xg(e),t.blockedOn=n,!1;e.shift()}return!0}function M_(t,e,n){_c(t)&&n.delete(e)}function TO(){tm=!1,Zr!==null&&_c(Zr)&&(Zr=null),ei!==null&&_c(ei)&&(ei=null),ti!==null&&_c(ti)&&(ti=null),gl.forEach(M_),yl.forEach(M_)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,TO)))}function vl(t){function e(i){return Pa(i,t)}if(0<Gu.length){Pa(Gu[0],t);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&Pa(Zr,t),ei!==null&&Pa(ei,t),ti!==null&&Pa(ti,t),gl.forEach(e),yl.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)oI(n),n.blockedOn===null&&$r.shift()}var ho=Ar.ReactCurrentBatchConfig,Qc=!0;function SO(t,e,n,r){var i=Te,s=ho.transition;ho.transition=null;try{Te=1,Jg(t,e,n,r)}finally{Te=i,ho.transition=s}}function IO(t,e,n,r){var i=Te,s=ho.transition;ho.transition=null;try{Te=4,Jg(t,e,n,r)}finally{Te=i,ho.transition=s}}function Jg(t,e,n,r){if(Qc){var i=nm(t,e,n,r);if(i===null)Bf(t,e,r,Yc,n),L_(t,r);else if(EO(i,t,e,n,r))r.stopPropagation();else if(L_(t,r),e&4&&-1<wO.indexOf(t)){for(;i!==null;){var s=nu(i);if(s!==null&&nI(s),s=nm(t,e,n,r),s===null&&Bf(t,e,r,Yc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bf(t,e,r,null,n)}}var Yc=null;function nm(t,e,n,r){if(Yc=null,t=Gg(r),t=Wi(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function aI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hO()){case Qg:return 1;case JS:return 4;case Kc:case dO:return 16;case ZS:return 536870912;default:return 16}default:return 16}}var Kr=null,Zg=null,wc=null;function lI(){if(wc)return wc;var t,e=Zg,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wc=i.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qu(){return!0}function F_(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qu:F_,this.isPropagationStopped=F_,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ey=an(Bo),tu=Be({},Bo,{view:0,detail:0}),AO=an(tu),Nf,Df,Ca,Jh=Be({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(Nf=t.screenX-Ca.screenX,Df=t.screenY-Ca.screenY):Df=Nf=0,Ca=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),j_=an(Jh),PO=Be({},Jh,{dataTransfer:0}),CO=an(PO),RO=Be({},tu,{relatedTarget:0}),Vf=an(RO),xO=Be({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),bO=an(xO),kO=Be({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OO=an(kO),NO=Be({},Bo,{data:0}),U_=an(NO),DO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LO[t])?!!e[t]:!1}function ty(){return MO}var FO=Be({},tu,{key:function(t){if(t.key){var e=DO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jO=an(FO),UO=Be({},Jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$_=an(UO),$O=Be({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),BO=an($O),zO=Be({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HO=an(zO),WO=Be({},Jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=an(WO),KO=[9,13,27,32],ny=gr&&"CompositionEvent"in window,Qa=null;gr&&"documentMode"in document&&(Qa=document.documentMode);var GO=gr&&"TextEvent"in window&&!Qa,uI=gr&&(!ny||Qa&&8<Qa&&11>=Qa),B_=" ",z_=!1;function cI(t,e){switch(t){case"keyup":return KO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function QO(t,e){switch(t){case"compositionend":return hI(e);case"keypress":return e.which!==32?null:(z_=!0,B_);case"textInput":return t=e.data,t===B_&&z_?null:t;default:return null}}function YO(t,e){if(Ws)return t==="compositionend"||!ny&&cI(t,e)?(t=lI(),wc=Zg=Kr=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uI&&e.locale!=="ko"?null:e.data;default:return null}}var XO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XO[t.type]:e==="textarea"}function dI(t,e,n,r){zS(r),e=Xc(e,"onChange"),0<e.length&&(n=new ey("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ya=null,_l=null;function JO(t){SI(t,0)}function Zh(t){var e=Gs(t);if(LS(e))return t}function ZO(t,e){if(t==="change")return e}var fI=!1;if(gr){var Lf;if(gr){var Mf="oninput"in document;if(!Mf){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Mf=typeof W_.oninput=="function"}Lf=Mf}else Lf=!1;fI=Lf&&(!document.documentMode||9<document.documentMode)}function q_(){Ya&&(Ya.detachEvent("onpropertychange",pI),_l=Ya=null)}function pI(t){if(t.propertyName==="value"&&Zh(_l)){var e=[];dI(e,_l,t,Gg(t)),KS(JO,e)}}function e2(t,e,n){t==="focusin"?(q_(),Ya=e,_l=n,Ya.attachEvent("onpropertychange",pI)):t==="focusout"&&q_()}function t2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zh(_l)}function n2(t,e){if(t==="click")return Zh(e)}function r2(t,e){if(t==="input"||t==="change")return Zh(e)}function i2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:i2;function wl(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fp.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function K_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G_(t,e){var n=K_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K_(n)}}function mI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gI(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s2(t){var e=gI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mI(n.ownerDocument.documentElement,n)){if(r!==null&&ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=G_(n,s);var o=G_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o2=gr&&"documentMode"in document&&11>=document.documentMode,qs=null,rm=null,Xa=null,im=!1;function Q_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;im||qs==null||qs!==Hc(r)||(r=qs,"selectionStart"in r&&ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xa&&wl(Xa,r)||(Xa=r,r=Xc(rm,"onSelect"),0<r.length&&(e=new ey("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qs)))}function Yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},Ff={},yI={};gr&&(yI=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function ed(t){if(Ff[t])return Ff[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yI)return Ff[t]=e[n];return t}var vI=ed("animationend"),_I=ed("animationiteration"),wI=ed("animationstart"),EI=ed("transitionend"),TI=new Map,Y_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){TI.set(t,e),_s(e,[t])}for(var jf=0;jf<Y_.length;jf++){var Uf=Y_[jf],a2=Uf.toLowerCase(),l2=Uf[0].toUpperCase()+Uf.slice(1);Ti(a2,"on"+l2)}Ti(vI,"onAnimationEnd");Ti(_I,"onAnimationIteration");Ti(wI,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(EI,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function X_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aO(r,e,void 0,t),t.currentTarget=null}function SI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;X_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;X_(i,a,c),s=l}}}if(qc)throw t=Zp,qc=!1,Zp=null,t}function Ne(t,e){var n=e[um];n===void 0&&(n=e[um]=new Set);var r=t+"__bubble";n.has(r)||(II(e,t,2,!1),n.add(r))}function $f(t,e,n){var r=0;e&&(r|=4),II(n,t,r,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function El(t){if(!t[Xu]){t[Xu]=!0,kS.forEach(function(n){n!=="selectionchange"&&(u2.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,$f("selectionchange",!1,e))}}function II(t,e,n,r){switch(aI(e)){case 1:var i=SO;break;case 4:i=IO;break;default:i=Jg}n=i.bind(null,e,n,t),i=void 0,!Jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KS(function(){var c=s,h=Gg(n),d=[];e:{var p=TI.get(t);if(p!==void 0){var y=ey,w=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":y=jO;break;case"focusin":w="focus",y=Vf;break;case"focusout":w="blur",y=Vf;break;case"beforeblur":case"afterblur":y=Vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=j_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=CO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=BO;break;case vI:case _I:case wI:y=bO;break;case EI:y=HO;break;case"scroll":y=AO;break;case"wheel":y=qO;break;case"copy":case"cut":case"paste":y=OO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=$_}var T=(e&4)!==0,I=!T&&t==="scroll",v=T?p!==null?p+"Capture":null:p;T=[];for(var g=c,E;g!==null;){E=g;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,v!==null&&(k=ml(g,v),k!=null&&T.push(Tl(g,k,E)))),I)break;g=g.return}0<T.length&&(p=new y(p,w,null,n,h),d.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Yp&&(w=n.relatedTarget||n.fromElement)&&(Wi(w)||w[yr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?Wi(w):null,w!==null&&(I=ws(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(T=j_,k="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(T=$_,k="onPointerLeave",v="onPointerEnter",g="pointer"),I=y==null?p:Gs(y),E=w==null?p:Gs(w),p=new T(k,g+"leave",y,n,h),p.target=I,p.relatedTarget=E,k=null,Wi(h)===c&&(T=new T(v,g+"enter",w,n,h),T.target=E,T.relatedTarget=I,k=T),I=k,y&&w)t:{for(T=y,v=w,g=0,E=T;E;E=Fs(E))g++;for(E=0,k=v;k;k=Fs(k))E++;for(;0<g-E;)T=Fs(T),g--;for(;0<E-g;)v=Fs(v),E--;for(;g--;){if(T===v||v!==null&&T===v.alternate)break t;T=Fs(T),v=Fs(v)}T=null}else T=null;y!==null&&J_(d,p,y,T,!1),w!==null&&I!==null&&J_(d,I,w,T,!0)}}e:{if(p=c?Gs(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var V=ZO;else if(H_(p))if(fI)V=r2;else{V=t2;var L=e2}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=n2);if(V&&(V=V(t,c))){dI(d,V,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Wp(p,"number",p.value)}switch(L=c?Gs(c):window,t){case"focusin":(H_(L)||L.contentEditable==="true")&&(qs=L,rm=c,Xa=null);break;case"focusout":Xa=rm=qs=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Q_(d,n,h);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":Q_(d,n,h)}var A;if(ny)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ws?cI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(uI&&n.locale!=="ko"&&(Ws||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ws&&(A=lI()):(Kr=h,Zg="value"in Kr?Kr.value:Kr.textContent,Ws=!0)),L=Xc(c,_),0<L.length&&(_=new U_(_,t,null,n,h),d.push({event:_,listeners:L}),A?_.data=A:(A=hI(n),A!==null&&(_.data=A)))),(A=GO?QO(t,n):YO(t,n))&&(c=Xc(c,"onBeforeInput"),0<c.length&&(h=new U_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=A))}SI(d,e)})}function Tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ml(t,n),s!=null&&r.unshift(Tl(t,s,i)),s=ml(t,e),s!=null&&r.push(Tl(t,s,i))),t=t.return}return r}function Fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ml(n,s),l!=null&&o.unshift(Tl(n,l,a))):i||(l=ml(n,s),l!=null&&o.push(Tl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(c2,`
`).replace(h2,"")}function Ju(t,e,n){if(e=Z_(e),Z_(t)!==e&&n)throw Error(B(425))}function Jc(){}var sm=null,om=null;function am(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(t){return ew.resolve(null).then(t).catch(p2)}:lm;function p2(t){setTimeout(function(){throw t})}function zf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vl(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+zo,Sl="__reactProps$"+zo,yr="__reactContainer$"+zo,um="__reactEvents$"+zo,m2="__reactListeners$"+zo,g2="__reactHandles$"+zo;function Wi(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tw(t);t!==null;){if(n=t[Vn])return n;t=tw(t)}return e}t=n,n=t.parentNode}return null}function nu(t){return t=t[Vn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function td(t){return t[Sl]||null}var cm=[],Qs=-1;function Si(t){return{current:t}}function Ve(t){0>Qs||(t.current=cm[Qs],cm[Qs]=null,Qs--)}function be(t,e){Qs++,cm[Qs]=t.current,t.current=e}var pi={},Ot=Si(pi),Ht=Si(!1),ss=pi;function wo(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function Zc(){Ve(Ht),Ve(Ot)}function nw(t,e,n){if(Ot.current!==pi)throw Error(B(168));be(Ot,e),be(Ht,n)}function AI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,eO(t)||"Unknown",i));return Be({},n,r)}function eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,ss=Ot.current,be(Ot,t),be(Ht,Ht.current),!0}function rw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=AI(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,Ve(Ht),Ve(Ot),be(Ot,t)):Ve(Ht),be(Ht,n)}var tr=null,nd=!1,Hf=!1;function PI(t){tr===null?tr=[t]:tr.push(t)}function y2(t){nd=!0,PI(t)}function Ii(){if(!Hf&&tr!==null){Hf=!0;var t=0,e=Te;try{var n=tr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tr=null,nd=!1}catch(i){throw tr!==null&&(tr=tr.slice(t+1)),XS(Qg,Ii),i}finally{Te=e,Hf=!1}}return null}var Ys=[],Xs=0,th=null,nh=0,fn=[],pn=0,os=null,rr=1,ir="";function ji(t,e){Ys[Xs++]=nh,Ys[Xs++]=th,th=t,nh=e}function CI(t,e,n){fn[pn++]=rr,fn[pn++]=ir,fn[pn++]=os,os=t;var r=rr;t=ir;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rr=1<<32-Cn(e)+i|n<<i|r,ir=s+t}else rr=1<<s|n<<i|r,ir=t}function iy(t){t.return!==null&&(ji(t,1),CI(t,1,0))}function sy(t){for(;t===th;)th=Ys[--Xs],Ys[Xs]=null,nh=Ys[--Xs],Ys[Xs]=null;for(;t===os;)os=fn[--pn],fn[pn]=null,ir=fn[--pn],fn[pn]=null,rr=fn[--pn],fn[pn]=null}var en=null,Jt=null,Me=!1,An=null;function RI(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dm(t){if(Me){var e=Jt;if(e){var n=e;if(!iw(t,e)){if(hm(t))throw Error(B(418));e=ni(n.nextSibling);var r=en;e&&iw(t,e)?RI(r,n):(t.flags=t.flags&-4097|2,Me=!1,en=t)}}else{if(hm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Me=!1,en=t}}}function sw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Zu(t){if(t!==en)return!1;if(!Me)return sw(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!am(t.type,t.memoizedProps)),e&&(e=Jt)){if(hm(t))throw xI(),Error(B(418));for(;e;)RI(t,e),e=ni(e.nextSibling)}if(sw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?ni(t.stateNode.nextSibling):null;return!0}function xI(){for(var t=Jt;t;)t=ni(t.nextSibling)}function Eo(){Jt=en=null,Me=!1}function oy(t){An===null?An=[t]:An.push(t)}var v2=Ar.ReactCurrentBatchConfig;function Ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ec(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ow(t){var e=t._init;return e(t._payload)}function bI(t){function e(v,g){if(t){var E=v.deletions;E===null?(v.deletions=[g],v.flags|=16):E.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=oi(v,g),v.index=0,v.sibling=null,v}function s(v,g,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<g?(v.flags|=2,g):E):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,E,k){return g===null||g.tag!==6?(g=Xf(E,v.mode,k),g.return=v,g):(g=i(g,E),g.return=v,g)}function l(v,g,E,k){var V=E.type;return V===Hs?h(v,g,E.props.children,k,E.key):g!==null&&(g.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Fr&&ow(V)===g.type)?(k=i(g,E.props),k.ref=Ra(v,g,E),k.return=v,k):(k=Rc(E.type,E.key,E.props,null,v.mode,k),k.ref=Ra(v,g,E),k.return=v,k)}function c(v,g,E,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=Jf(E,v.mode,k),g.return=v,g):(g=i(g,E.children||[]),g.return=v,g)}function h(v,g,E,k,V){return g===null||g.tag!==7?(g=Zi(E,v.mode,k,V),g.return=v,g):(g=i(g,E),g.return=v,g)}function d(v,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xf(""+g,v.mode,E),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zu:return E=Rc(g.type,g.key,g.props,null,v.mode,E),E.ref=Ra(v,null,g),E.return=v,E;case zs:return g=Jf(g,v.mode,E),g.return=v,g;case Fr:var k=g._init;return d(v,k(g._payload),E)}if(La(g)||Sa(g))return g=Zi(g,v.mode,E,null),g.return=v,g;ec(v,g)}return null}function p(v,g,E,k){var V=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return V!==null?null:a(v,g,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zu:return E.key===V?l(v,g,E,k):null;case zs:return E.key===V?c(v,g,E,k):null;case Fr:return V=E._init,p(v,g,V(E._payload),k)}if(La(E)||Sa(E))return V!==null?null:h(v,g,E,k,null);ec(v,E)}return null}function y(v,g,E,k,V){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(E)||null,a(g,v,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zu:return v=v.get(k.key===null?E:k.key)||null,l(g,v,k,V);case zs:return v=v.get(k.key===null?E:k.key)||null,c(g,v,k,V);case Fr:var L=k._init;return y(v,g,E,L(k._payload),V)}if(La(k)||Sa(k))return v=v.get(E)||null,h(g,v,k,V,null);ec(g,k)}return null}function w(v,g,E,k){for(var V=null,L=null,A=g,_=g=0,P=null;A!==null&&_<E.length;_++){A.index>_?(P=A,A=null):P=A.sibling;var C=p(v,A,E[_],k);if(C===null){A===null&&(A=P);break}t&&A&&C.alternate===null&&e(v,A),g=s(C,g,_),L===null?V=C:L.sibling=C,L=C,A=P}if(_===E.length)return n(v,A),Me&&ji(v,_),V;if(A===null){for(;_<E.length;_++)A=d(v,E[_],k),A!==null&&(g=s(A,g,_),L===null?V=A:L.sibling=A,L=A);return Me&&ji(v,_),V}for(A=r(v,A);_<E.length;_++)P=y(A,v,_,E[_],k),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?_:P.key),g=s(P,g,_),L===null?V=P:L.sibling=P,L=P);return t&&A.forEach(function(x){return e(v,x)}),Me&&ji(v,_),V}function T(v,g,E,k){var V=Sa(E);if(typeof V!="function")throw Error(B(150));if(E=V.call(E),E==null)throw Error(B(151));for(var L=V=null,A=g,_=g=0,P=null,C=E.next();A!==null&&!C.done;_++,C=E.next()){A.index>_?(P=A,A=null):P=A.sibling;var x=p(v,A,C.value,k);if(x===null){A===null&&(A=P);break}t&&A&&x.alternate===null&&e(v,A),g=s(x,g,_),L===null?V=x:L.sibling=x,L=x,A=P}if(C.done)return n(v,A),Me&&ji(v,_),V;if(A===null){for(;!C.done;_++,C=E.next())C=d(v,C.value,k),C!==null&&(g=s(C,g,_),L===null?V=C:L.sibling=C,L=C);return Me&&ji(v,_),V}for(A=r(v,A);!C.done;_++,C=E.next())C=y(A,v,_,C.value,k),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?_:C.key),g=s(C,g,_),L===null?V=C:L.sibling=C,L=C);return t&&A.forEach(function(O){return e(v,O)}),Me&&ji(v,_),V}function I(v,g,E,k){if(typeof E=="object"&&E!==null&&E.type===Hs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zu:e:{for(var V=E.key,L=g;L!==null;){if(L.key===V){if(V=E.type,V===Hs){if(L.tag===7){n(v,L.sibling),g=i(L,E.props.children),g.return=v,v=g;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Fr&&ow(V)===L.type){n(v,L.sibling),g=i(L,E.props),g.ref=Ra(v,L,E),g.return=v,v=g;break e}n(v,L);break}else e(v,L);L=L.sibling}E.type===Hs?(g=Zi(E.props.children,v.mode,k,E.key),g.return=v,v=g):(k=Rc(E.type,E.key,E.props,null,v.mode,k),k.ref=Ra(v,g,E),k.return=v,v=k)}return o(v);case zs:e:{for(L=E.key;g!==null;){if(g.key===L)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(v,g.sibling),g=i(g,E.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Jf(E,v.mode,k),g.return=v,v=g}return o(v);case Fr:return L=E._init,I(v,g,L(E._payload),k)}if(La(E))return w(v,g,E,k);if(Sa(E))return T(v,g,E,k);ec(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,E),g.return=v,v=g):(n(v,g),g=Xf(E,v.mode,k),g.return=v,v=g),o(v)):n(v,g)}return I}var To=bI(!0),kI=bI(!1),rh=Si(null),ih=null,Js=null,ay=null;function ly(){ay=Js=ih=null}function uy(t){var e=rh.current;Ve(rh),t._currentValue=e}function fm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){ih=t,ay=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(ay!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(ih===null)throw Error(B(308));Js=t,ih.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var qi=null;function cy(t){qi===null?qi=[t]:qi.push(t)}function OI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cy(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jr=!1;function hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,cy(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function Tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yg(t,n)}}function aw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sh(t,e,n,r){var i=t.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(p=e,y=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){d=w.call(y,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,p=typeof w=="function"?w.call(y,d,p):w,p==null)break e;d=Be({},d,p);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,l=d):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=d}}function lw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ru={},Fn=Si(ru),Il=Si(ru),Al=Si(ru);function Ki(t){if(t===ru)throw Error(B(174));return t}function dy(t,e){switch(be(Al,e),be(Il,t),be(Fn,ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}Ve(Fn),be(Fn,e)}function So(){Ve(Fn),Ve(Il),Ve(Al)}function DI(t){Ki(Al.current);var e=Ki(Fn.current),n=Kp(e,t.type);e!==n&&(be(Il,t),be(Fn,n))}function fy(t){Il.current===t&&(Ve(Fn),Ve(Il))}var je=Si(0);function oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function py(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var Sc=Ar.ReactCurrentDispatcher,qf=Ar.ReactCurrentBatchConfig,as=0,$e=null,nt=null,lt=null,ah=!1,Ja=!1,Pl=0,_2=0;function St(){throw Error(B(321))}function my(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function gy(t,e,n,r,i,s){if(as=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sc.current=t===null||t.memoizedState===null?S2:I2,t=n(r,i),Ja){s=0;do{if(Ja=!1,Pl=0,25<=s)throw Error(B(301));s+=1,lt=nt=null,e.updateQueue=null,Sc.current=A2,t=n(r,i)}while(Ja)}if(Sc.current=lh,e=nt!==null&&nt.next!==null,as=0,lt=nt=$e=null,ah=!1,e)throw Error(B(300));return t}function yy(){var t=Pl!==0;return Pl=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=t:lt=lt.next=t,lt}function wn(){if(nt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=lt===null?$e.memoizedState:lt.next;if(e!==null)lt=e,nt=t;else{if(t===null)throw Error(B(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?$e.memoizedState=lt=t:lt=lt.next=t}return lt}function Cl(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=wn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((as&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=h,ls|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,xn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=wn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VI(){}function LI(t,e){var n=$e,r=wn(),i=e(),s=!xn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,vy(jI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Rl(9,FI.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(B(349));as&30||MI(n,e,i)}return i}function MI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FI(t,e,n,r){e.value=n,e.getSnapshot=r,UI(e)&&$I(t)}function jI(t,e,n){return n(function(){UI(e)&&$I(t)})}function UI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function $I(t){var e=vr(t,1);e!==null&&Rn(e,t,1,-1)}function uw(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:t},e.queue=t,t=t.dispatch=T2.bind(null,$e,t),[e.memoizedState,t]}function Rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BI(){return wn().memoizedState}function Ic(t,e,n,r){var i=Nn();$e.flags|=t,i.memoizedState=Rl(1|e,n,void 0,r===void 0?null:r)}function rd(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&my(r,o.deps)){i.memoizedState=Rl(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Rl(1|e,n,s,r)}function cw(t,e){return Ic(8390656,8,t,e)}function vy(t,e){return rd(2048,8,t,e)}function zI(t,e){return rd(4,2,t,e)}function HI(t,e){return rd(4,4,t,e)}function WI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qI(t,e,n){return n=n!=null?n.concat([t]):null,rd(4,4,WI.bind(null,e,t),n)}function _y(){}function KI(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GI(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&my(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QI(t,e,n){return as&21?(xn(n,e)||(n=eI(),$e.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function w2(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=qf.transition;qf.transition={};try{t(!1),e()}finally{Te=n,qf.transition=r}}function YI(){return wn().memoizedState}function E2(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XI(t))JI(e,n);else if(n=OI(t,e,n,r),n!==null){var i=Mt();Rn(n,t,r,i),ZI(n,e,r)}}function T2(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XI(t))JI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xn(a,o)){var l=e.interleaved;l===null?(i.next=i,cy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=OI(t,e,i,r),n!==null&&(i=Mt(),Rn(n,t,r,i),ZI(n,e,r))}}function XI(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function JI(t,e){Ja=ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yg(t,n)}}var lh={readContext:_n,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},S2={readContext:_n,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:cw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,WI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E2.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:uw,useDebugValue:_y,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=uw(!1),e=t[0];return t=w2.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Nn();if(Me){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ut===null)throw Error(B(349));as&30||MI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cw(jI.bind(null,r,s,t),[t]),r.flags|=2048,Rl(9,FI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=ut.identifierPrefix;if(Me){var n=ir,r=rr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I2={readContext:_n,useCallback:KI,useContext:_n,useEffect:vy,useImperativeHandle:qI,useInsertionEffect:zI,useLayoutEffect:HI,useMemo:GI,useReducer:Kf,useRef:BI,useState:function(){return Kf(Cl)},useDebugValue:_y,useDeferredValue:function(t){var e=wn();return QI(e,nt.memoizedState,t)},useTransition:function(){var t=Kf(Cl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:VI,useSyncExternalStore:LI,useId:YI,unstable_isNewReconciler:!1},A2={readContext:_n,useCallback:KI,useContext:_n,useEffect:vy,useImperativeHandle:qI,useInsertionEffect:zI,useLayoutEffect:HI,useMemo:GI,useReducer:Gf,useRef:BI,useState:function(){return Gf(Cl)},useDebugValue:_y,useDeferredValue:function(t){var e=wn();return nt===null?e.memoizedState=t:QI(e,nt.memoizedState,t)},useTransition:function(){var t=Gf(Cl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:VI,useSyncExternalStore:LI,useId:YI,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=si(t),s=ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Rn(e,t,i,r),Tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=si(t),s=ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ri(t,s,i),e!==null&&(Rn(e,t,i,r),Tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=si(t),i=ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=ri(t,i,r),e!==null&&(Rn(e,t,r,n),Tc(e,t,r))}};function hw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wl(n,r)||!wl(i,s):!0}function eA(t,e,n){var r=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Wt(e)?ss:Ot.current,r=e.contextTypes,s=(r=r!=null)?wo(t,i):pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function mm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Wt(e)?ss:Ot.current,i.context=wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&id.enqueueReplaceState(i,i.state,null),sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=Zk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P2=typeof WeakMap=="function"?WeakMap:Map;function tA(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ch||(ch=!0,Pm=r),gm(t,e)},n}function nA(t,e,n){n=ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gm(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U2.bind(null,t,e,n),e.then(t,t))}function pw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var C2=Ar.ReactCurrentOwner,zt=!1;function Vt(t,e,n,r){e.child=t===null?kI(e,null,n,r):To(e,t.child,n,r)}function gw(t,e,n,r,i){n=n.render;var s=e.ref;return fo(e,i),r=gy(t,e,n,r,s,i),n=yy(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Me&&n&&iy(e),e.flags|=1,Vt(t,e,r,i),e.child)}function yw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Cy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rA(t,e,s,r,i)):(t=Rc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(o,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=oi(s,r),t.ref=e.ref,t.return=e,e.child=t}function rA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wl(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return ym(t,e,n,r,i)}function iA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(eo,Xt),Xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(eo,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(eo,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,be(eo,Xt),Xt|=r;return Vt(t,e,i,n),e.child}function sA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ym(t,e,n,r,i){var s=Wt(n)?ss:Ot.current;return s=wo(e,s),fo(e,i),n=gy(t,e,n,r,s,i),r=yy(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Me&&r&&iy(e),e.flags|=1,Vt(t,e,n,i),e.child)}function vw(t,e,n,r,i){if(Wt(n)){var s=!0;eh(e)}else s=!1;if(fo(e,i),e.stateNode===null)Ac(t,e),eA(e,n,r),mm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Wt(n)?ss:Ot.current,c=wo(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dw(e,o,r,c),jr=!1;var p=e.memoizedState;o.state=p,sh(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ht.current||jr?(typeof h=="function"&&(pm(e,n,h,r),l=e.memoizedState),(a=jr||hw(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Wt(n)?ss:Ot.current,l=wo(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&dw(e,o,r,l),jr=!1,p=e.memoizedState,o.state=p,sh(e,r,o,i);var w=e.memoizedState;a!==d||p!==w||Ht.current||jr?(typeof y=="function"&&(pm(e,n,y,r),w=e.memoizedState),(c=jr||hw(e,n,c,r,p,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return vm(t,e,n,r,s,i)}function vm(t,e,n,r,i,s){sA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rw(e,n,!1),_r(t,e,s);r=e.stateNode,C2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,s),e.child=To(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&rw(e,n,!0),e.child}function oA(t){var e=t.stateNode;e.pendingContext?nw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nw(t,e.context,!1),dy(t,e.containerInfo)}function _w(t,e,n,r,i){return Eo(),oy(i),e.flags|=256,Vt(t,e,n,r),e.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function aA(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),be(je,i&1),t===null)return dm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ad(o,r,0,null),t=Zi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=wm(n),e.memoizedState=_m,t):wy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return R2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oi(a,s):(s=Zi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_m,r}return s=t.child,t=s.sibling,r=oi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wy(t,e){return e=ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tc(t,e,n,r){return r!==null&&oy(r),To(e,t.child,null,n),t=wy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qf(Error(B(422))),tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ad({mode:"visible",children:r.children},i,0,null),s=Zi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=wm(o),e.memoizedState=_m,s);if(!(e.mode&1))return tc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Qf(s,r,void 0),tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(t,i),Rn(r,t,i,-1))}return Py(),r=Qf(Error(B(421))),tc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=ni(i.nextSibling),en=e,Me=!0,An=null,t!==null&&(fn[pn++]=rr,fn[pn++]=ir,fn[pn++]=os,rr=t.id,ir=t.overflow,os=e),e=wy(e,r.children),e.flags|=4096,e)}function ww(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fm(t.return,e,n)}function Yf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ww(t,n,e);else if(t.tag===19)ww(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yf(e,!0,n,null,s);break;case"together":Yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x2(t,e,n){switch(e.tag){case 3:oA(e),Eo();break;case 5:DI(e);break;case 1:Wt(e.type)&&eh(e);break;case 4:dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;be(rh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?aA(t,e,n):(be(je,je.current&1),t=_r(t,e,n),t!==null?t.sibling:null);be(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,iA(t,e,n)}return _r(t,e,n)}var uA,Em,cA,hA;uA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Em=function(){};cA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ki(Fn.current);var s=null;switch(n){case"input":i=zp(t,i),r=zp(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=qp(t,i),r=qp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}Gp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hA=function(t,e,n,r){n!==r&&(e.flags|=4)};function xa(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b2(t,e,n){var r=e.pendingProps;switch(sy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Wt(e.type)&&Zc(),It(e),null;case 3:return r=e.stateNode,So(),Ve(Ht),Ve(Ot),py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(xm(An),An=null))),Em(t,e),It(e),null;case 5:fy(e);var i=Ki(Al.current);if(n=e.type,t!==null&&e.stateNode!=null)cA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return It(e),null}if(t=Ki(Fn.current),Zu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[Sl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Fa.length;i++)Ne(Fa[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":x_(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":k_(r,s),Ne("invalid",r)}Gp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ju(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ju(r.textContent,a,t),i=["children",""+a]):fl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Hu(r),b_(r,s,!0);break;case"textarea":Hu(r),O_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[Sl]=r,uA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qp(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fa.length;i++)Ne(Fa[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":x_(t,r),i=zp(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":k_(t,r),i=qp(t,r),Ne("invalid",t);break;default:i=r}Gp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&US(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pl(t,l):typeof l=="number"&&pl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&Hg(t,s,l,o))}switch(n){case"input":Hu(t),b_(t,r,!1);break;case"textarea":Hu(t),O_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)hA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ki(Al.current),Ki(Fn.current),Zu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Ju(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ju(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return It(e),null;case 13:if(Ve(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Jt!==null&&e.mode&1&&!(e.flags&128))xI(),Eo(),e.flags|=98560,s=!1;else if(s=Zu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Vn]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else An!==null&&(xm(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?it===0&&(it=3):Py())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return So(),Em(t,e),t===null&&El(e.stateNode.containerInfo),It(e),null;case 10:return uy(e.type._context),It(e),null;case 17:return Wt(e.type)&&Zc(),It(e),null;case 19:if(Ve(je),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xa(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oh(t),o!==null){for(e.flags|=128,xa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>Ao&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=oh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return It(e),null}else 2*Ye()-s.renderingStartTime>Ao&&n!==1073741824&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=je.current,be(je,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return Ay(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xt&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function k2(t,e){switch(sy(e),e.tag){case 1:return Wt(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),Ve(Ht),Ve(Ot),py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fy(e),null;case 13:if(Ve(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(je),null;case 4:return So(),null;case 10:return uy(e.type._context),null;case 22:case 23:return Ay(),null;case 24:return null;default:return null}}var nc=!1,Rt=!1,O2=typeof WeakSet=="function"?WeakSet:Set,q=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Tm(t,e,n){try{n()}catch(r){We(t,e,r)}}var Ew=!1;function N2(t,e){if(sm=Qc,t=gI(),ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(om={focusedElem:t,selectionRange:n},Qc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,I=w.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:Sn(e.type,T),I);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){We(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return w=Ew,Ew=!1,w}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tm(e,n,s)}i=i.next}while(i!==r)}}function sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dA(t){var e=t.alternate;e!==null&&(t.alternate=null,dA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Sl],delete e[um],delete e[m2],delete e[g2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fA(t){return t.tag===5||t.tag===3||t.tag===4}function Tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}function Am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Am(t,e,n),t=t.sibling;t!==null;)Am(t,e,n),t=t.sibling}var dt=null,In=!1;function Dr(t,e,n){for(n=n.child;n!==null;)pA(t,e,n),n=n.sibling}function pA(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Xh,n)}catch{}switch(n.tag){case 5:Rt||Zs(n,e);case 6:var r=dt,i=In;dt=null,Dr(t,e,n),dt=r,In=i,dt!==null&&(In?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(In?(t=dt,n=n.stateNode,t.nodeType===8?zf(t.parentNode,n):t.nodeType===1&&zf(t,n),vl(t)):zf(dt,n.stateNode));break;case 4:r=dt,i=In,dt=n.stateNode.containerInfo,In=!0,Dr(t,e,n),dt=r,In=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tm(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!Rt&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,Dr(t,e,n),Rt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function Sw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O2),e.forEach(function(r){var i=B2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,In=!1;break e;case 3:dt=a.stateNode.containerInfo,In=!0;break e;case 4:dt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(dt===null)throw Error(B(160));pA(s,o,i),dt=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mA(e,t),e=e.sibling}function mA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),On(t),r&4){try{Za(3,t,t.return),sd(3,t)}catch(T){We(t,t.return,T)}try{Za(5,t,t.return)}catch(T){We(t,t.return,T)}}break;case 1:Tn(e,t),On(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Tn(e,t),On(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{pl(i,"")}catch(T){We(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MS(i,s),Qp(a,o);var c=Qp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?BS(i,d):h==="dangerouslySetInnerHTML"?US(i,d):h==="children"?pl(i,d):Hg(i,h,d,c)}switch(a){case"input":Hp(i,s);break;case"textarea":FS(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?lo(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?lo(i,!!s.multiple,s.defaultValue,!0):lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sl]=s}catch(T){We(t,t.return,T)}}break;case 6:if(Tn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){We(t,t.return,T)}}break;case 3:if(Tn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(e.containerInfo)}catch(T){We(t,t.return,T)}break;case 4:Tn(e,t),On(t);break;case 13:Tn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sy=Ye())),r&4&&Sw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(c=Rt)||h,Tn(e,t),Rt=c):Tn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(d=q=h;q!==null;){switch(p=q,y=p.child,p.tag){case 0:case 11:case 14:case 15:Za(4,p,p.return);break;case 1:Zs(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){We(r,n,T)}}break;case 5:Zs(p,p.return);break;case 22:if(p.memoizedState!==null){Aw(d);continue}}y!==null?(y.return=p,q=y):Aw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$S("display",o))}catch(T){We(t,t.return,T)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(T){We(t,t.return,T)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tn(e,t),On(t),r&4&&Sw(t);break;case 21:break;default:Tn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fA(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pl(i,""),r.flags&=-33);var s=Tw(t);Am(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Tw(t);Im(t,a,o);break;default:throw Error(B(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function D2(t,e,n){q=t,gA(t)}function gA(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rt;a=nc;var c=Rt;if(nc=o,(Rt=l)&&!c)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Pw(i):l!==null?(l.return=o,q=l):Pw(i);for(;s!==null;)q=s,gA(s),s=s.sibling;q=i,nc=a,Rt=c}Iw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Iw(t)}}function Iw(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&vl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Rt||e.flags&512&&Sm(e)}catch(p){We(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Aw(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Pw(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var s=e.return;try{Sm(e)}catch(l){We(e,s,l)}break;case 5:var o=e.return;try{Sm(e)}catch(l){We(e,o,l)}}}catch(l){We(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var V2=Math.ceil,uh=Ar.ReactCurrentDispatcher,Ey=Ar.ReactCurrentOwner,yn=Ar.ReactCurrentBatchConfig,ve=0,ut=null,et=null,yt=0,Xt=0,eo=Si(0),it=0,xl=null,ls=0,od=0,Ty=0,el=null,$t=null,Sy=0,Ao=1/0,Zn=null,ch=!1,Pm=null,ii=null,rc=!1,Gr=null,hh=0,tl=0,Cm=null,Pc=-1,Cc=0;function Mt(){return ve&6?Ye():Pc!==-1?Pc:Pc=Ye()}function si(t){return t.mode&1?ve&2&&yt!==0?yt&-yt:v2.transition!==null?(Cc===0&&(Cc=eI()),Cc):(t=Te,t!==0||(t=window.event,t=t===void 0?16:aI(t.type)),t):1}function Rn(t,e,n,r){if(50<tl)throw tl=0,Cm=null,Error(B(185));eu(t,n,r),(!(ve&2)||t!==ut)&&(t===ut&&(!(ve&2)&&(od|=n),it===4&&Br(t,yt)),qt(t,r),n===1&&ve===0&&!(e.mode&1)&&(Ao=Ye()+500,nd&&Ii()))}function qt(t,e){var n=t.callbackNode;vO(t,e);var r=Gc(t,t===ut?yt:0);if(r===0)n!==null&&V_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V_(n),e===1)t.tag===0?y2(Cw.bind(null,t)):PI(Cw.bind(null,t)),f2(function(){!(ve&6)&&Ii()}),n=null;else{switch(tI(r)){case 1:n=Qg;break;case 4:n=JS;break;case 16:n=Kc;break;case 536870912:n=ZS;break;default:n=Kc}n=IA(n,yA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yA(t,e){if(Pc=-1,Cc=0,ve&6)throw Error(B(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=Gc(t,t===ut?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dh(t,r);else{e=r;var i=ve;ve|=2;var s=_A();(ut!==t||yt!==e)&&(Zn=null,Ao=Ye()+500,Ji(t,e));do try{F2();break}catch(a){vA(t,a)}while(!0);ly(),uh.current=s,ve=i,et!==null?e=0:(ut=null,yt=0,e=it)}if(e!==0){if(e===2&&(i=em(t),i!==0&&(r=i,e=Rm(t,i))),e===1)throw n=xl,Ji(t,0),Br(t,r),qt(t,Ye()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!L2(i)&&(e=dh(t,r),e===2&&(s=em(t),s!==0&&(r=s,e=Rm(t,s))),e===1))throw n=xl,Ji(t,0),Br(t,r),qt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ui(t,$t,Zn);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=Sy+500-Ye(),10<e)){if(Gc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lm(Ui.bind(null,t,$t,Zn),e);break}Ui(t,$t,Zn);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V2(r/1960))-r,10<r){t.timeoutHandle=lm(Ui.bind(null,t,$t,Zn),r);break}Ui(t,$t,Zn);break;case 5:Ui(t,$t,Zn);break;default:throw Error(B(329))}}}return qt(t,Ye()),t.callbackNode===n?yA.bind(null,t):null}function Rm(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=dh(t,e),t!==2&&(e=$t,$t=n,e!==null&&xm(e)),t}function xm(t){$t===null?$t=t:$t.push.apply($t,t)}function L2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~Ty,e&=~od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Cw(t){if(ve&6)throw Error(B(327));po();var e=Gc(t,0);if(!(e&1))return qt(t,Ye()),null;var n=dh(t,e);if(t.tag!==0&&n===2){var r=em(t);r!==0&&(e=r,n=Rm(t,r))}if(n===1)throw n=xl,Ji(t,0),Br(t,e),qt(t,Ye()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ui(t,$t,Zn),qt(t,Ye()),null}function Iy(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Ao=Ye()+500,nd&&Ii())}}function us(t){Gr!==null&&Gr.tag===0&&!(ve&6)&&po();var e=ve;ve|=1;var n=yn.transition,r=Te;try{if(yn.transition=null,Te=1,t)return t()}finally{Te=r,yn.transition=n,ve=e,!(ve&6)&&Ii()}}function Ay(){Xt=eo.current,Ve(eo)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d2(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zc();break;case 3:So(),Ve(Ht),Ve(Ot),py();break;case 5:fy(r);break;case 4:So();break;case 13:Ve(je);break;case 19:Ve(je);break;case 10:uy(r.type._context);break;case 22:case 23:Ay()}n=n.return}if(ut=t,et=t=oi(t.current,null),yt=Xt=e,it=0,xl=null,Ty=od=ls=0,$t=el=null,qi!==null){for(e=0;e<qi.length;e++)if(n=qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qi=null}return t}function vA(t,e){do{var n=et;try{if(ly(),Sc.current=lh,ah){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ah=!1}if(as=0,lt=nt=$e=null,Ja=!1,Pl=0,Ey.current=null,n===null||n.return===null){it=1,xl=e,et=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=pw(o);if(y!==null){y.flags&=-257,mw(y,o,a,s,e),y.mode&1&&fw(s,c,e),e=y,l=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){fw(s,c,e),Py();break e}l=Error(B(426))}}else if(Me&&a.mode&1){var I=pw(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),mw(I,o,a,s,e),oy(Io(l,a));break e}}s=l=Io(l,a),it!==4&&(it=2),el===null?el=[s]:el.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=tA(s,l,e);aw(s,v);break e;case 1:a=l;var g=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ii===null||!ii.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=nA(s,a,e);aw(s,k);break e}}s=s.return}while(s!==null)}EA(n)}catch(V){e=V,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function _A(){var t=uh.current;return uh.current=lh,t===null?lh:t}function Py(){(it===0||it===3||it===2)&&(it=4),ut===null||!(ls&268435455)&&!(od&268435455)||Br(ut,yt)}function dh(t,e){var n=ve;ve|=2;var r=_A();(ut!==t||yt!==e)&&(Zn=null,Ji(t,e));do try{M2();break}catch(i){vA(t,i)}while(!0);if(ly(),ve=n,uh.current=r,et!==null)throw Error(B(261));return ut=null,yt=0,it}function M2(){for(;et!==null;)wA(et)}function F2(){for(;et!==null&&!uO();)wA(et)}function wA(t){var e=SA(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?EA(t):et=e,Ey.current=null}function EA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k2(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,et=null;return}}else if(n=b2(n,e,Xt),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);it===0&&(it=5)}function Ui(t,e,n){var r=Te,i=yn.transition;try{yn.transition=null,Te=1,j2(t,e,n,r)}finally{yn.transition=i,Te=r}return null}function j2(t,e,n,r){do po();while(Gr!==null);if(ve&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_O(t,s),t===ut&&(et=ut=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rc||(rc=!0,IA(Kc,function(){return po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=Te;Te=1;var a=ve;ve|=4,Ey.current=null,N2(t,n),mA(n,t),s2(om),Qc=!!sm,om=sm=null,t.current=n,D2(n),cO(),ve=a,Te=o,yn.transition=s}else t.current=n;if(rc&&(rc=!1,Gr=t,hh=i),s=t.pendingLanes,s===0&&(ii=null),fO(n.stateNode),qt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ch)throw ch=!1,t=Pm,Pm=null,t;return hh&1&&t.tag!==0&&po(),s=t.pendingLanes,s&1?t===Cm?tl++:(tl=0,Cm=t):tl=0,Ii(),null}function po(){if(Gr!==null){var t=tI(hh),e=yn.transition,n=Te;try{if(yn.transition=null,Te=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,hh=0,ve&6)throw Error(B(331));var i=ve;for(ve|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:Za(8,h,s)}var d=h.child;if(d!==null)d.return=h,q=d;else for(;q!==null;){h=q;var p=h.sibling,y=h.return;if(dA(h),h===c){q=null;break}if(p!==null){p.return=y,q=p;break}q=y}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var I=T.sibling;T.sibling=null,T=I}while(T!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Za(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,q=v;break e}q=s.return}}var g=t.current;for(q=g;q!==null;){o=q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,q=E;else e:for(o=g;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sd(9,a)}}catch(V){We(a,a.return,V)}if(a===o){q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,q=k;break e}q=a.return}}if(ve=i,Ii(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Xh,t)}catch{}r=!0}return r}finally{Te=n,yn.transition=e}}return!1}function Rw(t,e,n){e=Io(n,e),e=tA(t,e,1),t=ri(t,e,1),e=Mt(),t!==null&&(eu(t,1,e),qt(t,e))}function We(t,e,n){if(t.tag===3)Rw(t,t,n);else for(;e!==null;){if(e.tag===3){Rw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=Io(n,t),t=nA(e,t,1),e=ri(e,t,1),t=Mt(),e!==null&&(eu(e,1,t),qt(e,t));break}}e=e.return}}function U2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(yt&n)===n&&(it===4||it===3&&(yt&130023424)===yt&&500>Ye()-Sy?Ji(t,0):Ty|=n),qt(t,e)}function TA(t,e){e===0&&(t.mode&1?(e=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):e=1);var n=Mt();t=vr(t,e),t!==null&&(eu(t,e,n),qt(t,n))}function $2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TA(t,n)}function B2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),TA(t,n)}var SA;SA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,x2(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Me&&e.flags&1048576&&CI(e,nh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ac(t,e),t=e.pendingProps;var i=wo(e,Ot.current);fo(e,n),i=gy(null,e,r,t,i,n);var s=yy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(s=!0,eh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(e),i.updater=id,e.stateNode=i,i._reactInternals=e,mm(e,r,t,n),e=vm(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&iy(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ac(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=H2(r),t=Sn(r,t),i){case 0:e=ym(null,e,r,t,n);break e;case 1:e=vw(null,e,r,t,n);break e;case 11:e=gw(null,e,r,t,n);break e;case 14:e=yw(null,e,r,Sn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),ym(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),vw(t,e,r,i,n);case 3:e:{if(oA(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NI(t,e),sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error(B(423)),e),e=_w(t,e,r,n,i);break e}else if(r!==i){i=Io(Error(B(424)),e),e=_w(t,e,r,n,i);break e}else for(Jt=ni(e.stateNode.containerInfo.firstChild),en=e,Me=!0,An=null,n=kI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===i){e=_r(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return DI(e),t===null&&dm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,am(r,i)?o=null:s!==null&&am(r,s)&&(e.flags|=32),sA(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&dm(e),null;case 13:return aA(t,e,n);case 4:return dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),gw(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,be(rh,r._currentValue),r._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!Ht.current){e=_r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ur(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=_n(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),yw(t,e,r,i,n);case 15:return rA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Ac(t,e),e.tag=1,Wt(r)?(t=!0,eh(e)):t=!1,fo(e,n),eA(e,r,i),mm(e,r,i,n),vm(null,e,r,!0,t,n);case 19:return lA(t,e,n);case 22:return iA(t,e,n)}throw Error(B(156,e.tag))};function IA(t,e){return XS(t,e)}function z2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new z2(t,e,n,r)}function Cy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H2(t){if(typeof t=="function")return Cy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qg)return 11;if(t===Kg)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Cy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hs:return Zi(n.children,i,s,e);case Wg:o=8,i|=8;break;case jp:return t=gn(12,n,e,i|2),t.elementType=jp,t.lanes=s,t;case Up:return t=gn(13,n,e,i),t.elementType=Up,t.lanes=s,t;case $p:return t=gn(19,n,e,i),t.elementType=$p,t.lanes=s,t;case DS:return ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OS:o=10;break e;case NS:o=9;break e;case qg:o=11;break e;case Kg:o=14;break e;case Fr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function ad(t,e,n,r){return t=gn(22,t,r,e),t.elementType=DS,t.lanes=n,t.stateNode={isHidden:!1},t}function Xf(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Jf(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ry(t,e,n,r,i,s,o,a,l){return t=new W2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(s),t}function q2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AA(t){if(!t)return pi;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Wt(n))return AI(t,n,e)}return e}function PA(t,e,n,r,i,s,o,a,l){return t=Ry(n,r,!0,t,i,s,o,a,l),t.context=AA(null),n=t.current,r=Mt(),i=si(n),s=ur(r,i),s.callback=e??null,ri(n,s,i),t.current.lanes=i,eu(t,i,r),qt(t,r),t}function ld(t,e,n,r){var i=e.current,s=Mt(),o=si(i);return n=AA(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(i,e,o),t!==null&&(Rn(t,i,o,s),Tc(t,i,o)),o}function fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xy(t,e){xw(t,e),(t=t.alternate)&&xw(t,e)}function K2(){return null}var CA=typeof reportError=="function"?reportError:function(t){console.error(t)};function by(t){this._internalRoot=t}ud.prototype.render=by.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));ld(t,e,null,null)};ud.prototype.unmount=by.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){ld(null,t,null,null)}),e[yr]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=iI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&oI(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function G2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fh(o);s.call(c)}}var o=PA(e,r,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[yr]=o.current,El(t.nodeType===8?t.parentNode:t),us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fh(l);a.call(c)}}var l=Ry(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=l,t[yr]=l.current,El(t.nodeType===8?t.parentNode:t),us(function(){ld(e,l,n,r)}),l}function hd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fh(o);a.call(l)}}ld(e,o,t,i)}else o=G2(n,e,t,i,r);return fh(o)}nI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ma(e.pendingLanes);n!==0&&(Yg(e,n|1),qt(e,Ye()),!(ve&6)&&(Ao=Ye()+500,Ii()))}break;case 13:us(function(){var r=vr(t,1);if(r!==null){var i=Mt();Rn(r,t,1,i)}}),xy(t,1)}};Xg=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Mt();Rn(e,t,134217728,n)}xy(t,134217728)}};rI=function(t){if(t.tag===13){var e=si(t),n=vr(t,e);if(n!==null){var r=Mt();Rn(n,t,e,r)}xy(t,e)}};iI=function(){return Te};sI=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Xp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=td(r);if(!i)throw Error(B(90));LS(r),Hp(r,i)}}}break;case"textarea":FS(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};WS=Iy;qS=us;var Q2={usingClientEntryPoint:!1,Events:[nu,Gs,td,zS,HS,Iy]},ba={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QS(t),t===null?null:t.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Xh=ic.inject(Y2),Mn=ic}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(B(200));return q2(t,e,null,n)};on.createRoot=function(t,e){if(!ky(t))throw Error(B(299));var n=!1,r="",i=CA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ry(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,El(t.nodeType===8?t.parentNode:t),new by(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=QS(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return us(t)};on.hydrate=function(t,e,n){if(!cd(e))throw Error(B(200));return hd(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!ky(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PA(e,null,t,1,n??null,i,!1,s,o),t[yr]=e.current,El(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ud(e)};on.render=function(t,e,n){if(!cd(e))throw Error(B(200));return hd(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!cd(t))throw Error(B(40));return t._reactRootContainer?(us(function(){hd(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};on.unstable_batchedUpdates=Iy;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return hd(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function RA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RA)}catch(t){console.error(t)}}RA(),RS.exports=on;var X2=RS.exports,xA,kw=X2;xA=kw.createRoot,kw.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}var Qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qr||(Qr={}));const Ow="popstate";function J2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return bm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ph(i)}return eN(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substr(2,8)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function bm(t,e,n,r){return n===void 0&&(n=null),bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:n,key:e&&e.key||r||Z2()})}function ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Qr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(bl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Qr.Pop;let I=h(),v=I==null?null:I-c;c=I,l&&l({action:a,location:T.location,delta:v})}function p(I,v){a=Qr.Push;let g=bm(T.location,I,v);c=h()+1;let E=Nw(g,c),k=T.createHref(g);try{o.pushState(E,"",k)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(k)}s&&l&&l({action:a,location:T.location,delta:1})}function y(I,v){a=Qr.Replace;let g=bm(T.location,I,v);c=h();let E=Nw(g,c),k=T.createHref(g);o.replaceState(E,"",k),s&&l&&l({action:a,location:T.location,delta:0})}function w(I){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof I=="string"?I:ph(I);return g=g.replace(/ $/,"%20"),Xe(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let T={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ow,d),l=I,()=>{i.removeEventListener(Ow,d),l=null}},createHref(I){return e(i,I)},createURL:w,encodeLocation(I){let v=w(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(I){return o.go(I)}};return T}var Dw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dw||(Dw={}));function tN(t,e,n){return n===void 0&&(n="/"),nN(t,e,n,!1)}function nN(t,e,n,r){let i=typeof e=="string"?Ho(e):e,s=Oy(i.pathname||"/",n);if(s==null)return null;let o=kA(t);rN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=pN(s);a=dN(o[l],c,r)}return a}function kA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ai([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kA(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:cN(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OA(s.path))i(s,o,l)}),e}function OA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iN=/^:[\w-]+$/,sN=3,oN=2,aN=1,lN=10,uN=-2,Vw=t=>t==="*";function cN(t,e){let n=t.split("/"),r=n.length;return n.some(Vw)&&(r+=uN),e&&(r+=oN),n.filter(i=>!Vw(i)).reduce((i,s)=>i+(iN.test(s)?sN:s===""?aN:lN),r)}function hN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Lw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Lw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ai([s,d.pathname]),pathnameBase:vN(ai([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=ai([s,d.pathnameBase]))}return o}function Lw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let T=a[d]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[d];return y&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function fN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Oy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ho(t):t;return{pathname:n?n.startsWith("/")?n:gN(n,e):e,search:_N(r),hash:wN(i)}}function gN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ny(t,e){let n=yN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ho(t):(i=bl({},t),Xe(!i.pathname||!i.pathname.includes("?"),Zf("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Zf("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Zf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=mN(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),vN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NA=["post","put","patch","delete"];new Set(NA);const TN=["get",...NA];new Set(TN);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}const Vy=b.createContext(null),SN=b.createContext(null),Ai=b.createContext(null),dd=b.createContext(null),Pr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),DA=b.createContext(null);function IN(t,e){let{relative:n}=e===void 0?{}:e;Wo()||Xe(!1);let{basename:r,navigator:i}=b.useContext(Ai),{hash:s,pathname:o,search:a}=MA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ai([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Wo(){return b.useContext(dd)!=null}function Cr(){return Wo()||Xe(!1),b.useContext(dd).location}function VA(t){b.useContext(Ai).static||b.useLayoutEffect(t)}function qo(){let{isDataRoute:t}=b.useContext(Pr);return t?MN():AN()}function AN(){Wo()||Xe(!1);let t=b.useContext(Vy),{basename:e,future:n,navigator:r}=b.useContext(Ai),{matches:i}=b.useContext(Pr),{pathname:s}=Cr(),o=JSON.stringify(Ny(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return VA(()=>{a.current=!0}),b.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Dy(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ai([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function LA(){let{matches:t}=b.useContext(Pr),e=t[t.length-1];return e?e.params:{}}function MA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Ai),{matches:i}=b.useContext(Pr),{pathname:s}=Cr(),o=JSON.stringify(Ny(i,r.v7_relativeSplatPath));return b.useMemo(()=>Dy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function PN(t,e){return CN(t,e)}function CN(t,e,n,r){Wo()||Xe(!1);let{navigator:i}=b.useContext(Ai),{matches:s}=b.useContext(Pr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Cr(),h;if(e){var d;let I=typeof e=="string"?Ho(e):e;l==="/"||(d=I.pathname)!=null&&d.startsWith(l)||Xe(!1),h=I}else h=c;let p=h.pathname||"/",y=p;if(l!=="/"){let I=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=tN(t,{pathname:y}),T=ON(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ai([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:ai([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&T?b.createElement(dd.Provider,{value:{location:kl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qr.Pop}},T):T}function RN(){let t=LN(),e=EN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const xN=b.createElement(RN,null);class bN extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Pr.Provider,{value:this.props.routeContext},b.createElement(DA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kN(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Vy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Pr.Provider,{value:e},r)}function ON(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Xe(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let y,w=!1,T=null,I=null;n&&(y=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||xN,l&&(c<0&&p===0?(w=!0,I=null):c===p&&(w=!0,I=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),g=()=>{let E;return y?E=T:w?E=I:d.route.Component?E=b.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,b.createElement(kN,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?b.createElement(bN,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var FA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FA||{}),mh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mh||{});function NN(t){let e=b.useContext(Vy);return e||Xe(!1),e}function DN(t){let e=b.useContext(SN);return e||Xe(!1),e}function VN(t){let e=b.useContext(Pr);return e||Xe(!1),e}function jA(t){let e=VN(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function LN(){var t;let e=b.useContext(DA),n=DN(mh.UseRouteError),r=jA(mh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MN(){let{router:t}=NN(FA.UseNavigateStable),e=jA(mh.UseNavigateStable),n=b.useRef(!1);return VA(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kl({fromRouteId:e},s)))},[t,e])}function UA(t){let{to:e,replace:n,state:r,relative:i}=t;Wo()||Xe(!1);let{future:s,static:o}=b.useContext(Ai),{matches:a}=b.useContext(Pr),{pathname:l}=Cr(),c=qo(),h=Dy(e,Ny(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return b.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function $i(t){Xe(!1)}function FN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qr.Pop,navigator:s,static:o=!1,future:a}=t;Wo()&&Xe(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:kl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ho(r));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:w="default"}=r,T=b.useMemo(()=>{let I=Oy(h,l);return I==null?null:{location:{pathname:I,search:d,hash:p,state:y,key:w},navigationType:i}},[l,h,d,p,y,w,i]);return T==null?null:b.createElement(Ai.Provider,{value:c},b.createElement(dd.Provider,{children:n,value:T}))}function jN(t){let{children:e,location:n}=t;return PN(km(e),n)}new Promise(()=>{});function km(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,km(r.props.children,s));return}r.type!==$i&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=km(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}function UN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $N(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BN(t,e){return t.button===0&&(!e||e==="_self")&&!$N(t)}const zN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],HN="6";try{window.__reactRouterVersion=HN}catch{}const WN="startTransition",Mw=Uk[WN];function qN(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=J2({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=b.useCallback(d=>{c&&Mw?Mw(()=>l(d)):l(d)},[l,c]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(FN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,er=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,p=UN(e,zN),{basename:y}=b.useContext(Ai),w,T=!1;if(typeof c=="string"&&GN.test(c)&&(w=c,KN))try{let E=new URL(window.location.href),k=c.startsWith("//")?new URL(E.protocol+c):new URL(c),V=Oy(k.pathname,y);k.origin===E.origin&&V!=null?c=V+k.search+k.hash:T=!0}catch{}let I=IN(c,{relative:i}),v=QN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:d});function g(E){r&&r(E),E.defaultPrevented||v(E)}return b.createElement("a",Om({},p,{href:w||I,onClick:T||s?r:g,ref:n,target:l}))});var Fw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fw||(Fw={}));var jw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jw||(jw={}));function QN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=qo(),c=Cr(),h=MA(t,{relative:o});return b.useCallback(d=>{if(BN(d,n)){d.preventDefault();let p=r!==void 0?r:ph(c)===ph(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}var Uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),r.push(n[h],n[d],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($A(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new XN;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JN=function(t){const e=$A(t);return BA.encodeByteArray(e,!0)},gh=function(t){return JN(t).replace(/\./g,"")},zA=function(t){try{return BA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=()=>ZN().__FIREBASE_DEFAULTS__,tD=()=>{if(typeof process>"u"||typeof Uw>"u")return;const t=Uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zA(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return eD()||tD()||nD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HA=t=>{var e,n;return(n=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rD=t=>{const e=HA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WA=()=>{var t;return(t=fd())===null||t===void 0?void 0:t.config},qA=t=>{var e;return(e=fd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gh(JSON.stringify(n)),gh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function aD(){var t;const e=(t=fd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hD(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dD(){return!aD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fD(){try{return typeof indexedDB=="object"}catch{return!1}}function pD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mD,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function gD(t,e){return t.replace(yD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yD=/\{\$([^}]+)}/g;function vD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($w(s)&&$w(o)){if(!Po(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $w(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _D(t,e){const n=new wD(t,e);return n.subscribe.bind(n)}class wD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ep),i.error===void 0&&(i.error=ep),i.complete===void 0&&(i.complete=ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ID(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SD(t){return t===Bi?void 0:t}function ID(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const PD={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},CD=pe.INFO,RD={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},xD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=CD,this._logHandler=xD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const bD=(t,e)=>e.some(n=>t instanceof n);let Bw,zw;function kD(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OD(){return zw||(zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KA=new WeakMap,Nm=new WeakMap,GA=new WeakMap,tp=new WeakMap,My=new WeakMap;function ND(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KA.set(n,t)}).catch(()=>{}),My.set(e,t),e}function DD(t){if(Nm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nm.set(t,e)}let Dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VD(t){Dm=t(Dm)}function LD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(np(this),e,...n);return GA.set(r,e.sort?e.sort():[e]),li(r)}:OD().includes(t)?function(...e){return t.apply(np(this),e),li(KA.get(this))}:function(...e){return li(t.apply(np(this),e))}}function MD(t){return typeof t=="function"?LD(t):(t instanceof IDBTransaction&&DD(t),bD(t,kD())?new Proxy(t,Dm):t)}function li(t){if(t instanceof IDBRequest)return ND(t);if(tp.has(t))return tp.get(t);const e=MD(t);return e!==t&&(tp.set(t,e),My.set(e,t)),e}const np=t=>My.get(t);function FD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const jD=["get","getKey","getAll","getAllKeys","count"],UD=["put","add","delete","clear"],rp=new Map;function Hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rp.set(e,s),s}VD(t=>({...t,get:(e,n,r)=>Hw(e,n)||t.get(e,n,r),has:(e,n)=>!!Hw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",Ww="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Ly("@firebase/app"),zD="@firebase/app-compat",HD="@firebase/analytics-compat",WD="@firebase/analytics",qD="@firebase/app-check-compat",KD="@firebase/app-check",GD="@firebase/auth",QD="@firebase/auth-compat",YD="@firebase/database",XD="@firebase/data-connect",JD="@firebase/database-compat",ZD="@firebase/functions",eV="@firebase/functions-compat",tV="@firebase/installations",nV="@firebase/installations-compat",rV="@firebase/messaging",iV="@firebase/messaging-compat",sV="@firebase/performance",oV="@firebase/performance-compat",aV="@firebase/remote-config",lV="@firebase/remote-config-compat",uV="@firebase/storage",cV="@firebase/storage-compat",hV="@firebase/firestore",dV="@firebase/vertexai-preview",fV="@firebase/firestore-compat",pV="firebase",mV="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",gV={[Vm]:"fire-core",[zD]:"fire-core-compat",[WD]:"fire-analytics",[HD]:"fire-analytics-compat",[KD]:"fire-app-check",[qD]:"fire-app-check-compat",[GD]:"fire-auth",[QD]:"fire-auth-compat",[YD]:"fire-rtdb",[XD]:"fire-data-connect",[JD]:"fire-rtdb-compat",[ZD]:"fire-fn",[eV]:"fire-fn-compat",[tV]:"fire-iid",[nV]:"fire-iid-compat",[rV]:"fire-fcm",[iV]:"fire-fcm-compat",[sV]:"fire-perf",[oV]:"fire-perf-compat",[aV]:"fire-rc",[lV]:"fire-rc-compat",[uV]:"fire-gcs",[cV]:"fire-gcs-compat",[hV]:"fire-fst",[fV]:"fire-fst-compat",[dV]:"fire-vertex","fire-js":"fire-js",[pV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,yV=new Map,Mm=new Map;function qw(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Co(t){const e=t.name;if(Mm.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(const n of yh.values())qw(n,t);for(const n of yV.values())qw(n,t);return!0}function Fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new iu("app","Firebase",vV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=mV;function QA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=WA()),!n)throw ui.create("no-options");const s=yh.get(i);if(s){if(Po(n,s.options)&&Po(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}const o=new AD(i);for(const l of Mm.values())o.addComponent(l);const a=new _V(n,r,o);return yh.set(i,a),a}function YA(t=Lm){const e=yh.get(t);if(!e&&t===Lm&&WA())return QA();if(!e)throw ui.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let i=(r=gV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(a.join(" "));return}Co(new cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="firebase-heartbeat-database",EV=1,Ol="firebase-heartbeat-store";let ip=null;function XA(){return ip||(ip=FD(wV,EV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),ip}async function TV(t){try{const n=(await XA()).transaction(Ol),r=await n.objectStore(Ol).get(JA(t));return await n.done,r}catch(e){if(e instanceof Rr)wr.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function Kw(t,e){try{const r=(await XA()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,JA(t)),await r.done}catch(n){if(n instanceof Rr)wr.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(r.message)}}}function JA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=1024,IV=30*24*60*60*1e3;class AV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=IV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gw(),{heartbeatsToSend:r,unsentEntries:i}=PV(this._heartbeatsCache.heartbeats),s=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wr.warn(n),""}}}function Gw(){return new Date().toISOString().substring(0,10)}function PV(t,e=SV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fD()?pD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qw(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){Co(new cs("platform-logger",e=>new $D(e),"PRIVATE")),Co(new cs("heartbeat",e=>new AV(e),"PRIVATE")),ci(Vm,Ww,t),ci(Vm,Ww,"esm2017"),ci("fire-js","")}RV("");function jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xV=ZA,eP=new iu("auth","Firebase",ZA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Ly("@firebase/auth");function bV(t,...e){vh.logLevel<=pe.WARN&&vh.warn(`Auth (${Ko}): ${t}`,...e)}function xc(t,...e){vh.logLevel<=pe.ERROR&&vh.error(`Auth (${Ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw Uy(t,...e)}function jn(t,...e){return Uy(t,...e)}function tP(t,e,n){const r=Object.assign(Object.assign({},xV()),{[e]:n});return new iu("auth","Firebase",r).create(e,{appName:t.name})}function cr(t){return tP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eP.create(t,...e)}function ne(t,e,...n){if(!t)throw Uy(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xc(e),new Error(e)}function Er(t,e){t||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kV(){return Yw()==="http:"||Yw()==="https:"}function Yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kV()||uD()||"connection"in navigator)?navigator.onLine:!0}function NV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=oD()||cD()}get(){return OV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new ou(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ci(t,e,n,r,i={}){return rP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=su(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return lD()||(c.referrerPolicy="no-referrer"),nP.fetch()(iP(t,t.config.apiHost,n,a),c)})}async function rP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DV),e);try{const i=new MV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tP(t,h,c);bn(t,h)}}catch(i){if(i instanceof Rr)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function au(t,e,n,r,i={}){const s=await Ci(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$y(t.config,i):`${t.config.apiScheme}://${i}`}function LV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),VV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}function Xw(t){return t!==void 0&&t.enterprise!==void 0}class FV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jV(t,e){return Ci(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return Ci(t,"POST","/v1/accounts:delete",e)}async function sP(t,e){return Ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $V(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=By(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nl(sp(i.auth_time)),issuedAtTime:nl(sp(i.iat)),expirationTime:nl(sp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sp(t){return Number(t)*1e3}function By(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const i=zA(n);return i?JSON.parse(i):(xc("Failed to decode base64 JWT payload"),null)}catch(i){return xc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jw(t){const e=By(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&BV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Nl(t,sP(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oP(s.providerUserInfo):[],a=WV(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function HV(t){const e=rn(t);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oP(t){return t.map(e=>{var{providerId:n}=e,r=jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){const n=await rP(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KV(t,e){return Ci(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=Jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mo;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $V(this,e)}reload(){return HV(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await Nl(this,UV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:k,isAnonymous:V,providerData:L,stsTokenManager:A}=n;ne(E&&A,e,"internal-error");const _=mo.fromJSON(this.name,A);ne(typeof E=="string",e,"internal-error"),Vr(d,e.name),Vr(p,e.name),ne(typeof k=="boolean",e,"internal-error"),ne(typeof V=="boolean",e,"internal-error"),Vr(y,e.name),Vr(w,e.name),Vr(T,e.name),Vr(I,e.name),Vr(v,e.name),Vr(g,e.name);const P=new or({uid:E,auth:e,email:p,emailVerified:k,displayName:d,isAnonymous:V,photoURL:w,phoneNumber:y,tenantId:T,stsTokenManager:_,createdAt:v,lastLoginAt:g});return L&&Array.isArray(L)&&(P.providerData=L.map(C=>Object.assign({},C))),I&&(P._redirectEventId=I),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new mo;i.updateFromServerResponse(n);const s=new or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _h(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new mo;a.updateFromIdToken(r);const l=new or({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;function ar(t){Er(t instanceof Function,"Expected a class definition");let e=Zw.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aP.type="NONE";const eE=aP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return`firebase:${t}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bc(this.userKey,i.apiKey,s),this.fullPersistenceKey=bc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(ar(eE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ar(eE);const o=bc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=or._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new go(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new go(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fP(e))return"Blackberry";if(pP(e))return"Webos";if(uP(e))return"Safari";if((e.includes("chrome/")||cP(e))&&!e.includes("edge/"))return"Chrome";if(dP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lP(t=Nt()){return/firefox\//i.test(t)}function uP(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cP(t=Nt()){return/crios\//i.test(t)}function hP(t=Nt()){return/iemobile/i.test(t)}function dP(t=Nt()){return/android/i.test(t)}function fP(t=Nt()){return/blackberry/i.test(t)}function pP(t=Nt()){return/webos/i.test(t)}function zy(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GV(t=Nt()){var e;return zy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QV(){return hD()&&document.documentMode===10}function mP(t=Nt()){return zy(t)||dP(t)||pP(t)||fP(t)||/windows phone/i.test(t)||hP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e=[]){let n;switch(t){case"Browser":n=tE(Nt());break;case"Worker":n=`${tE(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=6;class ZV{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new YV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sP(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(cr(this));const n=e?rn(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XV(this),n=new ZV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Es(t){return rn(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_D(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tL(t){pd=t}function yP(t){return pd.loadJS(t)}function nL(){return pd.recaptchaEnterpriseScript}function rL(){return pd.gapiScript}function iL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sL="recaptcha-enterprise",oL="NO_RECAPTCHA";class aL{constructor(e){this.type=sL,this.auth=Es(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new FV(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Xw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(oL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Xw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nL();l.length!==0&&(l+=a),yP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function rE(t,e,n,r=!1){const i=new aL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Um(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e){const n=Fy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Po(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function uL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cL(t,e,n){const r=Es(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=vP(e),{host:o,port:a}=hL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),dL()}function vP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hL(t){const e=vP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iE(o)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function fL(t,e){return Ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e){return au(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function gL(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Hy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Dl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",pL);case"emailLink":return mL(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,r,"signUpPassword",fL);case"emailLink":return gL(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e){return au(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="http://localhost";class hs extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:yL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _L(t){const e=ja(Ua(t)).link,n=e?ja(Ua(e)).deep_link_id:null,r=ja(Ua(t)).deep_link_id;return(r?ja(Ua(r)).link:null)||r||n||e||t}class Wy{constructor(e){var n,r,i,s,o,a;const l=ja(Ua(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=vL((i=l.mode)!==null&&i!==void 0?i:null);ne(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_L(e);try{return new Wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wy.parseLink(n);return ne(r,"argument-error"),Dl._fromEmailAndCode(e,r.code,r.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends _P{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends lu{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends lu{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends lu{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return au(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await or._fromIdTokenResponse(e,r,i),o=sE(r);return new ds({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new ds({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends Rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wh(e,n,r,i)}}function wP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(t,s,e,r):s})}async function EL(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(cr(r));const i="reauthenticate";try{const s=await Nl(t,wP(r,i,e,t),n);ne(s.idToken,r,"internal-error");const o=By(s.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),ds._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e,n=!1){if(Ln(t.app))return Promise.reject(cr(t));const r="signIn",i=await wP(t,r,e),s=await ds._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function SL(t,e){return EP(Es(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t){const e=Es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IL(t,e,n){if(Ln(t.app))return Promise.reject(cr(t));const r=Es(t),o=await Um(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TP(t),l}),a=await ds._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AL(t,e,n){return Ln(t.app)?Promise.reject(cr(t)):SL(rn(t),Go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TP(t),r})}function PL(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function CL(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function RL(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function xL(t){return rn(t).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=1e3,kL=10;class IP extends SP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IP.type="LOCAL";const OL=IP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP extends SP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AP.type="SESSION";const PP=AP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await NL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=qy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function VL(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function LL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ML(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FL(){return CP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebaseLocalStorageDb",jL=1,Th="firebaseLocalStorage",xP="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function UL(){const t=indexedDB.deleteDatabase(RP);return new uu(t).toPromise()}function $m(){const t=indexedDB.open(RP,jL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Th,{keyPath:xP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await UL(),e(await $m()))})})}async function oE(t,e,n){const r=gd(t,!0).put({[xP]:e,value:n});return new uu(r).toPromise()}async function $L(t,e){const n=gd(t,!1).get(e),r=await new uu(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=gd(t,!0).delete(e);return new uu(n).toPromise()}const BL=800,zL=3;class bP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(FL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LL(),!this.activeServiceWorker)return;this.sender=new DL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ML()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await oE(e,Eh,"1"),await aE(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$L(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gd(i,!1).getAll();return new uu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bP.type="LOCAL";const HL=bP;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e){return e?ar(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qL(t){return EP(t.auth,new Ky(t),t.bypassAuthState)}function KL(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),TL(n,new Ky(t),t.bypassAuthState)}async function GL(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),EL(n,new Ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qL;case"linkViaPopup":case"linkViaRedirect":return GL;case"reauthViaPopup":case"reauthViaRedirect":return KL;default:bn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new ou(2e3,1e4);class to extends kP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QL.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="pendingRedirect",kc=new Map;class XL extends kP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await JL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JL(t,e){const n=tM(e),r=eM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZL(t,e){kc.set(t._key(),e)}function eM(t){return ar(t._redirectPersistence)}function tM(t){return bc(YL,t.config.apiKey,t.name)}async function nM(t,e,n=!1){if(Ln(t.app))return Promise.reject(cr(t));const r=Es(t),i=WL(r,e),o=await new XL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=10*60*1e3;class iM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rM&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return Ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lM=/^https?/;async function uM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oM(t);for(const n of e)try{if(cM(n))return}catch{}bn(t,"unauthorized-domain")}function cM(t){const e=Fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lM.test(n))return!1;if(aM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new ou(3e4,6e4);function uE(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dM(t){return new Promise((e,n)=>{var r,i,s;function o(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(jn(t,"network-request-failed"))},timeout:hM.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Un().gapi)===null||s===void 0)&&s.load)o();else{const a=iL("iframefcb");return Un()[a]=()=>{gapi.load?o():n(jn(t,"network-request-failed"))},yP(`${rL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function fM(t){return Oc=Oc||dM(t),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new ou(5e3,15e3),mM="__/auth/iframe",gM="emulator/auth/iframe",yM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$y(e,gM):`https://${t.config.authDomain}/${mM}`,r={apiKey:e.apiKey,appName:t.name,v:Ko},i=vM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${su(r).slice(1)}`}async function wM(t){const e=await fM(t),n=Un().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:_M(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=jn(t,"network-request-failed"),a=Un().setTimeout(()=>{s(o)},pM.get());function l(){Un().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TM=500,SM=600,IM="_blank",AM="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PM(t,e,n,r=TM,i=SM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},EM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();n&&(a=cP(c)?IM:n),lP(c)&&(e=e||AM,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(GV(c)&&a!=="_self")return CM(e||"",a),new cE(null);const d=window.open(e||"",a,h);ne(d,t,"popup-blocked");try{d.focus()}catch{}return new cE(d)}function CM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="__/auth/handler",xM="emulator/auth/handler",bM=encodeURIComponent("fac");async function hE(t,e,n,r,i,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ko,eventId:i};if(e instanceof _P){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof lu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${bM}=${encodeURIComponent(l)}`:"";return`${kM(t)}?${su(a).slice(1)}${c}`}function kM({config:t}){return t.emulator?$y(t,xM):`https://${t.authDomain}/${RM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class OM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PP,this._completeRedirectFn=nM,this._overrideRedirectResult=ZL}async _openPopup(e,n,r,i){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hE(e,n,r,Fm(),i);return PM(e,o,qy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hE(e,n,r,Fm(),i);return VL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wM(e),r=new iM(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(op,{type:op},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[op];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mP()||uP()||zy()}}const NM=OM;var dE="@firebase/auth",fE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LM(t){Co(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gP(t)},c=new eL(r,i,s,l);return uL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new cs("auth-internal",e=>{const n=Es(e.getProvider("auth").getImmediate());return(r=>new DM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(dE,fE,VM(t)),ci(dE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,FM=qA("authIdTokenMaxAge")||MM;let pE=null;const jM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FM)return;const i=n==null?void 0:n.token;pE!==i&&(pE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UM(t=YA()){const e=Fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lL(t,{popupRedirectResolver:NM,persistence:[HL,OL,PP]}),r=qA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=jM(s.toString());CL(n,o,()=>o(n.currentUser)),PL(n,a=>o(a))}}const i=HA("auth");return i&&cL(n,`http://${i}`),n}function $M(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$M().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LM("Browser");var BM="firebase",zM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(BM,zM,"app");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,NP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,_){function P(){}P.prototype=_.prototype,A.D=_.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(C,x,O){for(var R=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)R[ye-2]=arguments[ye];return _.prototype[x].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,_,P){P||(P=0);var C=Array(16);if(typeof _=="string")for(var x=0;16>x;++x)C[x]=_.charCodeAt(P++)|_.charCodeAt(P++)<<8|_.charCodeAt(P++)<<16|_.charCodeAt(P++)<<24;else for(x=0;16>x;++x)C[x]=_[P++]|_[P++]<<8|_[P++]<<16|_[P++]<<24;_=A.g[0],P=A.g[1],x=A.g[2];var O=A.g[3],R=_+(O^P&(x^O))+C[0]+3614090360&4294967295;_=P+(R<<7&4294967295|R>>>25),R=O+(x^_&(P^x))+C[1]+3905402710&4294967295,O=_+(R<<12&4294967295|R>>>20),R=x+(P^O&(_^P))+C[2]+606105819&4294967295,x=O+(R<<17&4294967295|R>>>15),R=P+(_^x&(O^_))+C[3]+3250441966&4294967295,P=x+(R<<22&4294967295|R>>>10),R=_+(O^P&(x^O))+C[4]+4118548399&4294967295,_=P+(R<<7&4294967295|R>>>25),R=O+(x^_&(P^x))+C[5]+1200080426&4294967295,O=_+(R<<12&4294967295|R>>>20),R=x+(P^O&(_^P))+C[6]+2821735955&4294967295,x=O+(R<<17&4294967295|R>>>15),R=P+(_^x&(O^_))+C[7]+4249261313&4294967295,P=x+(R<<22&4294967295|R>>>10),R=_+(O^P&(x^O))+C[8]+1770035416&4294967295,_=P+(R<<7&4294967295|R>>>25),R=O+(x^_&(P^x))+C[9]+2336552879&4294967295,O=_+(R<<12&4294967295|R>>>20),R=x+(P^O&(_^P))+C[10]+4294925233&4294967295,x=O+(R<<17&4294967295|R>>>15),R=P+(_^x&(O^_))+C[11]+2304563134&4294967295,P=x+(R<<22&4294967295|R>>>10),R=_+(O^P&(x^O))+C[12]+1804603682&4294967295,_=P+(R<<7&4294967295|R>>>25),R=O+(x^_&(P^x))+C[13]+4254626195&4294967295,O=_+(R<<12&4294967295|R>>>20),R=x+(P^O&(_^P))+C[14]+2792965006&4294967295,x=O+(R<<17&4294967295|R>>>15),R=P+(_^x&(O^_))+C[15]+1236535329&4294967295,P=x+(R<<22&4294967295|R>>>10),R=_+(x^O&(P^x))+C[1]+4129170786&4294967295,_=P+(R<<5&4294967295|R>>>27),R=O+(P^x&(_^P))+C[6]+3225465664&4294967295,O=_+(R<<9&4294967295|R>>>23),R=x+(_^P&(O^_))+C[11]+643717713&4294967295,x=O+(R<<14&4294967295|R>>>18),R=P+(O^_&(x^O))+C[0]+3921069994&4294967295,P=x+(R<<20&4294967295|R>>>12),R=_+(x^O&(P^x))+C[5]+3593408605&4294967295,_=P+(R<<5&4294967295|R>>>27),R=O+(P^x&(_^P))+C[10]+38016083&4294967295,O=_+(R<<9&4294967295|R>>>23),R=x+(_^P&(O^_))+C[15]+3634488961&4294967295,x=O+(R<<14&4294967295|R>>>18),R=P+(O^_&(x^O))+C[4]+3889429448&4294967295,P=x+(R<<20&4294967295|R>>>12),R=_+(x^O&(P^x))+C[9]+568446438&4294967295,_=P+(R<<5&4294967295|R>>>27),R=O+(P^x&(_^P))+C[14]+3275163606&4294967295,O=_+(R<<9&4294967295|R>>>23),R=x+(_^P&(O^_))+C[3]+4107603335&4294967295,x=O+(R<<14&4294967295|R>>>18),R=P+(O^_&(x^O))+C[8]+1163531501&4294967295,P=x+(R<<20&4294967295|R>>>12),R=_+(x^O&(P^x))+C[13]+2850285829&4294967295,_=P+(R<<5&4294967295|R>>>27),R=O+(P^x&(_^P))+C[2]+4243563512&4294967295,O=_+(R<<9&4294967295|R>>>23),R=x+(_^P&(O^_))+C[7]+1735328473&4294967295,x=O+(R<<14&4294967295|R>>>18),R=P+(O^_&(x^O))+C[12]+2368359562&4294967295,P=x+(R<<20&4294967295|R>>>12),R=_+(P^x^O)+C[5]+4294588738&4294967295,_=P+(R<<4&4294967295|R>>>28),R=O+(_^P^x)+C[8]+2272392833&4294967295,O=_+(R<<11&4294967295|R>>>21),R=x+(O^_^P)+C[11]+1839030562&4294967295,x=O+(R<<16&4294967295|R>>>16),R=P+(x^O^_)+C[14]+4259657740&4294967295,P=x+(R<<23&4294967295|R>>>9),R=_+(P^x^O)+C[1]+2763975236&4294967295,_=P+(R<<4&4294967295|R>>>28),R=O+(_^P^x)+C[4]+1272893353&4294967295,O=_+(R<<11&4294967295|R>>>21),R=x+(O^_^P)+C[7]+4139469664&4294967295,x=O+(R<<16&4294967295|R>>>16),R=P+(x^O^_)+C[10]+3200236656&4294967295,P=x+(R<<23&4294967295|R>>>9),R=_+(P^x^O)+C[13]+681279174&4294967295,_=P+(R<<4&4294967295|R>>>28),R=O+(_^P^x)+C[0]+3936430074&4294967295,O=_+(R<<11&4294967295|R>>>21),R=x+(O^_^P)+C[3]+3572445317&4294967295,x=O+(R<<16&4294967295|R>>>16),R=P+(x^O^_)+C[6]+76029189&4294967295,P=x+(R<<23&4294967295|R>>>9),R=_+(P^x^O)+C[9]+3654602809&4294967295,_=P+(R<<4&4294967295|R>>>28),R=O+(_^P^x)+C[12]+3873151461&4294967295,O=_+(R<<11&4294967295|R>>>21),R=x+(O^_^P)+C[15]+530742520&4294967295,x=O+(R<<16&4294967295|R>>>16),R=P+(x^O^_)+C[2]+3299628645&4294967295,P=x+(R<<23&4294967295|R>>>9),R=_+(x^(P|~O))+C[0]+4096336452&4294967295,_=P+(R<<6&4294967295|R>>>26),R=O+(P^(_|~x))+C[7]+1126891415&4294967295,O=_+(R<<10&4294967295|R>>>22),R=x+(_^(O|~P))+C[14]+2878612391&4294967295,x=O+(R<<15&4294967295|R>>>17),R=P+(O^(x|~_))+C[5]+4237533241&4294967295,P=x+(R<<21&4294967295|R>>>11),R=_+(x^(P|~O))+C[12]+1700485571&4294967295,_=P+(R<<6&4294967295|R>>>26),R=O+(P^(_|~x))+C[3]+2399980690&4294967295,O=_+(R<<10&4294967295|R>>>22),R=x+(_^(O|~P))+C[10]+4293915773&4294967295,x=O+(R<<15&4294967295|R>>>17),R=P+(O^(x|~_))+C[1]+2240044497&4294967295,P=x+(R<<21&4294967295|R>>>11),R=_+(x^(P|~O))+C[8]+1873313359&4294967295,_=P+(R<<6&4294967295|R>>>26),R=O+(P^(_|~x))+C[15]+4264355552&4294967295,O=_+(R<<10&4294967295|R>>>22),R=x+(_^(O|~P))+C[6]+2734768916&4294967295,x=O+(R<<15&4294967295|R>>>17),R=P+(O^(x|~_))+C[13]+1309151649&4294967295,P=x+(R<<21&4294967295|R>>>11),R=_+(x^(P|~O))+C[4]+4149444226&4294967295,_=P+(R<<6&4294967295|R>>>26),R=O+(P^(_|~x))+C[11]+3174756917&4294967295,O=_+(R<<10&4294967295|R>>>22),R=x+(_^(O|~P))+C[2]+718787259&4294967295,x=O+(R<<15&4294967295|R>>>17),R=P+(O^(x|~_))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+_&4294967295,A.g[1]=A.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,_){_===void 0&&(_=A.length);for(var P=_-this.blockSize,C=this.B,x=this.h,O=0;O<_;){if(x==0)for(;O<=P;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<_;)if(C[x++]=A.charCodeAt(O++),x==this.blockSize){i(this,C),x=0;break}}else for(;O<_;)if(C[x++]=A[O++],x==this.blockSize){i(this,C),x=0;break}}this.h=x,this.o+=_},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var _=1;_<A.length-8;++_)A[_]=0;var P=8*this.o;for(_=A.length-8;_<A.length;++_)A[_]=P&255,P/=256;for(this.u(A),A=Array(16),_=P=0;4>_;++_)for(var C=0;32>C;C+=8)A[P++]=this.g[_]>>>C&255;return A};function s(A,_){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=_(A)}function o(A,_){this.h=_;for(var P=[],C=!0,x=A.length-1;0<=x;x--){var O=A[x]|0;C&&O==_||(P[x]=O,C=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?s(A,function(_){return new o([_|0],0>_?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return I(c(-A));for(var _=[],P=1,C=0;A>=P;C++)_[C]=A/P|0,P*=4294967296;return new o(_,0)}function h(A,_){if(A.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A.charAt(0)=="-")return I(h(A.substring(1),_));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(_,8)),C=d,x=0;x<A.length;x+=8){var O=Math.min(8,A.length-x),R=parseInt(A.substring(x,x+O),_);8>O?(O=c(Math.pow(_,O)),C=C.j(O).add(c(R))):(C=C.j(P),C=C.add(c(R)))}return C}var d=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-I(this).m();for(var A=0,_=1,P=0;P<this.g.length;P++){var C=this.i(P);A+=(0<=C?C:4294967296+C)*_,_*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(T(this))return"-"+I(this).toString(A);for(var _=c(Math.pow(A,6)),P=this,C="";;){var x=k(P,_).g;P=v(P,x.j(_));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=x,w(P))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var _=0;_<A.g.length;_++)if(A.g[_]!=0)return!1;return!0}function T(A){return A.h==-1}t.l=function(A){return A=v(this,A),T(A)?-1:w(A)?0:1};function I(A){for(var _=A.g.length,P=[],C=0;C<_;C++)P[C]=~A.g[C];return new o(P,~A.h).add(p)}t.abs=function(){return T(this)?I(this):this},t.add=function(A){for(var _=Math.max(this.g.length,A.g.length),P=[],C=0,x=0;x<=_;x++){var O=C+(this.i(x)&65535)+(A.i(x)&65535),R=(O>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);C=R>>>16,O&=65535,R&=65535,P[x]=R<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(A,_){return A.add(I(_))}t.j=function(A){if(w(this)||w(A))return d;if(T(this))return T(A)?I(this).j(I(A)):I(I(this).j(A));if(T(A))return I(this.j(I(A)));if(0>this.l(y)&&0>A.l(y))return c(this.m()*A.m());for(var _=this.g.length+A.g.length,P=[],C=0;C<2*_;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<A.g.length;x++){var O=this.i(C)>>>16,R=this.i(C)&65535,ye=A.i(x)>>>16,ot=A.i(x)&65535;P[2*C+2*x]+=R*ot,g(P,2*C+2*x),P[2*C+2*x+1]+=O*ot,g(P,2*C+2*x+1),P[2*C+2*x+1]+=R*ye,g(P,2*C+2*x+1),P[2*C+2*x+2]+=O*ye,g(P,2*C+2*x+2)}for(C=0;C<_;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=_;C<2*_;C++)P[C]=0;return new o(P,0)};function g(A,_){for(;(A[_]&65535)!=A[_];)A[_+1]+=A[_]>>>16,A[_]&=65535,_++}function E(A,_){this.g=A,this.h=_}function k(A,_){if(w(_))throw Error("division by zero");if(w(A))return new E(d,d);if(T(A))return _=k(I(A),_),new E(I(_.g),I(_.h));if(T(_))return _=k(A,I(_)),new E(I(_.g),_.h);if(30<A.g.length){if(T(A)||T(_))throw Error("slowDivide_ only works with positive integers.");for(var P=p,C=_;0>=C.l(A);)P=V(P),C=V(C);var x=L(P,1),O=L(C,1);for(C=L(C,2),P=L(P,2);!w(C);){var R=O.add(C);0>=R.l(A)&&(x=x.add(P),O=R),C=L(C,1),P=L(P,1)}return _=v(A,x.j(_)),new E(x,_)}for(x=d;0<=A.l(_);){for(P=Math.max(1,Math.floor(A.m()/_.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=c(P),R=O.j(_);T(R)||0<R.l(A);)P-=C,O=c(P),R=O.j(_);w(O)&&(O=p),x=x.add(O),A=v(A,R)}return new E(x,A)}t.A=function(A){return k(this,A).h},t.and=function(A){for(var _=Math.max(this.g.length,A.g.length),P=[],C=0;C<_;C++)P[C]=this.i(C)&A.i(C);return new o(P,this.h&A.h)},t.or=function(A){for(var _=Math.max(this.g.length,A.g.length),P=[],C=0;C<_;C++)P[C]=this.i(C)|A.i(C);return new o(P,this.h|A.h)},t.xor=function(A){for(var _=Math.max(this.g.length,A.g.length),P=[],C=0;C<_;C++)P[C]=this.i(C)^A.i(C);return new o(P,this.h^A.h)};function V(A){for(var _=A.g.length+1,P=[],C=0;C<_;C++)P[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(P,A.h)}function L(A,_){var P=_>>5;_%=32;for(var C=A.g.length-P,x=[],O=0;O<C;O++)x[O]=0<_?A.i(O+P)>>>_|A.i(O+P+1)<<32-_:A.i(O+P);return new o(x,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,es=o}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DP,$a,VP,Nc,Bm,LP,MP,FP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var N=u[S];if(!(N in m))break e;m=m[N]}u=u[u.length-1],S=m[u],f=f(S),f!=S&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,S=!1,N={next:function(){if(!S&&m<u.length){var F=m++;return{value:f(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,m){return u.call.apply(u.bind,arguments)}function d(u,f,m){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),u.apply(f,N)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function y(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(S,N,F){for(var H=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)H[Re-2]=arguments[Re];return f.prototype[N].apply(S,H)}}function T(u){const f=u.length;if(0<f){const m=Array(f);for(let S=0;S<f;S++)m[S]=u[S];return m}return[]}function I(u,f){for(let m=1;m<arguments.length;m++){const S=arguments[m];if(l(S)){const N=u.length||0,F=S.length||0;u.length=N+F;for(let H=0;H<F;H++)u[N+H]=S[H]}else u.push(S)}}class v{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function g(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var V=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(u,f,m){for(const S in u)f.call(m,u[S],S,u)}function A(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function _(u){const f={};for(const m in u)f[m]=u[m];return f}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,f){let m,S;for(let N=1;N<arguments.length;N++){S=arguments[N];for(m in S)u[m]=S[m];for(let F=0;F<P.length;F++)m=P[F],Object.prototype.hasOwnProperty.call(S,m)&&(u[m]=S[m])}}function x(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function O(u){a.setTimeout(()=>{throw u},0)}function R(){var u=Q;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ye{constructor(){this.h=this.g=null}add(f,m){const S=ot.get();S.set(f,m),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new v(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,z=!1,Q=new ye,Y=()=>{const u=a.Promise.resolve(void 0);ue=()=>{u.then(de)}};var de=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(m){O(m)}var f=ot;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function Ce(u,f){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(V){e:{try{k(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Je[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}w(Ce,ce);var Je={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),bs=0;function Iu(u,f,m,S,N){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!S,this.ha=N,this.key=++bs,this.da=this.fa=!1}function ki(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function br(u){this.src=u,this.g={},this.h=0}br.prototype.add=function(u,f,m,S,N){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var H=ks(u,f,S,N);return-1<H?(f=u[H],m||(f.fa=!1)):(f=new Iu(f,this.src,F,!!S,N),f.fa=m,u.push(f)),f};function ia(u,f){var m=f.type;if(m in u.g){var S=u.g[m],N=Array.prototype.indexOf.call(S,f,void 0),F;(F=0<=N)&&Array.prototype.splice.call(S,N,1),F&&(ki(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function ks(u,f,m,S){for(var N=0;N<u.length;++N){var F=u[N];if(!F.da&&F.listener==f&&F.capture==!!m&&F.ha==S)return N}return-1}var sa="closure_lm_"+(1e6*Math.random()|0),oa={};function Au(u,f,m,S,N){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Au(u,f[F],m,S,N);return null}return m=J(m),u&&u[tt]?u.K(f,m,c(S)?!!S.capture:!!S,N):uf(u,f,m,!1,S,N)}function uf(u,f,m,S,N,F){if(!f)throw Error("Invalid event type");var H=c(N)?!!N.capture:!!N,Re=W(u);if(Re||(u[sa]=Re=new br(u)),m=Re.add(f,m,S,H,F),m.proxy)return m;if(S=cf(),m.proxy=S,S.src=u,S.listener=m,u.addEventListener)ke||(N=H),N===void 0&&(N=!1),u.addEventListener(f.toString(),S,N);else if(u.attachEvent)u.attachEvent(Pu(f.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function cf(){function u(m){return f.call(u.src,u.listener,m)}const f=M;return u}function Os(u,f,m,S,N){if(Array.isArray(f))for(var F=0;F<f.length;F++)Os(u,f[F],m,S,N);else S=c(S)?!!S.capture:!!S,m=J(m),u&&u[tt]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],m=ks(F,m,S,N),-1<m&&(ki(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=W(u))&&(f=u.g[f.toString()],u=-1,f&&(u=ks(f,m,S,N)),(m=-1<u?f[u]:null)&&aa(m))}function aa(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[tt])ia(f.i,u);else{var m=u.type,S=u.proxy;f.removeEventListener?f.removeEventListener(m,S,u.capture):f.detachEvent?f.detachEvent(Pu(m),S):f.addListener&&f.removeListener&&f.removeListener(S),(m=W(f))?(ia(m,u),m.h==0&&(m.src=null,f[sa]=null)):ki(u)}}}function Pu(u){return u in oa?oa[u]:oa[u]="on"+u}function M(u,f){if(u.da)u=!0;else{f=new Ce(f,this);var m=u.listener,S=u.ha||u.src;u.fa&&aa(u),u=m.call(S,f)}return u}function W(u){return u=u[sa],u instanceof br?u:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function J(u){return typeof u=="function"?u:(u[G]||(u[G]=function(f){return u.handleEvent(f)}),u[G])}function X(){re.call(this),this.i=new br(this),this.M=this,this.F=null}w(X,re),X.prototype[tt]=!0,X.prototype.removeEventListener=function(u,f,m,S){Os(this,u,f,m,S)};function ie(u,f){var m,S=u.F;if(S)for(m=[];S;S=S.F)m.push(S);if(u=u.M,S=f.type||f,typeof f=="string")f=new ce(f,u);else if(f instanceof ce)f.target=f.target||u;else{var N=f;f=new ce(S,u),C(f,N)}if(N=!0,m)for(var F=m.length-1;0<=F;F--){var H=f.g=m[F];N=Fe(H,S,!0,f)&&N}if(H=f.g=u,N=Fe(H,S,!0,f)&&N,N=Fe(H,S,!1,f)&&N,m)for(F=0;F<m.length;F++)H=f.g=m[F],N=Fe(H,S,!1,f)&&N}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],S=0;S<m.length;S++)ki(m[S]);delete u.g[f],u.h--}}this.F=null},X.prototype.K=function(u,f,m,S){return this.i.add(String(u),f,!1,m,S)},X.prototype.L=function(u,f,m,S){return this.i.add(String(u),f,!0,m,S)};function Fe(u,f,m,S){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,F=0;F<f.length;++F){var H=f[F];if(H&&!H.da&&H.capture==m){var Re=H.listener,ht=H.ha||H.src;H.fa&&ia(u.i,H),N=Re.call(ht,S)!==!1&&N}}return N&&!S.defaultPrevented}function un(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Ns(u){u.g=un(()=>{u.g=null,u.i&&(u.i=!1,Ns(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class la extends re{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){re.call(this),this.h=u,this.g={}}w(Oi,re);var hf=[];function ua(u){L(u.g,function(f,m){this.g.hasOwnProperty(m)&&aa(f)},u),u.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),ua(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=a.JSON.stringify,Zb=a.JSON.parse,ek=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function df(){}df.prototype.h=null;function O0(u){return u.h||(u.h=u.i())}function N0(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ff(){ce.call(this,"d")}w(ff,ce);function pf(){ce.call(this,"c")}w(pf,ce);var Ni={},D0=null;function Cu(){return D0=D0||new X}Ni.La="serverreachability";function V0(u){ce.call(this,Ni.La,u)}w(V0,ce);function da(u){const f=Cu();ie(f,new V0(f))}Ni.STAT_EVENT="statevent";function L0(u,f){ce.call(this,Ni.STAT_EVENT,u),this.stat=f}w(L0,ce);function Dt(u){const f=Cu();ie(f,new L0(f,u))}Ni.Ma="timingevent";function M0(u,f){ce.call(this,Ni.Ma,u),this.size=f}w(M0,ce);function fa(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function tk(u,f,m,S,N,F){u.info(function(){if(u.g)if(F)for(var H="",Re=F.split("&"),ht=0;ht<Re.length;ht++){var _e=Re[ht].split("=");if(1<_e.length){var Et=_e[0];_e=_e[1];var Tt=Et.split("_");H=2<=Tt.length&&Tt[1]=="type"?H+(Et+"="+_e+"&"):H+(Et+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+S+") [attempt "+N+"]: "+f+`
`+m+`
`+H})}function nk(u,f,m,S,N,F,H){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+N+"]: "+f+`
`+m+`
`+F+" "+H})}function Ds(u,f,m,S){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+ik(u,m)+(S?" "+S:"")})}function rk(u,f){u.info(function(){return"TIMEOUT: "+f})}pa.prototype.info=function(){};function ik(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var S=m[u];if(!(2>S.length)){var N=S[1];if(Array.isArray(N)&&!(1>N.length)){var F=N[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<N.length;H++)N[H]=""}}}}return ca(m)}catch{return f}}var Ru={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function xu(){}w(xu,df),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},mf=new xu;function kr(u,f,m,S){this.j=u,this.i=f,this.l=m,this.R=S||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new j0}function j0(){this.i=null,this.g="",this.h=!1}var U0={},gf={};function yf(u,f,m){u.L=1,u.v=Nu(Yn(f)),u.m=m,u.P=!0,$0(u,null)}function $0(u,f){u.F=Date.now(),bu(u),u.A=Yn(u.v);var m=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),t_(m.i,"t",S),u.C=0,m=u.j.J,u.h=new j0,u.g=__(u.j,m?f:null,!u.m),0<u.O&&(u.M=new la(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,S=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(hf[0]=N.toString()),N=hf);for(var F=0;F<N.length;F++){var H=Au(m,N[F],S||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),da(),tk(u.i,u.u,u.A,u.l,u.R,u.m)}kr.prototype.ca=function(u){u=u.target;const f=this.M;f&&Xn(u)==3?f.j():this.Y(u)},kr.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=Xn(this.g);var f=this.g.Ba();const Ms=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||l_(this.g)))){this.J||Tt!=4||f==7||(f==8||0>=Ms?da(3):da(2)),vf(this);var m=this.g.Z();this.X=m;t:if(B0(this)){var S=l_(this.g);u="";var N=S.length,F=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),ma(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,u+=this.h.i.decode(S[f],{stream:!(F&&f==N-1)});S.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=m==200,nk(this.i,this.u,this.A,this.l,this.R,Tt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ht=this.g;if((Re=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(Re)){var _e=Re;break t}}_e=null}if(m=_e)Ds(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_f(this,m);else{this.o=!1,this.s=3,Dt(12),Di(this),ma(this);break e}}if(this.P){m=!0;let En;for(;!this.J&&this.C<H.length;)if(En=sk(this,H),En==gf){Tt==4&&(this.s=4,Dt(14),m=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(En==U0){this.s=4,Dt(15),Ds(this.i,this.l,H,"[Invalid Chunk]"),m=!1;break}else Ds(this.i,this.l,En,null),_f(this,En);if(B0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||H.length!=0||this.h.h||(this.s=1,Dt(16),m=!1),this.o=this.o&&m,!m)Ds(this.i,this.l,H,"[Invalid Chunked Response]"),Di(this),ma(this);else if(0<H.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Af(Et),Et.M=!0,Dt(11))}}else Ds(this.i,this.l,H,null),_f(this,H);Tt==4&&Di(this),this.o&&!this.J&&(Tt==4?m_(this.j,this):(this.o=!1,bu(this)))}else Tk(this.g),m==400&&0<H.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Di(this),ma(this)}}}catch{}finally{}};function B0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sk(u,f){var m=u.C,S=f.indexOf(`
`,m);return S==-1?gf:(m=Number(f.substring(m,S)),isNaN(m)?U0:(S+=1,S+m>f.length?gf:(f=f.slice(S,S+m),u.C=S+m,f)))}kr.prototype.cancel=function(){this.J=!0,Di(this)};function bu(u){u.S=Date.now()+u.I,z0(u,u.I)}function z0(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fa(p(u.ba,u),f)}function vf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}kr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(rk(this.i,this.A),this.L!=2&&(da(),Dt(17)),Di(this),this.s=2,ma(this)):z0(this,this.S-u)};function ma(u){u.j.G==0||u.J||m_(u.j,u)}function Di(u){vf(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,ua(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function _f(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||wf(m.h,u))){if(!u.K&&wf(m.h,u)&&m.G==3){try{var S=m.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var N=S;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)ju(m),Mu(m);else break e;If(m),Dt(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=fa(p(m.Za,m),6e3));if(1>=q0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Li(m,11)}else if((u.K||m.g==u)&&ju(m),!g(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let _e=N[f];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];const Et=_e[3];Et!=null&&(m.la=Et,m.j.info("VER="+m.la));const Tt=_e[4];Tt!=null&&(m.Aa=Tt,m.j.info("SVER="+m.Aa));const Ms=_e[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(S=1.5*Ms,m.L=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const En=u.g;if(En){const $u=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($u){var F=S.h;F.g||$u.indexOf("spdy")==-1&&$u.indexOf("quic")==-1&&$u.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ef(F,F.h),F.h=null))}if(S.D){const Pf=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Pf&&(S.ya=Pf,Oe(S.I,S.D,Pf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),S=m;var H=u;if(S.qa=v_(S,S.J?S.ia:null,S.W),H.K){K0(S.h,H);var Re=H,ht=S.L;ht&&(Re.I=ht),Re.B&&(vf(Re),bu(Re)),S.g=H}else f_(S);0<m.i.length&&Fu(m)}else _e[0]!="stop"&&_e[0]!="close"||Li(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Li(m,7):Sf(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}da(4)}catch{}}var ok=class{constructor(u,f){this.g=u,this.map=f}};function H0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function W0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function q0(u){return u.h?1:u.g?u.g.size:0}function wf(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Ef(u,f){u.g?u.g.add(f):u.h=f}function K0(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}H0.prototype.cancel=function(){if(this.i=G0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function G0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return T(u.i)}function ak(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,S=0;S<m;S++)f.push(u[S]);return f}f=[],m=0;for(S in u)f[m++]=u[S];return f}function lk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const S in u)f[m++]=S;return f}}}function Q0(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=lk(u),S=ak(u),N=S.length,F=0;F<N;F++)f.call(void 0,S[F],m&&m[F],u)}var Y0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uk(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var S=u[m].indexOf("="),N=null;if(0<=S){var F=u[m].substring(0,S);N=u[m].substring(S+1)}else F=u[m];f(F,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Vi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Vi){this.h=u.h,ku(this,u.j),this.o=u.o,this.g=u.g,Ou(this,u.s),this.l=u.l;var f=u.i,m=new va;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),X0(this,m),this.m=u.m}else u&&(f=String(u).match(Y0))?(this.h=!1,ku(this,f[1]||"",!0),this.o=ga(f[2]||""),this.g=ga(f[3]||"",!0),Ou(this,f[4]),this.l=ga(f[5]||"",!0),X0(this,f[6]||"",!0),this.m=ga(f[7]||"")):(this.h=!1,this.i=new va(null,this.h))}Vi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(ya(f,J0,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(ya(f,J0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ya(m,m.charAt(0)=="/"?dk:hk,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ya(m,pk)),u.join("")};function Yn(u){return new Vi(u)}function ku(u,f,m){u.j=m?ga(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Ou(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function X0(u,f,m){f instanceof va?(u.i=f,mk(u.i,u.h)):(m||(f=ya(f,fk)),u.i=new va(f,u.h))}function Oe(u,f,m){u.i.set(f,m)}function Nu(u){return Oe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ga(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,ck),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ck(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var J0=/[#\/\?@]/g,hk=/[#\?:]/g,dk=/[#\?]/g,fk=/[#\?@]/g,pk=/#/g;function va(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Or(u){u.g||(u.g=new Map,u.h=0,u.i&&uk(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=va.prototype,t.add=function(u,f){Or(this),this.i=null,u=Vs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function Z0(u,f){Or(u),f=Vs(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function e_(u,f){return Or(u),f=Vs(u,f),u.g.has(f)}t.forEach=function(u,f){Or(this),this.g.forEach(function(m,S){m.forEach(function(N){u.call(f,N,S,this)},this)},this)},t.na=function(){Or(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let S=0;S<f.length;S++){const N=u[S];for(let F=0;F<N.length;F++)m.push(f[S])}return m},t.V=function(u){Or(this);let f=[];if(typeof u=="string")e_(this,u)&&(f=f.concat(this.g.get(Vs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Or(this),this.i=null,u=Vs(this,u),e_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function t_(u,f,m){Z0(u,f),0<m.length&&(u.i=null,u.g.set(Vs(u,f),T(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var S=f[m];const F=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var N=F;H[S]!==""&&(N+="="+encodeURIComponent(String(H[S]))),u.push(N)}}return this.i=u.join("&")};function Vs(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function mk(u,f){f&&!u.j&&(Or(u),u.i=null,u.g.forEach(function(m,S){var N=S.toLowerCase();S!=N&&(Z0(this,S),t_(this,N,m))},u)),u.j=f}function gk(u,f){const m=new pa;if(a.Image){const S=new Image;S.onload=y(Nr,m,"TestLoadImage: loaded",!0,f,S),S.onerror=y(Nr,m,"TestLoadImage: error",!1,f,S),S.onabort=y(Nr,m,"TestLoadImage: abort",!1,f,S),S.ontimeout=y(Nr,m,"TestLoadImage: timeout",!1,f,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else f(!1)}function yk(u,f){const m=new pa,S=new AbortController,N=setTimeout(()=>{S.abort(),Nr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(N),F.ok?Nr(m,"TestPingServer: ok",!0,f):Nr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Nr(m,"TestPingServer: error",!1,f)})}function Nr(u,f,m,S,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),S(m)}catch{}}function vk(){this.g=new ek}function _k(u,f,m){const S=m||"";try{Q0(u,function(N,F){let H=N;c(N)&&(H=ca(N)),f.push(S+F+"="+encodeURIComponent(H))})}catch(N){throw f.push(S+"type="+encodeURIComponent("_badmap")),N}}function Du(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Du,df),Du.prototype.g=function(){return new Vu(this.l,this.j)},Du.prototype.i=function(u){return function(){return u}}({});function Vu(u,f){X.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Vu,X),t=Vu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,wa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function n_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?_a(this):wa(this),this.readyState==3&&n_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,_a(this))},t.Qa=function(u){this.g&&(this.response=u,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wa(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function wa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function r_(u){let f="";return L(u,function(m,S){f+=S,f+=":",f+=m,f+=`\r
`}),f}function Tf(u,f,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=r_(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Oe(u,f,m))}function He(u){X.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(He,X);var wk=/^https?$/i,Ek=["POST","PUT"];t=He.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?O0(this.o):O0(mf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){i_(this,F);return}if(u=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var N in S)m.set(N,S[N]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())m.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ek,f,void 0))||S||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of m)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{a_(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){i_(this,F)}};function i_(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,s_(u),Lu(u)}function s_(u){u.A||(u.A=!0,ie(u,"complete"),ie(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ie(this,"complete"),ie(this,"abort"),Lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?o_(this):this.bb())},t.bb=function(){o_(this)};function o_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Xn(u)!=4||u.Z()!=2)){if(u.u&&Xn(u)==4)un(u.Ea,0,u);else if(ie(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var S;if(S=H===0){var N=String(u.D).match(Y0)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),S=!wk.test(N?N.toLowerCase():"")}m=S}if(m)ie(u,"complete"),ie(u,"success");else{u.m=6;try{var F=2<Xn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",s_(u)}}finally{Lu(u)}}}}function Lu(u,f){if(u.g){a_(u);const m=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||ie(u,"ready");try{m.onreadystatechange=S}catch{}}}function a_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Zb(f)}};function l_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Tk(u){const f={};u=(u.g&&2<=Xn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(g(u[S]))continue;var m=x(u[S]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=f[N]||[];f[N]=F,F.push(m)}A(f,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function u_(u){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,u),this.cb=Ea("retryDelaySeedMs",1e4,u),this.Wa=Ea("forwardChannelMaxRetries",2,u),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new H0(u&&u.concurrentRequestLimit),this.Da=new vk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u_.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,S){Dt(0),this.W=u,this.H=f||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.I=v_(this,null,this.W),Fu(this)};function Sf(u){if(c_(u),u.G==3){var f=u.U++,m=Yn(u.I);if(Oe(m,"SID",u.K),Oe(m,"RID",f),Oe(m,"TYPE","terminate"),Ta(u,m),f=new kr(u,u.j,f),f.L=2,f.v=Nu(Yn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=__(f.j,null),f.g.ea(f.v)),f.F=Date.now(),bu(f)}y_(u)}function Mu(u){u.g&&(Af(u),u.g.cancel(),u.g=null)}function c_(u){Mu(u),u.u&&(a.clearTimeout(u.u),u.u=null),ju(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fu(u){if(!W0(u.h)&&!u.s){u.s=!0;var f=u.Ga;ue||Y(),z||(ue(),z=!0),Q.add(f,u),u.B=0}}function Sk(u,f){return q0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fa(p(u.Ga,u,f),g_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new kr(this,this.j,u);let F=this.o;if(this.S&&(F?(F=_(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(N.H=F,F=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=d_(this,N,f),m=Yn(this.I),Oe(m,"RID",u),Oe(m,"CVER",22),this.D&&Oe(m,"X-HTTP-Session-Id",this.D),Ta(this,m),F&&(this.O?f="headers="+encodeURIComponent(String(r_(F)))+"&"+f:this.m&&Tf(m,this.m,F)),Ef(this.h,N),this.Ua&&Oe(m,"TYPE","init"),this.P?(Oe(m,"$req",f),Oe(m,"SID","null"),N.T=!0,yf(N,m,null)):yf(N,m,f),this.G=2}}else this.G==3&&(u?h_(this,u):this.i.length==0||W0(this.h)||h_(this))};function h_(u,f){var m;f?m=f.l:m=u.U++;const S=Yn(u.I);Oe(S,"SID",u.K),Oe(S,"RID",m),Oe(S,"AID",u.T),Ta(u,S),u.m&&u.o&&Tf(S,u.m,u.o),m=new kr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=d_(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ef(u.h,m),yf(m,S,f)}function Ta(u,f){u.H&&L(u.H,function(m,S){Oe(f,S,m)}),u.l&&Q0({},function(m,S){Oe(f,S,m)})}function d_(u,f,m){m=Math.min(u.i.length,m);var S=u.l?p(u.l.Na,u.l,u):null;e:{var N=u.i;let F=-1;for(;;){const H=["count="+m];F==-1?0<m?(F=N[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let Re=!0;for(let ht=0;ht<m;ht++){let _e=N[ht].g;const Et=N[ht].map;if(_e-=F,0>_e)F=Math.max(0,N[ht].g-100),Re=!1;else try{_k(Et,H,"req"+_e+"_")}catch{S&&S(Et)}}if(Re){S=H.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,S}function f_(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ue||Y(),z||(ue(),z=!0),Q.add(f,u),u.v=0}}function If(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fa(p(u.Fa,u),g_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,p_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fa(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Mu(this),p_(this))};function Af(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function p_(u){u.g=new kr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Yn(u.qa);Oe(f,"RID","rpc"),Oe(f,"SID",u.K),Oe(f,"AID",u.T),Oe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Oe(f,"TO",u.ja),Oe(f,"TYPE","xmlhttp"),Ta(u,f),u.m&&u.o&&Tf(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Nu(Yn(f)),m.m=null,m.P=!0,$0(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Mu(this),If(this),Dt(19))};function ju(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function m_(u,f){var m=null;if(u.g==f){ju(u),Af(u),u.g=null;var S=2}else if(wf(u.h,f))m=f.D,K0(u.h,f),S=1;else return;if(u.G!=0){if(f.o)if(S==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=u.B;S=Cu(),ie(S,new M0(S,m)),Fu(u)}else f_(u);else if(N=f.s,N==3||N==0&&0<f.X||!(S==1&&Sk(u,f)||S==2&&If(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),N){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function g_(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Li(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),S=u.Xa;const N=!S;S=new Vi(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ku(S,"https"),Nu(S),N?gk(S.toString(),m):yk(S.toString(),m)}else Dt(2);u.G=0,u.l&&u.l.sa(f),y_(u),c_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function y_(u){if(u.G=0,u.ka=[],u.l){const f=G0(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ka,f),I(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function v_(u,f,m){var S=m instanceof Vi?Yn(m):new Vi(m);if(S.g!="")f&&(S.g=f+"."+S.g),Ou(S,S.s);else{var N=a.location;S=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var F=new Vi(null);S&&ku(F,S),f&&(F.g=f),N&&Ou(F,N),m&&(F.l=m),S=F}return m=u.D,f=u.ya,m&&f&&Oe(S,m,f),Oe(S,"VER",u.la),Ta(u,S),S}function __(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new He(new Du({eb:m})):new He(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w_(){}t=w_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uu(){}Uu.prototype.g=function(u,f){return new Yt(u,f)};function Yt(u,f){X.call(this),this.g=new u_(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!g(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!g(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ls(this)}w(Yt,X),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Sf(this.g)},Yt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=ca(u),u=m);f.i.push(new ok(f.Ya++,u)),f.G==3&&Fu(f)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Sf(this.g),delete this.g,Yt.aa.N.call(this)};function E_(u){ff.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}w(E_,ff);function T_(){pf.call(this),this.status=1}w(T_,pf);function Ls(u){this.g=u}w(Ls,w_),Ls.prototype.ua=function(){ie(this.g,"a")},Ls.prototype.ta=function(u){ie(this.g,new E_(u))},Ls.prototype.sa=function(u){ie(this.g,new T_)},Ls.prototype.ra=function(){ie(this.g,"b")},Uu.prototype.createWebChannel=Uu.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,FP=function(){return new Uu},MP=function(){return Cu()},LP=Ni,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ru.NO_ERROR=0,Ru.TIMEOUT=8,Ru.HTTP_ERROR=6,Nc=Ru,F0.COMPLETE="complete",VP=F0,N0.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",X.prototype.listen=X.prototype.K,$a=N0,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,DP=He}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Ly("@firebase/firestore");function ka(){return fs.logLevel}function K(t,...e){if(fs.logLevel<=pe.DEBUG){const n=e.map(Gy);fs.debug(`Firestore (${Qo}): ${t}`,...n)}}function Tr(t,...e){if(fs.logLevel<=pe.ERROR){const n=e.map(Gy);fs.error(`Firestore (${Qo}): ${t}`,...n)}}function Ro(t,...e){if(fs.logLevel<=pe.WARN){const n=e.map(Gy);fs.warn(`Firestore (${Qo}): ${t}`,...n)}}function Gy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Se(t,e){t||se()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class WM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qM{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new jP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Ct(e)}}class KM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new QM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new st(0,0))}static max(){return new oe(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Vl{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const JM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Vl{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return JM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(qe.fromString(e))}static fromName(e){return new ee(qe.fromString(e).popFirst(5))}static empty(){return new ee(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new qe(e.slice()))}}function ZM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new mi(i,ee.empty(),e)}function eF(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(oe.min(),ee.empty(),-1)}static max(){return new mi(oe.max(),ee.empty(),-1)}}function tF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==nF)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function iF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qy.oe=-1;function yd(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function sF(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $P(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new vt(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BP("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const oF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Se(!!t),typeof t=="string"){let e=0;const n=oF.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xy(t){const e=t.mapValue.fields.__previous_value__;return Yy(e)?Xy(e):e}function Ll(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yy(t)?4:uF(t)?9007199254740991:lF(t)?10:11:se()}function qn(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ll(t).isEqual(Ll(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ps(i.bytesValue).isEqual(ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Sh(o)===Sh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(yE(o)!==yE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qn(o[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Fl(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _E(t.timestampValue,e.timestampValue);case 4:return _E(Ll(t),Ll(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ps(s),l=ps(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=we(a[c],l[c]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Qe(s.latitude),Qe(o.latitude));return a!==0?a:we(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},p=o.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,T=we(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:wE(y,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===lc.mapValue&&o===lc.mapValue)return 0;if(s===lc.mapValue)return 1;if(o===lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=we(l[d],h[d]);if(p!==0)return p;const y=bo(a[l[d]],c[h[d]]);if(y!==0)return y}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se()}}function _E(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=gi(t),r=gi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function wE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=bo(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function ko(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${zm(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function Hm(t){return!!t&&"integerValue"in t}function Jy(t){return!!t&&"arrayValue"in t}function EE(t){return!!t&&"nullValue"in t}function TE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dc(t){return!!t&&"mapValue"in t}function lF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(rl(this.value))}}function zP(t){const e=[];return Yo(t.fields,(n,r)=>{const i=new gt([n]);if(Dc(r)){const s=zP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,oe.min(),oe.min(),oe.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new xt(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new xt(e,2,n,oe.min(),oe.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,oe.min(),oe.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function SE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function IE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function cF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{}class rt extends HP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dF(e,n,r):n==="array-contains"?new mF(e,r):n==="in"?new gF(e,r):n==="not-in"?new yF(e,r):n==="array-contains-any"?new vF(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fF(e,r):new pF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends HP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return WP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WP(t){return t.op==="and"}function qP(t){return hF(t)&&WP(t)}function hF(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Wm(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(qP(t))return t.filters.map(e=>Wm(e)).join(",");{const e=t.filters.map(n=>Wm(n)).join(",");return`${t.op}(${e})`}}function KP(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&KP(o,i.filters[a]),!0):!1}(t,e):void se()}function GP(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(GP).join(" ,")+"}"}(t):"Filter"}class dF extends rt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class fF extends rt{constructor(e,n){super(e,"in",n),this.keys=QP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pF extends rt{constructor(e,n){super(e,"not-in",n),this.keys=QP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class mF extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jy(n)&&Fl(n.arrayValue,this.value)}}class gF extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class yF extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class vF extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function AE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _F(t,e,n,r,i,s,o)}function Zy(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.ue=n}return e.ue}function ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IE(t.startAt,e.startAt)&&IE(t.endAt,e.endAt)}function qm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wF(t,e,n,r,i,s,o,a){return new vd(t,e,n,r,i,s,o,a)}function tv(t){return new vd(t)}function PE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EF(t){return t.collectionGroup!==null}function il(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ah(s,r))}),n.has(gt.keyField().canonicalString())||e.ce.push(new Ah(gt.keyField(),r))}return e.ce}function $n(t){const e=ae(t);return e.le||(e.le=TF(e,il(t))),e.le}function TF(t,e){if(t.limitType==="F")return AE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ah(i.field,s)});const n=t.endAt?new Ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ih(t.startAt.position,t.startAt.inclusive):null;return AE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Km(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return ev($n(t),$n(e))&&t.limitType===e.limitType}function YP(t){return`${Zy($n(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GP(i)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ko(i)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=SE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,il(r),i)||r.endAt&&!function(o,a,l){const c=SE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,il(r),i))}(t,e)}function SF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XP(t){return(e,n)=>{let r=!1;for(const i of il(t)){const s=IF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IF(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?bo(l,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $P(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new ze(ee.comparator);function Sr(){return AF}const JP=new ze(ee.comparator);function Ba(...t){let e=JP;for(const n of t)e=e.insert(n.key,n);return e}function ZP(t){let e=JP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return sl()}function eC(){return sl()}function sl(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const PF=new ze(ee.comparator),CF=new vt(ee.comparator);function fe(...t){let e=CF;for(const n of t)e=e.add(n);return e}const RF=new vt(we);function xF(){return RF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function tC(t){return{integerValue:""+t}}function bF(t,e){return sF(e)?tC(e):nv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function kF(t,e,n){return t instanceof Ph?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yy(s)&&(s=Xy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Oo?rC(t,e):t instanceof No?iC(t,e):function(i,s){const o=nC(i,s),a=CE(o)+CE(i.Pe);return Hm(o)&&Hm(i.Pe)?tC(a):nv(i.serializer,a)}(t,e)}function OF(t,e,n){return t instanceof Oo?rC(t,e):t instanceof No?iC(t,e):n}function nC(t,e){return t instanceof Ch?function(r){return Hm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ph extends Ed{}class Oo extends Ed{constructor(e){super(),this.elements=e}}function rC(t,e){const n=sC(e);for(const r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class No extends Ed{constructor(e){super(),this.elements=e}}function iC(t,e){let n=sC(e);for(const r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}class Ch extends Ed{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function CE(t){return Qe(t.integerValue||t.doubleValue)}function sC(t){return Jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.field=e,this.transform=n}}function NF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oo&&i instanceof Oo||r instanceof No&&i instanceof No?xo(r.elements,i.elements,qn):r instanceof Ch&&i instanceof Ch?qn(r.Pe,i.Pe):r instanceof Ph&&i instanceof Ph}(t.transform,e.transform)}class DF{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Td{}function aC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uC(t.key,hr.none()):new du(t.key,t.data,hr.none());{const n=t.data,r=mn.empty();let i=new vt(gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ts(t.key,r,new Pn(i.toArray()),hr.none())}}function VF(t,e,n){t instanceof du?function(i,s,o){const a=i.value.clone(),l=xE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ts?function(i,s,o){if(!Vc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(lC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ol(t,e,n,r){return t instanceof du?function(s,o,a,l){if(!Vc(s.precondition,o))return a;const c=s.value.clone(),h=bE(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ts?function(s,o,a,l){if(!Vc(s.precondition,o))return a;const c=bE(s.fieldTransforms,l,o),h=o.data;return h.setAll(lC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Vc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nC(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function RE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(s,o)=>NF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends Td{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends Td{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xE(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OF(o,a,n[i]))}return r}function bE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kF(s,o,e))}return r}class uC extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MF extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=aC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>RE(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>RE(n,r))}}class rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return PF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,ge;function $F(t){switch(t){default:return se();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function cC(t){if(t===void 0)return Tr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ze.OK:return $.OK;case Ze.CANCELLED:return $.CANCELLED;case Ze.UNKNOWN:return $.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return $.INTERNAL;case Ze.UNAVAILABLE:return $.UNAVAILABLE;case Ze.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ze.NOT_FOUND:return $.NOT_FOUND;case Ze.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ze.ABORTED:return $.ABORTED;case Ze.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ze.DATA_LOSS:return $.DATA_LOSS;default:return se()}}(ge=Ze||(Ze={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new es([4294967295,4294967295],0);function kE(t){const e=BF().encode(t),n=new NP;return n.update(e),new Uint8Array(n.digest())}function OE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new es([n,r],0),new es([i,s],0)]}class iv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=es.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(es.fromNumber(r)));return i.compare(zF)===1&&(i=new es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kE(e),[r,i]=OE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=kE(e),[r,i]=OE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sd(oe.min(),i,new ze(we),Sr(),fe())}}class fu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class hC{constructor(e,n){this.targetId=e,this.me=n}}class dC{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NE{constructor(){this.fe=0,this.ge=VE(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new fu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=VE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=DE(),this.Qe=new ze(we)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(qm(s))if(r===0){const o=new ee(s.path);this.Ue(n,o,xt.newNoDocument(o,oe.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ps(r).toUint8Array()}catch(l){if(l instanceof BP)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new iv(o,i,s)}catch(l){return Ro(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&qm(a.target)){const l=new ee(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,xt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Sd(e,n,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=DE(),this.Qe=new ze(we),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new NE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(we),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new NE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function DE(){return new ze(ee.comparator)}function VE(){return new ze(ee.comparator)}const WF={asc:"ASCENDING",desc:"DESCENDING"},qF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KF={and:"AND",or:"OR"};class GF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QF(t,e){return Rh(t,e.toTimestamp())}function Bn(t){return Se(!!t),oe.fromTimestamp(function(n){const r=gi(n);return new st(r.seconds,r.nanos)}(t))}function sv(t,e){return Qm(t,e).canonicalString()}function Qm(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){const e=qe.fromString(t);return Se(_C(e)),e}function Ym(t,e){return sv(t.databaseId,e.path)}function ap(t,e){const n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(gC(n))}function mC(t,e){return sv(t.databaseId,e)}function YF(t){const e=pC(t);return e.length===4?qe.emptyPath():gC(e)}function Xm(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gC(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LE(t,e,n){return{name:Ym(t,e),fields:n.value.mapValue.fields}}function XF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Se(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:cC(c.code);return new Z(h,c.message||"")}(o);n=new dC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ap(t,r.document.name),s=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):oe.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Lc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ap(t,r.document),s=r.readTime?Bn(r.readTime):oe.min(),o=xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ap(t,r.document),s=r.removedTargetIds||[];n=new Lc([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new UF(i,s),a=r.targetId;n=new hC(a,o)}}return n}function JF(t,e){let n;if(e instanceof du)n={update:LE(t,e.key,e.value)};else if(e instanceof uC)n={delete:Ym(t,e.key)};else if(e instanceof Ts)n={update:LE(t,e.key,e.data),updateMask:aj(e.fieldMask)};else{if(!(e instanceof MF))return se();n={verify:Ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function ZF(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Bn(i.updateTime):Bn(s);return o.isEqual(oe.min())&&(o=Bn(s)),new DF(o,i.transformResults||[])}(n,e))):[]}function ej(t,e){return{documents:[mC(t,e.path)]}}function tj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mC(t,i);const s=function(c){if(c.length!==0)return vC(Kn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:$s(p.field),direction:ij(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function nj(t){let e=YF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=yC(d);return p instanceof Kn&&qP(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(w){return new Ah(Bs(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,yd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,y=d.values||[];return new Ih(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,y=d.values||[];return new Ih(y,p)}(n.endAt)),wF(e,i,o,s,a,"F",l,c)}function rj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bs(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bs(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bs(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bs(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>yC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function ij(t){return WF[t]}function sj(t){return qF[t]}function oj(t){return KF[t]}function $s(t){return{fieldPath:t.canonicalString()}}function Bs(t){return gt.fromServerFormat(t.fieldPath)}function vC(t){return t instanceof rt?function(n){if(n.op==="=="){if(TE(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TE(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:sj(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>vC(i));return r.length===1?r[0]:{compositeFilter:{op:oj(n.op),filters:r}}}(t):se()}function aj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _C(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.ct=e}}function uj(t){const e=nj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.un=new hj}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(mi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class hj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Do(0)}static kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ol(r.mutation,i,Pn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ba();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sr();const o=sl(),a=function(){return sl()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ts)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ol(h.mutation,c,h.mutation.getFieldMask(),st.now())):o.set(c.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new fj(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sl();let i=new ze((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Pn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=eC();h.forEach(p=>{if(!s.has(p)){const y=aC(n.get(p),r.get(p));y!==null&&d.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Gi());let a=-1,l=s;return o.next(c=>U.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(h=>({batchId:a,changes:ZP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ba();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(d,p){return new vd(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=Ba();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&ol(h.mutation,c,Pn.empty(),st.now()),wd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:uj(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.overlays=new ze(ee.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Gi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Gi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jF(n,r));let s=this.Ir.get(n);s===void 0&&(s=fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Tr=new vt(at.Er),this.dr=new vt(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ee(new qe([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ee(new qe([])),r=new at(n,e),i=new at(n,e+1);let s=fe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ee.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(at.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(we);return n.forEach(i=>{const s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new at(new ee(s),0);let a=new vt(we);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new at(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.Mr=e,this.docs=function(){return new ze(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sr();const o=n.path,a=new ee(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||tF(eF(h),r)<=0||(i.has(h.key)||wd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wj(this)}getSize(e){return U.resolve(this.size)}}class wj extends dj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.persistence=e,this.Nr=new Xo(n=>Zy(n),ev),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ov,this.targetCount=0,this.kr=Do.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Qy(0),this.Kr=!1,this.Kr=!0,this.$r=new yj,this.referenceDelegate=e(this),this.Ur=new Ej(this),this.indexManager=new cj,this.remoteDocumentCache=function(i){return new _j(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lj(n),this.Gr=new mj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vj(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Sj(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Sj extends rF{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.Jr=new ov,this.Yr=null}static Zr(e){return new av(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=ee.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dD()?8:iF(Nt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ij;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ka()<=pe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(ka()<=pe.DEBUG&&K("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ka()<=pe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):U.resolve())}Yi(e,n){if(PE(n))return U.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Km(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Km(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return PE(n)||i.isEqual(oe.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?U.resolve(null):(ka()<=pe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Us(n)),this.rs(e,o,n,ZM(i,-1)).next(a=>a))})}ts(e,n){let r=new vt(XP(e));return n.forEach((i,s)=>{wd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ka()<=pe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Us(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ze(we),this._s=new Xo(s=>Zy(s),ev),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Cj(t,e,n,r){return new Pj(t,e,n,r)}async function wC(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Rj(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,p=d.keys();let y=U.resolve();return p.forEach(w=>{y=y.next(()=>h.getEntry(l,w)).next(T=>{const I=c.docVersions.get(w);Se(I!==null),T.version.compareTo(I)<0&&(d.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function EC(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function xj(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(d,y),function(T,I,v){return T.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let l=Sr(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(bj(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(oe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function bj(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function kj(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oj(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jm(t,e,n){const r=ae(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hu(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ME(t,e,n){const r=ae(t);let i=oe.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ae(l),p=d._s.get(h);return p!==void 0?U.resolve(d.os.get(p)):d.Ur.getTargetData(c,h)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:fe())).next(a=>(Nj(r,SF(e),a),{documents:a,Ts:s})))}function Nj(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class FE{constructor(){this.activeTargetIds=xF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dj{constructor(){this.so=new FE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function lp(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class Fj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=lp(),l=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ro("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Lj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=lp();return new Promise((o,a)=>{const l=new DP;l.setWithCredentials(!0),l.listenOnce(VP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nc.NO_ERROR:const h=l.getResponseJson();K(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Nc.TIMEOUT:K(At,`RPC '${e}' ${s} timed out`),a(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const d=l.getStatus();if(K(At,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(I){const v=I.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(v)>=0?v:$.UNKNOWN}(y.status);a(new Z(w,y.message))}else a(new Z($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z($.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{K(At,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(At,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=lp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FP(),a=MP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");K(At,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let p=!1,y=!1;const w=new Mj({Io:I=>{y?K(At,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(p||(K(At,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),K(At,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},To:()=>d.close()}),T=(I,v,g)=>{I.listen(v,E=>{try{g(E)}catch(k){setTimeout(()=>{throw k},0)}})};return T(d,$a.EventType.OPEN,()=>{y||(K(At,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),T(d,$a.EventType.CLOSE,()=>{y||(y=!0,K(At,`RPC '${e}' stream ${i} transport closed`),w.So())}),T(d,$a.EventType.ERROR,I=>{y||(y=!0,Ro(At,`RPC '${e}' stream ${i} transport errored:`,I),w.So(new Z($.UNAVAILABLE,"The operation could not be completed")))}),T(d,$a.EventType.MESSAGE,I=>{var v;if(!y){const g=I.data[0];Se(!!g);const E=g,k=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(k){K(At,`RPC '${e}' stream ${i} received error:`,k);const V=k.status;let L=function(P){const C=Ze[P];if(C!==void 0)return cC(C)}(V),A=k.message;L===void 0&&(L=$.INTERNAL,A="Unknown error status: "+V+" with message "+k.message),y=!0,w.So(new Z(L,A)),d.close()}else K(At,`RPC '${e}' stream ${i} received:`,g),w.bo(g)}}),T(a,LP.STAT_EVENT,I=>{I.stat===Bm.PROXY?K(At,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Bm.NOPROXY&&K(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new GF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jj extends SC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=XF(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Bn(o.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=qm(l)?{documents:ej(s,l)}:{query:tj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fC(s,o.resumeToken);const c=Gm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Rh(s,o.snapshotVersion.toTimestamp());const c=Gm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=rj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.a_(n)}}class Uj extends SC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ZF(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Qm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Qm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Bj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Tr(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ae(l);c.L_.add(4),await pu(c),c.q_.set("Unknown"),c.L_.delete(4),await Ad(c)}(this))})}),this.q_=new Bj(r,i)}}async function Ad(t){if(Ss(t))for(const e of t.B_)await e(!0)}async function pu(t){for(const e of t.B_)await e(!1)}function IC(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dv(n)?hv(n):Jo(n).r_()&&cv(n,e))}function uv(t,e){const n=ae(t),r=Jo(n);n.N_.delete(e),r.r_()&&AC(n,e),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function cv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).A_(e)}function AC(t,e){t.Q_.xe(e),Jo(t).R_(e)}function hv(t){t.Q_=new HF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.q_.v_()}function dv(t){return Ss(t)&&!Jo(t).n_()&&t.N_.size>0}function Ss(t){return ae(t).L_.size===0}function PC(t){t.Q_=void 0}async function Hj(t){t.q_.set("Online")}async function Wj(t){t.N_.forEach((e,n)=>{cv(t,e)})}async function qj(t,e){PC(t),dv(t)?(t.q_.M_(e),hv(t)):t.q_.set("Unknown")}async function Kj(t,e,n){if(t.q_.set("Online"),e instanceof dC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(t,r)}else if(e instanceof Lc?t.Q_.Ke(e):e instanceof hC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await EC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),AC(s,l);const d=new Yr(h.target,l,c,h.sequenceNumber);cv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await xh(t,r)}}async function xh(t,e,n){if(!hu(e))throw e;t.L_.add(1),await pu(t),t.q_.set("Offline"),n||(n=()=>EC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ad(t)})}function CC(t,e){return e().catch(n=>xh(t,n,e))}async function Pd(t){const e=ae(t),n=yi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Gj(e);)try{const i=await kj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Qj(e,i)}catch(i){await xh(e,i)}RC(e)&&xC(e)}function Gj(t){return Ss(t)&&t.O_.length<10}function Qj(t,e){t.O_.push(e);const n=yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RC(t){return Ss(t)&&!yi(t).n_()&&t.O_.length>0}function xC(t){yi(t).start()}async function Yj(t){yi(t).p_()}async function Xj(t){const e=yi(t);for(const n of t.O_)e.m_(n.mutations)}async function Jj(t,e,n){const r=t.O_.shift(),i=rv.from(r,e,n);await CC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Pd(t)}async function Zj(t,e){e&&yi(t).V_&&await async function(r,i){if(function(o){return $F(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();yi(r).s_(),await CC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Pd(r)}}(t,e),RC(t)&&xC(t)}async function UE(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.L_.add(3),await pu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ad(n)}async function e4(t,e){const n=ae(t);e?(n.L_.delete(2),await Ad(n)):e||(n.L_.add(2),await pu(n),n.q_.set("Unknown"))}function Jo(t){return t.K_||(t.K_=function(n,r,i){const s=ae(n);return s.w_(),new jj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Hj.bind(null,t),Ro:Wj.bind(null,t),mo:qj.bind(null,t),d_:Kj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dv(t)?hv(t):t.q_.set("Unknown")):(await t.K_.stop(),PC(t))})),t.K_}function yi(t){return t.U_||(t.U_=function(n,r,i){const s=ae(n);return s.w_(),new Uj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yj.bind(null,t),mo:Zj.bind(null,t),f_:Xj.bind(null,t),g_:Jj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Pd(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),hu(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ba(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.W_=new ze(ee.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,vo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class n4{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ae(n),s=i.queries;i.queries=BE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Z($.ABORTED,"Firestore shutting down"))}}function BE(){return new Xo(t=>YP(t),_d)}async function r4(t,e){const n=ae(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new t4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=pv(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&mv(n)}async function i4(t,e){const n=ae(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s4(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&mv(n)}function o4(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function mv(t){t.Y_.forEach(e=>{e.next()})}var Zm,zE;(zE=Zm||(Zm={})).ea="default",zE.Cache="cache";class a4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.key=e}}class kC{constructor(e){this.key=e}}class l4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=XP(e),this.Ra=new vo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $E,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),y=wd(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;p&&y?p.data.isEqual(y.data)?w!==T&&(r.track({type:3,doc:y}),I=!0):this.ga(p,y)||(r.track({type:2,doc:y}),I=!0,(l&&this.Aa(y,l)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),I=!0):p&&!y&&(r.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(y?(o=o.add(y),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(y,w){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return T(y)-T(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Vo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $E,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new kC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new bC(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Vo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class u4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class c4{constructor(e){this.key=e,this.va=!1}}class h4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xo(a=>YP(a),_d),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(ee.comparator),this.Na=new Map,this.La=new ov,this.Ba={},this.ka=new Map,this.qa=Do.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function d4(t,e,n=!0){const r=MC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await OC(r,e,n,!0),i}async function f4(t,e){const n=MC(t);await OC(n,e,!0,!1)}async function OC(t,e,n,r){const i=await Oj(t.localStore,$n(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await p4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&IC(t.remoteStore,i),a}async function p4(t,e,n,r,i){t.Ka=(d,p,y)=>async function(T,I,v,g){let E=I.view.ma(v);E.ns&&(E=await ME(T.localStore,I.query,!1).then(({documents:A})=>I.view.ma(A,E)));const k=g&&g.targetChanges.get(I.targetId),V=g&&g.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(E,T.isPrimaryClient,k,V);return WE(T,I.targetId,L.wa),L.snapshot}(t,d,p,y);const s=await ME(t.localStore,e,!0),o=new l4(e,s.Ts),a=o.ma(s.documents),l=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);WE(t,n,c.wa);const h=new u4(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function m4(t,e,n){const r=ae(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uv(r.remoteStore,i.targetId),eg(r,i.targetId)}).catch(cu)):(eg(r,i.targetId),await Jm(r.localStore,i.targetId,!0))}async function g4(t,e){const n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uv(n.remoteStore,r.targetId))}async function y4(t,e,n){const r=I4(t);try{const i=await function(o,a){const l=ae(o),c=st.now(),h=a.reduce((y,w)=>y.add(w.key),fe());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Sr(),T=fe();return l.cs.getEntries(y,h).next(I=>{w=I,w.forEach((v,g)=>{g.isValidDocument()||(T=T.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(I=>{d=I;const v=[];for(const g of a){const E=LF(g,d.get(g.key).overlayedDocument);E!=null&&v.push(new Ts(g.key,E,zP(E.value.mapValue),hr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,v,a)}).next(I=>{p=I;const v=I.applyToLocalDocumentSet(d,T);return l.documentOverlayCache.saveOverlays(y,I.batchId,v)})}).then(()=>({batchId:p.batchId,changes:ZP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new ze(we)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await mu(r,i.changes),await Pd(r.remoteStore)}catch(i){const s=pv(i,"Failed to persist write");n.reject(s)}}async function NC(t,e){const n=ae(t);try{const r=await xj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Se(o.va):i.removedDocuments.size>0&&(Se(o.va),o.va=!1))}),await mu(n,r,e)}catch(r){await cu(r)}}function HE(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.j_)p.Z_(a)&&(c=!0)}),c&&mv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v4(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ze(ee.comparator);o=o.insert(s,xt.newNoDocument(s,oe.min()));const a=fe().add(s),l=new Sd(oe.min(),new Map,new ze(we),o,a);await NC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),gv(r)}else await Jm(r.localStore,e,!1).then(()=>eg(r,e,n)).catch(cu)}async function _4(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await Rj(n.localStore,e);VC(n,r,null),DC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,i)}catch(i){await cu(i)}}async function w4(t,e,n){const r=ae(t);try{const i=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Se(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);VC(r,e,n),DC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mu(r,i)}catch(i){await cu(i)}}function DC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function VC(t,e,n){const r=ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||LC(t,r)})}function LC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(uv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gv(t))}function WE(t,e,n){for(const r of n)r instanceof bC?(t.La.addReference(r.key,e),E4(t,r)):r instanceof kC?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||LC(t,r.key)):se()}function E4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),gv(t))}function gv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ee(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new c4(n)),t.Oa=t.Oa.insert(n,r),IC(t.remoteStore,new Yr($n(tv(n.path)),r,"TargetPurposeLimboResolution",Qy.oe))}}async function mu(t,e,n){const r=ae(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=lv.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=ae(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,p=>U.forEach(p.$i,y=>h.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>U.forEach(p.Ui,y=>h.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!hu(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const y=h.os.get(p),w=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(p,T)}}}(r.localStore,s))}async function T4(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await wC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(n,r.hs)}}function S4(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function MC(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v4.bind(null,e),e.Ca.d_=s4.bind(null,e.eventManager),e.Ca.$a=o4.bind(null,e.eventManager),e}function I4(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w4.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Cj(this.persistence,new Aj,e.initialUser,this.serializer)}Ga(e){return new Tj(av.Zr,this.serializer)}Wa(e){return new Dj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await e4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n4}()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=function(s){return new Fj(s)}(e.databaseInfo);return function(s,o,a,l){return new $j(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new zj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HE(this.syncEngine,n,0),function(){return jE.D()?new jE:new Vj}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new h4(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ae(i);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await pu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=UP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C4(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UE(e.remoteStore,i)),t._onlineComponents=e}async function C4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new bh)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await cp(t,new bh);return t._offlineComponents}async function FC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await qE(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await qE(t,new tg))),t._onlineComponents}function R4(t){return FC(t).then(e=>e.syncEngine)}async function x4(t){const e=await FC(t),n=e.eventManager;return n.onListen=d4.bind(null,e.syncEngine),n.onUnlisten=m4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),n}function b4(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new A4({next:p=>{h.Za(),o.enqueueAndForget(()=>i4(s,d));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new Z($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?c.reject(new Z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new a4(tv(a.path),h,{includeMetadataChanges:!0,_a:!0});return r4(s,d)}(await x4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O4(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GE(t){if(!ee.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function jl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yv(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HM;switch(r.type){case"firstParty":return new GM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=KE.get(n);r&&(K("ComponentProvider","Removing Datastore"),KE.delete(n),r.terminate())}(this),Promise.resolve()}}function N4(t,e,n,r={}){var i;const s=(t=jl(t,vv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ct.MOCK_USER;else{a=sD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ct(c)}t._authCredentials=new WM(new jP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _v(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ul extends _v{constructor(e,n,r){super(e,n,tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ee(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function wv(t,e,...n){if(t=rn(t),arguments.length===1&&(e=UP.newId()),k4("doc","path",e),t instanceof vv){const r=qe.fromString(e,...n);return GE(r),new vn(t,null,new ee(r))}{if(!(t instanceof vn||t instanceof Ul))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return GE(r),new vn(t.firestore,t instanceof Ul?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TC(this,"async_queue_retry"),this.Vu=()=>{const r=up();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new hi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hu(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ev extends vv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new YE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YE(e),this._firestoreClient=void 0,await e}}}function D4(t,e){const n=typeof t=="object"?t:YA(),r=typeof t=="string"?t:"(default)",i=Fy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rD("firestore");s&&N4(i,...s)}return i}function UC(t){if(t._terminated)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V4(t),t._firestoreClient}function V4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new aF(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new P4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(wt.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^__.*__$/;class M4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}function $C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Rd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($C(this.Cu)&&L4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class F4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Id(e)}Qu(e,n,r,i=!1){return new Rd({Cu:e,methodName:n,qu:r,path:gt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j4(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new F4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);WC("Data must be an object, but it was:",o,r);const a=zC(r,o);let l,c;if(s.merge)l=new Pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=$4(e,d,n);if(!o.contains(p))throw new Z($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);z4(h,p)||h.push(p)}l=new Pn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new M4(new mn(a),l,c)}function BC(t,e,n){return new Rd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Av extends Cd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=BC(this,e,!0),r=this.Ku.map(s=>xd(s,n)),i=new Oo(r);return new oC(e.path,i)}isEqual(e){return e instanceof Av&&Po(this.Ku,e.Ku)}}class Pv extends Cd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=BC(this,e,!0),r=this.Ku.map(s=>xd(s,n)),i=new No(r);return new oC(e.path,i)}isEqual(e){return e instanceof Pv&&Po(this.Ku,e.Ku)}}function xd(t,e){if(HC(t=rn(t)))return WC("Unsupported field value:",e,t),zC(t,e);if(t instanceof Cd)return function(r,i){if(!$C(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=xd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:Rh(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,s)}}if(r instanceof Sv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lo)return{bytesValue:fC(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Iv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return nv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yv(r)}`)}(t,e)}function zC(t,e){const n={};return $P(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(r,i)=>{const s=xd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Sv||t instanceof Lo||t instanceof vn||t instanceof Cd||t instanceof Iv)}function WC(t,e,n){if(!HC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $4(t,e,n){if((e=rn(e))instanceof Tv)return e._internalPath;if(typeof e=="string")return qC(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const B4=new RegExp("[~\\*/\\[\\]]");function qC(t,e,n){if(e.search(B4)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tv(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z($.INVALID_ARGUMENT,a+t+l)}function z4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H4 extends KC{data(){return super.data()}}function GC(t,e){return typeof e=="string"?qC(t,e):e instanceof Tv?e._internalPath:e._delegate._internalPath}class W4{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qe(o.doubleValue));return new Iv(s)}convertGeoPoint(e){return new Sv(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=gi(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Se(_C(r));const i=new Ml(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QC extends KC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new G4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(GC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class G4 extends QC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){t=jl(t,vn);const e=jl(t.firestore,Ev);return b4(UC(e),t._key).then(n=>J4(e,t,n))}class Y4 extends W4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function YC(t,e,n){t=jl(t,vn);const r=jl(t.firestore,Ev),i=q4(t.converter,e,n);return X4(r,[U4(j4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hr.none())])}function X4(t,e){return function(r,i){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>y4(await R4(r),i,s)),s.promise}(UC(t),e)}function J4(t,e,n){const r=n.docs.get(e._key),i=new Y4(t);return new QC(t,i,e._key,r,new K4(n.hasPendingWrites,n.fromCache),e.converter)}function Z4(...t){return new Av("arrayUnion",t)}function eU(...t){return new Pv("arrayRemove",t)}(function(e,n=!0){(function(i){Qo=i})(Ko),Co(new cs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ev(new qM(r.getProvider("auth-internal")),new YM(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ci(gE,"4.7.3",e),ci(gE,"4.7.3","esm2017")})();const tU={apiKey:"AIzaSyBM7mtShupysJiLQXYGHn9UgFtVoex-WsQ",authDomain:"yumyum-3348c.firebaseapp.com",projectId:"yumyum-3348c",storageBucket:"yumyum-3348c.appspot.com",messagingSenderId:"217704042465",appId:"1:217704042465:web:0ffe77d733ee1b1680cca0"},XC=QA(tU),bd=UM(XC),Cv=D4(XC),Zo=b.createContext(),nU=({children:t})=>{const[e,n]=b.useState(null);return b.useEffect(()=>{const r=RL(bd,i=>{n(i)});return()=>r()},[]),D.jsx(Zo.Provider,{value:{currentUser:e},children:t})},rU=async(t,e)=>{try{return(await IL(bd,t,e)).user}catch(n){throw console.error("Error signing up:",n),n}},iU=async(t,e)=>{try{return(await AL(bd,t,e)).user}catch(n){throw console.error("Error logging in:",n),n}},sU=async()=>{try{await xL(bd),console.log("User logged out")}catch(t){throw console.error("Error logging out:",t),t}};function JC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=JC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=JC(t))&&(r&&(r+=" "),r+=e);return r}const $l=t=>typeof t=="number"&&!isNaN(t),ts=t=>typeof t=="string",Zt=t=>typeof t=="function",Mc=t=>ts(t)||Zt(t)?t:null,ng=t=>b.isValidElement(t)||ts(t)||Zt(t)||$l(t);function oU(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function kd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:h,nodeRef:d,isIn:p,playToast:y}=o;const w=r?`${e}--${l}`:e,T=r?`${n}--${l}`:n,I=b.useRef(0);return b.useLayoutEffect(()=>{const v=d.current,g=w.split(" "),E=k=>{k.target===d.current&&(y(),v.removeEventListener("animationend",E),v.removeEventListener("animationcancel",E),I.current===0&&k.type!=="animationcancel"&&v.classList.remove(...g))};v.classList.add(...g),v.addEventListener("animationend",E),v.addEventListener("animationcancel",E)},[]),b.useEffect(()=>{const v=d.current,g=()=>{v.removeEventListener("animationend",g),i?oU(v,h,s):h()};p||(c?g():(I.current=1,v.className+=` ${T}`,v.addEventListener("animationend",g)))},[p]),me.createElement(me.Fragment,null,a)}}function XE(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Lt=new Map;let Bl=[];const rg=new Set,aU=t=>rg.forEach(e=>e(t)),ZC=()=>Lt.size>0;function eR(t,e){var n;if(e)return!((n=Lt.get(e))==null||!n.isToastActive(t));let r=!1;return Lt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function tR(t,e){ng(t)&&(ZC()||Bl.push({content:t,options:e}),Lt.forEach(n=>{n.buildToast(t,e)}))}function JE(t,e){Lt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function lU(t){const{subscribe:e,getSnapshot:n,setProps:r}=b.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(h,d,p){let y=1,w=0,T=[],I=[],v=[],g=d;const E=new Map,k=new Set,V=()=>{v=Array.from(E.values()),k.forEach(_=>_())},L=_=>{I=_==null?[]:I.filter(P=>P!==_),V()},A=_=>{const{toastId:P,onOpen:C,updateId:x,children:O}=_.props,R=x==null;_.staleId&&E.delete(_.staleId),E.set(P,_),I=[...I,_.props.toastId].filter(ye=>ye!==_.staleId),V(),p(XE(_,R?"added":"updated")),R&&Zt(C)&&C(b.isValidElement(O)&&O.props)};return{id:h,props:g,observe:_=>(k.add(_),()=>k.delete(_)),toggle:(_,P)=>{E.forEach(C=>{P!=null&&P!==C.props.toastId||Zt(C.toggle)&&C.toggle(_)})},removeToast:L,toasts:E,clearQueue:()=>{w-=T.length,T=[]},buildToast:(_,P)=>{if((re=>{let{containerId:ce,toastId:ke,updateId:Ce}=re;const Je=ce?ce!==h:h!==1,tt=E.has(ke)&&Ce==null;return Je||tt})(P))return;const{toastId:C,updateId:x,data:O,staleId:R,delay:ye}=P,ot=()=>{L(C)},Qt=x==null;Qt&&w++;const ue={...g,style:g.toastStyle,key:y++,...Object.fromEntries(Object.entries(P).filter(re=>{let[ce,ke]=re;return ke!=null})),toastId:C,updateId:x,data:O,closeToast:ot,isIn:!1,className:Mc(P.className||g.toastClassName),bodyClassName:Mc(P.bodyClassName||g.bodyClassName),progressClassName:Mc(P.progressClassName||g.progressClassName),autoClose:!P.isLoading&&(z=P.autoClose,Q=g.autoClose,z===!1||$l(z)&&z>0?z:Q),deleteToast(){const re=E.get(C),{onClose:ce,children:ke}=re.props;Zt(ce)&&ce(b.isValidElement(ke)&&ke.props),p(XE(re,"removed")),E.delete(C),w--,w<0&&(w=0),T.length>0?A(T.shift()):V()}};var z,Q;ue.closeButton=g.closeButton,P.closeButton===!1||ng(P.closeButton)?ue.closeButton=P.closeButton:P.closeButton===!0&&(ue.closeButton=!ng(g.closeButton)||g.closeButton);let Y=_;b.isValidElement(_)&&!ts(_.type)?Y=b.cloneElement(_,{closeToast:ot,toastProps:ue,data:O}):Zt(_)&&(Y=_({closeToast:ot,toastProps:ue,data:O}));const de={content:Y,props:ue,staleId:R};g.limit&&g.limit>0&&w>g.limit&&Qt?T.push(de):$l(ye)?setTimeout(()=>{A(de)},ye):A(de)},setProps(_){g=_},setToggle:(_,P)=>{E.get(_).toggle=P},isToastActive:_=>I.some(P=>P===_),getSnapshot:()=>g.newestOnTop?v.reverse():v}}(o,s,aU);Lt.set(o,l);const c=l.observe(a);return Bl.forEach(h=>tR(h.content,h.options)),Bl=[],()=>{c(),Lt.delete(o)}},setProps(a){var l;(l=Lt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Lt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=b.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:eR,count:i==null?void 0:i.length}}function uU(t){const[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:d}=t;var p,y;function w(){n(!0)}function T(){n(!1)}function I(E){const k=s.current;o.canDrag&&k&&(o.didMove=!0,e&&T(),o.delta=t.draggableDirection==="x"?E.clientX-o.start:E.clientY-o.start,o.start!==E.clientX&&(o.canCloseOnClick=!1),k.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",v);const E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}(y=Lt.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(p.id,p.fn),b.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||T(),window.addEventListener("focus",w),window.addEventListener("blur",T),()=>{window.removeEventListener("focus",w),window.removeEventListener("blur",T)}},[t.pauseOnFocusLoss]);const g={onPointerDown:function(E){if(t.draggable===!0||t.draggable===E.pointerType){o.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",v);const k=s.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(o.start=E.clientX,o.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(o.start=E.clientY,o.removalDistance=k.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(E){const{top:k,bottom:V,left:L,right:A}=s.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&E.clientX>=L&&E.clientX<=A&&E.clientY>=k&&E.clientY<=V?T():w()}};return a&&l&&(g.onMouseEnter=T,t.stacked||(g.onMouseLeave=w)),d&&(g.onClick=E=>{h&&h(E),o.canCloseOnClick&&c()}),{playToast:w,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:g}}function cU(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:h,isIn:d,theme:p}=t;const y=s||l&&c===0,w={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(w.transform=`scaleX(${c})`);const T=Xr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),I=Zt(o)?o({rtl:h,type:i,defaultClassName:T}):Xr(T,o),v={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),me.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:I,style:w,...v}))}let hU=1;const nR=()=>""+hU++;function dU(t){return t&&(ts(t.toastId)||$l(t.toastId))?t.toastId:nR()}function al(t,e){return tR(t,e),e.toastId}function Oh(t,e){return{...e,type:e&&e.type||t,toastId:dU(e)}}function cc(t){return(e,n)=>al(e,Oh(t,n))}function Ae(t,e){return al(t,Oh("default",e))}Ae.loading=(t,e)=>al(t,Oh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ae.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=ts(i)?Ae.loading(i,n):Ae.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,d,p)=>{if(d==null)return void Ae.dismiss(r);const y={type:h,...a,...n,data:p},w=ts(d)?{render:d}:d;return r?Ae.update(r,{...y,...w}):Ae(w.render,{...y,...w}),p},c=Zt(t)?t():t;return c.then(h=>l("success",o,h)).catch(h=>l("error",s,h)),c},Ae.success=cc("success"),Ae.info=cc("info"),Ae.error=cc("error"),Ae.warning=cc("warning"),Ae.warn=Ae.warning,Ae.dark=(t,e)=>al(t,Oh("default",{theme:"dark",...e})),Ae.dismiss=function(t){(function(e){var n;if(ZC()){if(e==null||ts(n=e)||$l(n))Lt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Lt.get(e.containerId);r?r.removeToast(e.id):Lt.forEach(i=>{i.removeToast(e.id)})}}else Bl=Bl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Ae.clearWaitingQueue=function(t){t===void 0&&(t={}),Lt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ae.isActive=eR,Ae.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Lt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:nR()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,al(o,s)}},Ae.done=t=>{Ae.update(t,{progress:1})},Ae.onChange=function(t){return rg.add(t),()=>{rg.delete(t)}},Ae.play=t=>JE(!0,t),Ae.pause=t=>JE(!1,t);const fU=typeof window<"u"?b.useLayoutEffect:b.useEffect,hc=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},hp={info:function(t){return me.createElement(hc,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return me.createElement(hc,{...t},me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return me.createElement(hc,{...t},me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return me.createElement(hc,{...t},me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return me.createElement("div",{className:"Toastify__spinner"})}},pU=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=uU(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:h,hideProgressBar:d,closeToast:p,transition:y,position:w,className:T,style:I,bodyClassName:v,bodyStyle:g,progressClassName:E,progressStyle:k,updateId:V,role:L,progress:A,rtl:_,toastId:P,deleteToast:C,isIn:x,isLoading:O,closeOnClick:R,theme:ye}=t,ot=Xr("Toastify__toast",`Toastify__toast-theme--${ye}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":R}),Qt=Zt(T)?T({rtl:_,position:w,type:h,defaultClassName:ot}):Xr(ot,T),ue=function(de){let{theme:re,type:ce,isLoading:ke,icon:Ce}=de,Je=null;const tt={theme:re,type:ce};return Ce===!1||(Zt(Ce)?Je=Ce({...tt,isLoading:ke}):b.isValidElement(Ce)?Je=b.cloneElement(Ce,tt):ke?Je=hp.spinner():(bs=>bs in hp)(ce)&&(Je=hp[ce](tt))),Je}(t),z=!!A||!l,Q={closeToast:p,type:h,theme:ye};let Y=null;return o===!1||(Y=Zt(o)?o(Q):b.isValidElement(o)?b.cloneElement(o,Q):function(de){let{closeToast:re,theme:ce,ariaLabel:ke="close"}=de;return me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ce}`,type:"button",onClick:Ce=>{Ce.stopPropagation(),re(Ce)},"aria-label":ke},me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Q)),me.createElement(y,{isIn:x,done:C,position:w,preventExitTransition:n,nodeRef:r,playToast:s},me.createElement("div",{id:P,onClick:c,"data-in":x,className:Qt,...i,style:I,ref:r},me.createElement("div",{...x&&{role:L},className:Zt(v)?v({type:h}):Xr("Toastify__toast-body",v),style:g},ue!=null&&me.createElement("div",{className:Xr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},ue),me.createElement("div",null,a)),Y,me.createElement(cU,{...V&&!z?{key:`pb-${V}`}:{},rtl:_,theme:ye,delay:l,isRunning:e,isIn:x,closeToast:p,hide:d,type:h,style:k,className:E,controlledProgress:z,progress:A||0})))},Od=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},mU=kd(Od("bounce",!0));kd(Od("slide",!0));kd(Od("zoom"));kd(Od("flip"));const gU={position:"top-right",transition:mU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function yU(t){let e={...gU,...t};const n=t.stacked,[r,i]=b.useState(!0),s=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=lU(e),{className:c,style:h,rtl:d,containerId:p}=e;function y(T){const I=Xr("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":d});return Zt(c)?c({position:T,rtl:d,defaultClassName:I}):Xr(I,Mc(c))}function w(){n&&(i(!0),Ae.play())}return fU(()=>{if(n){var T;const I=s.current.querySelectorAll('[data-in="true"]'),v=12,g=(T=e.position)==null?void 0:T.includes("top");let E=0,k=0;Array.from(I).reverse().forEach((V,L)=>{const A=V;A.classList.add("Toastify__toast--stacked"),L>0&&(A.dataset.collapsed=`${r}`),A.dataset.pos||(A.dataset.pos=g?"top":"bot");const _=E*(r?.2:1)+(r?0:v*L);A.style.setProperty("--y",`${g?_:-1*_}px`),A.style.setProperty("--g",`${v}`),A.style.setProperty("--s",""+(1-(r?k:0))),E+=A.offsetHeight,k+=.025})}},[r,l,n]),me.createElement("div",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),Ae.pause())},onMouseLeave:w},o((T,I)=>{const v=I.length?{...h}:{...h,pointerEvents:"none"};return me.createElement("div",{className:y(T),style:v,key:`container-${T}`},I.map(g=>{let{content:E,props:k}=g;return me.createElement(pU,{...k,stacked:n,collapseAll:w,isIn:a(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},E)}))}))}var rR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ZE=me.createContext&&me.createContext(rR),vU=["attr","size","title"];function _U(t,e){if(t==null)return{};var n=wU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){EU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EU(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=SU(t,"string");return typeof e=="symbol"?e:e+""}function SU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iR(t){return t&&t.map((e,n)=>me.createElement(e.tag,Dh({key:n},e.attr),iR(e.child)))}function sR(t){return e=>me.createElement(IU,Nh({attr:Dh({},t.attr)},e),iR(t.child))}function IU(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=_U(t,vU),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),me.createElement("svg",Nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Dh(Dh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&me.createElement("title",null,s),t.children)};return ZE!==void 0?me.createElement(ZE.Consumer,null,n=>e(n)):e(rR)}function AU(t){return sR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function PU(t){return sR({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function CU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function zl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ig=t=>Array.isArray(t);function oR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Hl(t){return typeof t=="string"||Array.isArray(t)}function tT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Rv(t,e,n,r){if(typeof e=="function"){const[i,s]=tT(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=tT(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Nd(t,e,n){const r=t.getProps();return Rv(r,e,n!==void 0?n:r.custom,t)}const xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bv=["initial",...xv],gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ri=new Set(gu),dr=t=>t*1e3,fr=t=>t/1e3,RU={type:"spring",stiffness:500,damping:25,restSpeed:10},xU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bU={type:"keyframes",duration:.8},kU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OU=(t,{keyframes:e})=>e.length>2?bU:Ri.has(t)?t.startsWith("scale")?xU(e[1]):RU:kU;function kv(t,e){return t[e]||t.default||t}const NU={skipAnimations:!1,useManualTiming:!1},DU=t=>t!==null;function Dd(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(DU),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const kt=t=>t;function VU(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const y=d&&r?e:n;return h&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const dc=["read","resolveKeyframes","update","preRender","render","postRender"],LU=40;function aR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=dc.reduce((v,g)=>(v[g]=VU(s),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:p}=o,y=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,LU),1),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},w=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:dc.reduce((v,g)=>{const E=o[g];return v[g]=(k,V=!1,L=!1)=>(n||w(),E.schedule(k,V,L)),v},{}),cancel:v=>{for(let g=0;g<dc.length;g++)o[dc[g]].cancel(v)},state:i,steps:o}}const{schedule:Pe,cancel:vi,state:ft,steps:dp}=aR(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0),lR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,MU=1e-7,FU=12;function jU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=lR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>MU&&++a<FU);return o}function yu(t,e,n,r){if(t===e&&n===r)return kt;const i=s=>jU(s,0,1,t,n);return s=>s===0||s===1?s:lR(i(s),e,r)}const uR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cR=t=>e=>1-t(1-e),hR=yu(.33,1.53,.69,.99),Ov=cR(hR),dR=uR(Ov),fR=t=>(t*=2)<1?.5*Ov(t):.5*(2-Math.pow(2,-10*(t-1))),Nv=t=>1-Math.sin(Math.acos(t)),pR=cR(Nv),mR=uR(Nv),gR=t=>/^0[^.\s]+$/u.test(t);function UU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gR(t):!0}let sg=kt;const yR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),vR=t=>e=>typeof e=="string"&&e.startsWith(t),_R=vR("--"),$U=vR("var(--"),Dv=t=>$U(t)?BU.test(t.split("/*")[0].trim()):!1,BU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HU(t){const e=zU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function wR(t,e,n=1){const[r,i]=HU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return yR(o)?parseFloat(o):o}return Dv(i)?wR(i,e,n+1):i}const _i=(t,e,n)=>n>e?e:n<t?t:n,ea={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wl={...ea,transform:t=>_i(0,1,t)},fc={...ea,default:1},vu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mr=vu("deg"),zn=vu("%"),te=vu("px"),WU=vu("vh"),qU=vu("vw"),nT={...zn,parse:t=>zn.parse(t)/100,transform:t=>zn.transform(t*100)},KU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rT=t=>t===ea||t===te,iT=(t,e)=>parseFloat(t.split(", ")[e]),sT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return iT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?iT(s[1],t):0}},GU=new Set(["x","y","z"]),QU=gu.filter(t=>!GU.has(t));function YU(t){const e=[];return QU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sT(4,13),y:sT(5,14)};Mo.translateX=Mo.x;Mo.translateY=Mo.y;const ER=t=>e=>e.test(t),XU={test:t=>t==="auto",parse:t=>t},TR=[ea,te,zn,Mr,qU,WU,XU],oT=t=>TR.find(ER(t)),ns=new Set;let og=!1,ag=!1;function SR(){if(ag){const t=Array.from(ns).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=YU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ag=!1,og=!1,ns.forEach(t=>t.complete()),ns.clear()}function IR(){ns.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ag=!0)})}function JU(){IR(),SR()}class Vv{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ns.add(this),og||(og=!0,Pe.read(IR),Pe.resolveKeyframes(SR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ns.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ns.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ll=t=>Math.round(t*1e5)/1e5,Lv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZU(t){return t==null}const e$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mv=(t,e)=>n=>!!(typeof n=="string"&&e$.test(n)&&n.startsWith(t)||e&&!ZU(n)&&Object.prototype.hasOwnProperty.call(n,e)),AR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Lv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},t$=t=>_i(0,255,t),fp={...ea,transform:t=>Math.round(t$(t))},Qi={test:Mv("rgb","red"),parse:AR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fp.transform(t)+", "+fp.transform(e)+", "+fp.transform(n)+", "+ll(Wl.transform(r))+")"};function n$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const lg={test:Mv("#"),parse:n$,transform:Qi.transform},no={test:Mv("hsl","hue"),parse:AR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zn.transform(ll(e))+", "+zn.transform(ll(n))+", "+ll(Wl.transform(r))+")"},Pt={test:t=>Qi.test(t)||lg.test(t)||no.test(t),parse:t=>Qi.test(t)?Qi.parse(t):no.test(t)?no.parse(t):lg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qi.transform(t):no.transform(t)},r$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(r$))===null||n===void 0?void 0:n.length)||0)>0}const PR="number",CR="color",s$="var",o$="var(",aT="${}",a$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ql(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(a$,l=>(Pt.test(l)?(r.color.push(s),i.push(CR),n.push(Pt.parse(l))):l.startsWith(o$)?(r.var.push(s),i.push(s$),n.push(l)):(r.number.push(s),i.push(PR),n.push(parseFloat(l))),++s,aT)).split(aT);return{values:n,split:a,indexes:r,types:i}}function RR(t){return ql(t).values}function xR(t){const{split:e,types:n}=ql(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===PR?s+=ll(i[o]):a===CR?s+=Pt.transform(i[o]):s+=i[o]}return s}}const l$=t=>typeof t=="number"?0:t;function u$(t){const e=RR(t);return xR(t)(e.map(l$))}const wi={test:i$,parse:RR,createTransformer:xR,getAnimatableNone:u$},c$=new Set(["brightness","contrast","saturate","opacity"]);function h$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lv)||[];if(!r)return t;const i=n.replace(r,"");let s=c$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const d$=/\b([a-z-]*)\(.*?\)/gu,ug={...wi,getAnimatableNone:t=>{const e=t.match(d$);return e?e.map(h$).join(" "):t}},f$={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te},p$={rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:fc,scaleX:fc,scaleY:fc,scaleZ:fc,skew:Mr,skewX:Mr,skewY:Mr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Wl,originX:nT,originY:nT,originZ:te},lT={...ea,transform:Math.round},Fv={...f$,...p$,zIndex:lT,size:te,fillOpacity:Wl,strokeOpacity:Wl,numOctaves:lT},m$={...Fv,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:ug,WebkitFilter:ug},jv=t=>m$[t];function bR(t,e){let n=jv(t);return n!==ug&&(n=wi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g$=new Set(["auto","none","0"]);function y$(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!g$.has(s)&&ql(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=bR(n,i)}class kR extends Vv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Dv(c))){const h=wR(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!KU.has(r)||e.length!==2)return;const[i,s]=e,o=oT(i),a=oT(s);if(o!==a)if(rT(o)&&rT(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)UU(e[i])&&r.push(i);r.length&&y$(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Mo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Uv(t){return typeof t=="function"}let Fc;function v$(){Fc=void 0}const Hn={now:()=>(Fc===void 0&&Hn.set(ft.isProcessing||NU.useManualTiming?ft.timestamp:performance.now()),Fc),set:t=>{Fc=t,queueMicrotask(v$)}},uT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wi.test(t)||t==="0")&&!t.startsWith("url("));function _$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function w$(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=uT(i,e),a=uT(s,e);return!o||!a?!1:_$(t)||(n==="spring"||Uv(n))&&r}const E$=40;class OR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>E$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JU(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Hn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!w$(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Dd(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function NR(t,e){return e?t*(1e3/e):0}const T$=5;function DR(t,e,n){const r=Math.max(e-T$,0);return NR(n-t(r),e-r)}const pp=.001,S$=.01,I$=10,A$=.05,P$=1;function C$({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=_i(A$,P$,o),t=_i(S$,I$,fr(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-n,y=cg(c,o),w=Math.exp(-d);return pp-p/y*w},s=c=>{const d=c*o*t,p=d*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),T=cg(Math.pow(c,2),o);return(-i(c)+pp>0?-1:1)*((p-y)*w)/T}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-pp+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=x$(i,s,a);if(t=dr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const R$=12;function x$(t,e,n){let r=n;for(let i=1;i<R$;i++)r=r-t(r)/e(r);return r}function cg(t,e){return t*Math.sqrt(1-e*e)}const b$=["duration","bounce"],k$=["stiffness","damping","mass"];function cT(t,e){return e.some(n=>t[n]!==void 0)}function O$(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!cT(t,k$)&&cT(t,b$)){const n=C$(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function VR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=O$({...r,velocity:-fr(r.velocity||0)}),y=d||0,w=l/(2*Math.sqrt(a*c)),T=s-i,I=fr(Math.sqrt(a/c)),v=Math.abs(T)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let g;if(w<1){const E=cg(I,w);g=k=>{const V=Math.exp(-w*I*k);return s-V*((y+w*I*T)/E*Math.sin(E*k)+T*Math.cos(E*k))}}else if(w===1)g=E=>s-Math.exp(-I*E)*(T+(y+I*T)*E);else{const E=I*Math.sqrt(w*w-1);g=k=>{const V=Math.exp(-w*I*k),L=Math.min(E*k,300);return s-V*((y+w*I*T)*Math.sinh(L)+E*T*Math.cosh(L))/E}}return{calculatedDuration:p&&h||null,next:E=>{const k=g(E);if(p)o.done=E>=h;else{let V=0;w<1&&(V=E===0?dr(y):DR(g,E,k));const L=Math.abs(V)<=n,A=Math.abs(s-k)<=e;o.done=L&&A}return o.value=o.done?s:k,o}}}function hT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},y=_=>a!==void 0&&_<a||l!==void 0&&_>l,w=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let T=n*e;const I=d+T,v=o===void 0?I:o(I);v!==I&&(T=v-d);const g=_=>-T*Math.exp(-_/r),E=_=>v+g(_),k=_=>{const P=g(_),C=E(_);p.done=Math.abs(P)<=c,p.value=p.done?v:C};let V,L;const A=_=>{y(p.value)&&(V=_,L=VR({keyframes:[p.value,w(p.value)],velocity:DR(E,_,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return A(0),{calculatedDuration:null,next:_=>{let P=!1;return!L&&V===void 0&&(P=!0,k(_),A(_)),V!==void 0&&_>=V?L.next(_-V):(!P&&k(_),p)}}}const N$=yu(.42,0,1,1),D$=yu(0,0,.58,1),LR=yu(.42,0,.58,1),V$=t=>Array.isArray(t)&&typeof t[0]!="number",dT={linear:kt,easeIn:N$,easeInOut:LR,easeOut:D$,circIn:Nv,circInOut:mR,circOut:pR,backIn:Ov,backInOut:dR,backOut:hR,anticipate:fR},fT=t=>{if(Array.isArray(t)){sg(t.length===4);const[e,n,r,i]=t;return yu(e,n,r,i)}else if(typeof t=="string")return sg(dT[t]!==void 0),dT[t];return t},L$=(t,e)=>n=>e(t(n)),pr=(...t)=>t.reduce(L$),Fo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ue=(t,e,n)=>t+(e-t)*n;function mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function M$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=mp(l,a,t+1/3),s=mp(l,a,t),o=mp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Vh(t,e){return n=>n>0?e:t}const gp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},F$=[lg,Qi,no],j$=t=>F$.find(e=>e.test(t));function pT(t){const e=j$(t);if(!e)return!1;let n=e.parse(t);return e===no&&(n=M$(n)),n}const mT=(t,e)=>{const n=pT(t),r=pT(e);if(!n||!r)return Vh(t,e);const i={...n};return s=>(i.red=gp(n.red,r.red,s),i.green=gp(n.green,r.green,s),i.blue=gp(n.blue,r.blue,s),i.alpha=Ue(n.alpha,r.alpha,s),Qi.transform(i))},hg=new Set(["none","hidden"]);function U$(t,e){return hg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $$(t,e){return n=>Ue(t,e,n)}function $v(t){return typeof t=="number"?$$:typeof t=="string"?Dv(t)?Vh:Pt.test(t)?mT:H$:Array.isArray(t)?MR:typeof t=="object"?Pt.test(t)?mT:B$:Vh}function MR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>$v(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function B$(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=$v(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function z$(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const H$=(t,e)=>{const n=wi.createTransformer(e),r=ql(t),i=ql(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hg.has(t)&&!i.values.length||hg.has(e)&&!r.values.length?U$(t,e):pr(MR(z$(r,i),i.values),n):Vh(t,e)};function FR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ue(t,e,n):$v(t)(t,e)}function W$(t,e,n){const r=[],i=n||FR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||kt:e;a=pr(l,a)}r.push(a)}return r}function q$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(sg(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=W$(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Fo(t[h],t[h+1],c);return o[h](d)};return n?c=>l(_i(t[0],t[s-1],c)):l}function K$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fo(0,e,r);t.push(Ue(n,1,i))}}function G$(t){const e=[0];return K$(e,t.length-1),e}function Q$(t,e){return t.map(n=>n*e)}function Y$(t,e){return t.map(()=>e||LR).splice(0,t.length-1)}function Lh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=V$(r)?r.map(fT):fT(r),s={done:!1,value:e[0]},o=Q$(n&&n.length===e.length?n:G$(e),t),a=q$(o,e,{ease:Array.isArray(i)?i:Y$(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const gT=2e4;function X$(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gT;)e+=n,r=t.next(e);return e>=gT?1/0:e}const J$=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pe.update(e,!0),stop:()=>vi(e),now:()=>ft.isProcessing?ft.timestamp:Hn.now()}},Z$={decay:hT,inertia:hT,tween:Lh,keyframes:Lh,spring:VR},e3=t=>t/100;class Bv extends OR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Vv,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Uv(n)?n:Z$[n]||Lh;let l,c;a!==Lh&&typeof e[0]!="number"&&(l=pr(e3,FR(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=X$(h));const{calculatedDuration:d}=h,p=d+i,y=p*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:y,repeatType:w,repeatDelay:T,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>h;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,k=s;if(y){const _=Math.min(this.currentTime,h)/d;let P=Math.floor(_),C=_%1;!C&&_>=1&&(C=1),C===1&&P--,P=Math.min(P,y+1),!!(P%2)&&(w==="reverse"?(C=1-C,T&&(C-=T/d)):w==="mirror"&&(k=o)),E=_i(0,1,C)*d}const V=g?{done:!1,value:l[0]}:k.next(E);a&&(V.value=a(V.value));let{done:L}=V;!g&&c!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return A&&i!==void 0&&(V.value=Dd(l,this.options,i)),I&&I(V.value),A&&this.finish(),V}get duration(){const{resolved:e}=this;return e?fr(e.calculatedDuration):0}get time(){return fr(this.currentTime)}set time(e){e=dr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=J$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jR=new Set(["opacity","clipPath","filter","transform"]),UR=t=>Array.isArray(t)&&typeof t[0]=="number",t3=10,n3=(t,e)=>{let n="";const r=Math.max(Math.round(e/t3),2);for(let i=0;i<r;i++)n+=t(Fo(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function zv(t){let e;return()=>(e===void 0&&(e=t()),e)}const r3={linearEasing:void 0};function i3(t,e){const n=zv(t);return()=>{var r;return(r=r3[e])!==null&&r!==void 0?r:n()}}const Mh=i3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function $R(t){return!!(typeof t=="function"&&Mh()||!t||typeof t=="string"&&(t in dg||Mh())||UR(t)||Array.isArray(t)&&t.every($R))}const Ha=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ha([0,.65,.55,1]),circOut:Ha([.55,0,1,.45]),backIn:Ha([.31,.01,.66,-.59]),backOut:Ha([.33,1.53,.69,.99])};function BR(t,e){if(t)return typeof t=="function"&&Mh()?n3(t,e):UR(t)?Ha(t):Array.isArray(t)?t.map(n=>BR(n,e)||dg.easeOut):dg[t]}function s3(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=BR(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function yT(t,e){t.timeline=e,t.onfinish=null}const o3=zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fh=10,a3=2e4;function l3(t){return Uv(t.type)||t.type==="spring"||!$R(t.ease)}function u3(t,e){const n=new Bv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<a3;)r=n.sample(s),i.push(r.value),s+=Fh;return{times:void 0,keyframes:i,duration:s-Fh,ease:"linear"}}const zR={anticipate:fR,backInOut:dR,circInOut:mR};function c3(t){return t in zR}class vT extends OR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new kR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Mh()&&c3(o)&&(o=zR[o]),l3(this.options)){const{onComplete:p,onUpdate:y,motionValue:w,element:T,...I}=this.options,v=u3(e,I);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,s=v.times,o=v.ease,a="keyframes"}const d=s3(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(yT(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Dd(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return fr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return fr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=dr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kt;const{animation:r}=n;yT(r,e)}return kt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:p,...y}=this.options,w=new Bv({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),T=dr(this.time);c.setWithVelocity(w.sample(T-Fh).value,w.sample(T).value,Fh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return o3()&&r&&jR.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const h3=zv(()=>window.ScrollTimeline!==void 0);class d3{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>h3()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function f3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const Hv=(t,e,n,r={},i,s)=>o=>{const a=kv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-dr(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};f3(a)||(h={...h,...OU(t,h)}),h.duration&&(h.duration=dr(h.duration)),h.repeatDelay&&(h.repeatDelay=dr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=Dd(h.keyframes,a);if(p!==void 0)return Pe.update(()=>{h.onUpdate(p),h.onComplete()}),new d3([])}return!s&&vT.supports(h)?new vT(h):new Bv(h)},p3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),m3=t=>ig(t)?t[t.length-1]||0:t;function Wv(t,e){t.indexOf(e)===-1&&t.push(e)}function qv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Kv{constructor(){this.subscriptions=[]}add(e){return Wv(this.subscriptions,e),()=>qv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _T=30,g3=t=>!isNaN(parseFloat(t));class y3{constructor(e,n={}){this.version="11.11.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Hn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=g3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_T)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_T);return NR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(t,e){return new y3(t,e)}function v3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kl(n))}function _3(t,e){const n=Nd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=m3(s[o]);v3(t,o,a)}}const Vd=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w3="framerAppearId",HR="data-"+Vd(w3);function WR(t){return t.props[HR]}const bt=t=>!!(t&&t.getVelocity);function E3(t){return!!(bt(t)&&t.add)}function qR(t){if(Ri.has(t))return"transform";if(jR.has(t))return Vd(t)}function fg(t,e){var n;if(!t.applyWillChange)return;const r=t.getValue("willChange");if(E3(r))return r.add(e);!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&qR(e)&&t.setStaticValue("willChange","transform")}function T3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function KR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const p=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),y=l[d];if(y===void 0||h&&T3(h,d))continue;const w={delay:n,...kv(o||{},d)};let T=!1;if(window.MotionHandoffAnimation){const v=WR(t);if(v){const g=window.MotionHandoffAnimation(v,d,Pe);g!==null&&(w.startTime=g,T=!0)}}fg(t,d),p.start(Hv(d,p,y,t.shouldReduceMotion&&Ri.has(d)?{type:!1}:w,t,T));const I=p.animation;I&&c.push(I)}return a&&Promise.all(c).then(()=>{Pe.update(()=>{a&&_3(t,a)})}),c}function pg(t,e,n={}){var r;const i=Nd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(KR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return S3(t,e,h+c,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function S3(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(I3).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(pg(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function I3(t,e){return t.sortNodePosition(e)}function A3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=pg(t,e,n);else{const i=typeof e=="function"?Nd(t,e,n.custom):e;r=Promise.all(KR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const P3=bv.length;function GR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<P3;n++){const r=bv[n],i=t.props[r];(Hl(i)||i===!1)&&(e[r]=i)}return e}const C3=[...xv].reverse(),R3=xv.length;function x3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>A3(t,n,r)))}function b3(t){let e=x3(t),n=wT(),r=!0;const i=l=>(c,h)=>{var d;const p=Nd(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:y,transitionEnd:w,...T}=p;c={...c,...T,...w}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=GR(t.parent)||{},d=[],p=new Set;let y={},w=1/0;for(let I=0;I<R3;I++){const v=C3[I],g=n[v],E=c[v]!==void 0?c[v]:h[v],k=Hl(E),V=v===l?g.isActive:null;V===!1&&(w=I);let L=E===h[v]&&E!==c[v]&&k;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),g.protectedKeys={...y},!g.isActive&&V===null||!E&&!g.prevProp||zl(E)||typeof E=="boolean")continue;const A=k3(g.prevProp,E);let _=A||v===l&&g.isActive&&!L&&k||I>w&&k,P=!1;const C=Array.isArray(E)?E:[E];let x=C.reduce(i(v),{});V===!1&&(x={});const{prevResolvedValues:O={}}=g,R={...O,...x},ye=ue=>{_=!0,p.has(ue)&&(P=!0,p.delete(ue)),g.needsAnimating[ue]=!0;const z=t.getValue(ue);z&&(z.liveStyle=!1)};for(const ue in R){const z=x[ue],Q=O[ue];if(y.hasOwnProperty(ue))continue;let Y=!1;ig(z)&&ig(Q)?Y=!oR(z,Q):Y=z!==Q,Y?z!=null?ye(ue):p.add(ue):z!==void 0&&p.has(ue)?ye(ue):g.protectedKeys[ue]=!0}g.prevProp=E,g.prevResolvedValues=x,g.isActive&&(y={...y,...x}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(L&&A)||P)&&d.push(...C.map(ue=>({animation:ue,options:{type:v}})))}if(p.size){const I={};p.forEach(v=>{const g=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),I[v]=g??null}),d.push({animation:I})}let T=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=wT(),r=!0}}}function k3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oR(e,t):!1}function Mi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wT(){return{animate:Mi(!0),whileInView:Mi(),whileHover:Mi(),whileTap:Mi(),whileDrag:Mi(),whileFocus:Mi(),exit:Mi()}}class xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class O3 extends xi{constructor(e){super(e),e.animationState||(e.animationState=b3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let N3=0;class D3 extends xi{constructor(){super(...arguments),this.id=N3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const V3={animation:{Feature:O3},exit:{Feature:D3}},QR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ld(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const L3=t=>e=>QR(e)&&t(e,Ld(e));function lr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function mr(t,e,n,r){return lr(t,e,L3(n),r)}const ET=(t,e)=>Math.abs(t-e);function M3(t,e){const n=ET(t.x,e.x),r=ET(t.y,e.y);return Math.sqrt(n**2+r**2)}class YR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=vp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=M3(d.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:w}=d,{timestamp:T}=ft;this.history.push({...w,timestamp:T});const{onStart:I,onMove:v}=this.handlers;p||(I&&I(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=yp(p,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=vp(d.type==="pointercancel"?this.lastMoveEventInfo:yp(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,I),w&&w(d,I)},!QR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ld(e),a=yp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ft;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,vp(a,this.history)),this.removeListeners=pr(mr(this.contextWindow,"pointermove",this.handlePointerMove),mr(this.contextWindow,"pointerup",this.handlePointerUp),mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vi(this.updatePoint)}}function yp(t,e){return e?{point:e(t.point)}:t}function TT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vp({point:t},e){return{point:t,delta:TT(t,XR(e)),offset:TT(t,F3(e)),velocity:j3(e,.1)}}function F3(t){return t[0]}function XR(t){return t[t.length-1]}function j3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=XR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>dr(e)));)n--;if(!r)return{x:0,y:0};const s=fr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function JR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const ST=JR("dragHorizontal"),IT=JR("dragVertical");function ZR(t){let e=!1;if(t==="y")e=IT();else if(t==="x")e=ST();else{const n=ST(),r=IT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function ex(){const t=ZR(!0);return t?(t(),!1):!0}function ro(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const tx=1e-4,U3=1-tx,$3=1+tx,nx=.01,B3=0-nx,z3=0+nx;function sn(t){return t.max-t.min}function H3(t,e,n){return Math.abs(t-e)<=n}function AT(t,e,n,r=.5){t.origin=r,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=Ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=U3&&t.scale<=$3||isNaN(t.scale))&&(t.scale=1),(t.translate>=B3&&t.translate<=z3||isNaN(t.translate))&&(t.translate=0)}function ul(t,e,n,r){AT(t.x,e.x,n.x,r?r.originX:void 0),AT(t.y,e.y,n.y,r?r.originY:void 0)}function PT(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function W3(t,e,n){PT(t.x,e.x,n.x),PT(t.y,e.y,n.y)}function CT(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function cl(t,e,n){CT(t.x,e.x,n.x),CT(t.y,e.y,n.y)}function q3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ue(n,t,r.max):Math.min(t,n)),t}function RT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function K3(t,{top:e,left:n,bottom:r,right:i}){return{x:RT(t.x,n,i),y:RT(t.y,e,r)}}function xT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function G3(t,e){return{x:xT(t.x,e.x),y:xT(t.y,e.y)}}function Q3(t,e){let n=.5;const r=sn(t),i=sn(e);return i>r?n=Fo(e.min,e.max-r,t.min):r>i&&(n=Fo(t.min,t.max-i,e.min)),_i(0,1,n)}function Y3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mg=.35;function X3(t=mg){return t===!1?t=0:t===!0&&(t=mg),{x:bT(t,"left","right"),y:bT(t,"top","bottom")}}function bT(t,e,n){return{min:kT(t,e),max:kT(t,n)}}function kT(t,e){return typeof t=="number"?t:t[e]||0}const OT=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:OT(),y:OT()}),NT=()=>({min:0,max:0}),Ge=()=>({x:NT(),y:NT()});function dn(t){return[t("x"),t("y")]}function rx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function J3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _p(t){return t===void 0||t===1}function gg({scale:t,scaleX:e,scaleY:n}){return!_p(t)||!_p(e)||!_p(n)}function zi(t){return gg(t)||ix(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ix(t){return DT(t.x)||DT(t.y)}function DT(t){return t&&t!=="0%"}function jh(t,e,n){const r=t-n,i=e*r;return n+i}function VT(t,e,n,r,i){return i!==void 0&&(t=jh(t,i,r)),jh(t,n,r)+e}function yg(t,e=0,n=1,r,i){t.min=VT(t.min,e,n,r,i),t.max=VT(t.max,e,n,r,i)}function sx(t,{x:e,y:n}){yg(t.x,e.translate,e.scale,e.originPoint),yg(t.y,n.translate,n.scale,n.originPoint)}const LT=.999999999999,MT=1.0000000000001;function eB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&oo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sx(t,o)),r&&zi(s.latestValues)&&oo(t,s.latestValues))}e.x<MT&&e.x>LT&&(e.x=1),e.y<MT&&e.y>LT&&(e.y=1)}function so(t,e){t.min=t.min+e,t.max=t.max+e}function FT(t,e,n,r,i=.5){const s=Ue(t.min,t.max,i);yg(t,e,n,s,r)}function oo(t,e){FT(t.x,e.x,e.scaleX,e.scale,e.originX),FT(t.y,e.y,e.scaleY,e.scale,e.originY)}function ox(t,e){return rx(Z3(t.getBoundingClientRect(),e))}function tB(t,e,n){const r=ox(t,n),{scroll:i}=e;return i&&(so(r.x,i.offset.x),so(r.y,i.offset.y)),r}const ax=({current:t})=>t?t.ownerDocument.defaultView:null,nB=new WeakMap;class rB{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ld(h,"page").point)},s=(h,d)=>{const{drag:p,dragPropagation:y,onDragStart:w}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ZR(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(I=>{let v=this.getAxisMotionValue(I).get()||0;if(zn.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const E=g.layout.layoutBox[I];E&&(v=sn(E)*(parseFloat(v)/100))}}this.originPoint[I]=v}),w&&Pe.postRender(()=>w(h,d)),fg(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:w,onDrag:T}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:I}=d;if(y&&this.currentDirection===null){this.currentDirection=iB(I),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,I),this.updateAxis("y",d.point,I),this.visualElement.render(),T&&T(h,d)},a=(h,d)=>this.stop(h,d),l=()=>dn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new YR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ax(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Pe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!pc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=q3(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ro(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=K3(i.layoutBox,n):this.constraints=!1,this.elastic=X3(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Y3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ro(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=tB(r,i.root,this.visualElement.getTransformPagePoint());let o=G3(i.layout.layoutBox,s);if(n){const a=n(J3(o));this.hasMutatedConstraints=!!a,a&&(o=rx(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=dn(h=>{if(!pc(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fg(this.visualElement,e),r.start(Hv(e,r,0,n,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!pc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ro(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Q3({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(o=>{if(!pc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ue(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;nB.set(this.visualElement,this);const e=this.visualElement.current,n=mr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ro(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pe.read(r);const o=lr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(dn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function pc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sB extends xi{constructor(e){super(e),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new rB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const jT=t=>(e,n)=>{t&&Pe.postRender(()=>t(e,n))};class oB extends xi{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(e){this.session=new YR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ax(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jT(e),onStart:jT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Pe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gv=b.createContext(null);function aB(){const t=b.useContext(Gv);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=b.useId();b.useEffect(()=>r(i),[]);const s=b.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const lx=b.createContext({}),ux=b.createContext({}),jc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=UT(t,e.target.x),r=UT(t,e.target.y);return`${n}% ${r}%`}},lB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=wi.parse(t);if(i.length>5)return r;const s=wi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ue(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Uh={};function uB(t){Object.assign(Uh,t)}const{schedule:Qv,cancel:Tq}=aR(queueMicrotask,!1);class cB extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;uB(hB),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),jc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cx(t){const[e,n]=aB(),r=b.useContext(lx);return D.jsx(cB,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(ux),isPresent:e,safeToRemove:n})}const hB={borderRadius:{...Oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oa,borderTopRightRadius:Oa,borderBottomLeftRadius:Oa,borderBottomRightRadius:Oa,boxShadow:lB},hx=["TopLeft","TopRight","BottomLeft","BottomRight"],dB=hx.length,$T=t=>typeof t=="string"?parseFloat(t):t,BT=t=>typeof t=="number"||te.test(t);function fB(t,e,n,r,i,s){i?(t.opacity=Ue(0,n.opacity!==void 0?n.opacity:1,pB(r)),t.opacityExit=Ue(e.opacity!==void 0?e.opacity:1,0,mB(r))):s&&(t.opacity=Ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<dB;o++){const a=`border${hx[o]}Radius`;let l=zT(e,a),c=zT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||BT(l)===BT(c)?(t[a]=Math.max(Ue($T(l),$T(c),r),0),(zn.test(c)||zn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ue(e.rotate||0,n.rotate||0,r))}function zT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pB=dx(0,.5,pR),mB=dx(.5,.95,kt);function dx(t,e,n){return r=>r<t?0:r>e?1:n(Fo(t,e,r))}function HT(t,e){t.min=e.min,t.max=e.max}function cn(t,e){HT(t.x,e.x),HT(t.y,e.y)}function WT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qT(t,e,n,r,i){return t-=e,t=jh(t,1/n,r),i!==void 0&&(t=jh(t,1/i,r)),t}function gB(t,e=0,n=1,r=.5,i,s=t,o=t){if(zn.test(e)&&(e=parseFloat(e),e=Ue(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ue(s.min,s.max,r);t===s&&(a-=e),t.min=qT(t.min,e,n,a,i),t.max=qT(t.max,e,n,a,i)}function KT(t,e,[n,r,i],s,o){gB(t,e[n],e[r],e[i],e.scale,s,o)}const yB=["x","scaleX","originX"],vB=["y","scaleY","originY"];function GT(t,e,n,r){KT(t.x,e,yB,n?n.x:void 0,r?r.x:void 0),KT(t.y,e,vB,n?n.y:void 0,r?r.y:void 0)}function QT(t){return t.translate===0&&t.scale===1}function fx(t){return QT(t.x)&&QT(t.y)}function YT(t,e){return t.min===e.min&&t.max===e.max}function _B(t,e){return YT(t.x,e.x)&&YT(t.y,e.y)}function XT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function px(t,e){return XT(t.x,e.x)&&XT(t.y,e.y)}function JT(t){return sn(t.x)/sn(t.y)}function ZT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class wB{constructor(){this.members=[]}add(e){Wv(this.members,e),e.scheduleRender()}remove(e){if(qv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:y,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const TB=(t,e)=>t.depth-e.depth;class SB{constructor(){this.children=[],this.isDirty=!1}add(e){Wv(this.children,e),this.isDirty=!0}remove(e){qv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TB),this.isDirty=!1,this.children.forEach(e)}}function Uc(t){const e=bt(t)?t.get():t;return p3(e)?e.toValue():e}function IB(t,e){const n=Hn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(vi(r),t(s-e))};return Pe.read(r,!0),()=>vi(r)}function AB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function PB(t,e,n){const r=bt(t)?t:Kl(t);return r.start(Hv("",r,e,n)),r.animation}const Hi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wa=typeof window<"u"&&window.MotionDebug!==void 0,wp=["","X","Y","Z"],CB={visibility:"hidden"},e1=1e3;let RB=0;function Ep(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mx(r)}function gx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=RB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wa&&(Hi.totalNodes=Hi.resolvedTargetDeltas=Hi.recalculatedProjection=0),this.nodes.forEach(kB),this.nodes.forEach(LB),this.nodes.forEach(MB),this.nodes.forEach(OB),Wa&&window.MotionDebug.record(Hi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new SB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Kv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AB(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=IB(p,250),jc.hasAnimatedSinceResize&&(jc.hasAnimatedSinceResize=!1,this.nodes.forEach(n1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||BB,{onLayoutAnimationStart:I,onLayoutAnimationComplete:v}=h.getProps(),g=!this.targetLayout||!px(this.targetLayout,w)||y,E=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const k={...kv(T,"layout"),onPlay:I,onComplete:v};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||n1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t1);return}this.isUpdating||this.nodes.forEach(DB),this.isUpdating=!1,this.nodes.forEach(VB),this.nodes.forEach(xB),this.nodes.forEach(bB),this.clearAllSnapshots();const a=Hn.now();ft.delta=_i(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,dp.update.process(ft),dp.preRender.process(ft),dp.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NB),this.sharedNodes.forEach(jB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||zi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),zB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ge();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(HB))){const{scroll:h}=this.root;h&&(so(l.x,h.offset.x),so(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Ge();if(cn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&cn(l,o),so(l.x,d.offset.x),so(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Ge();cn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&oo(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),zi(h.latestValues)&&oo(l,h.latestValues)}return zi(this.latestValues)&&oo(l,this.latestValues),l}removeTransform(o){const a=Ge();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!zi(c.latestValues))continue;gg(c.latestValues)&&c.updateSnapshot();const h=Ge(),d=c.measurePageBox();cn(h,d),GT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return zi(this.latestValues)&&GT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),cl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),sx(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),cl(this.relativeTargetOrigin,this.target,y.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wa&&Hi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||ix(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;cn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;eB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ge());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WT(this.prevProjectionDelta.x,this.projectionDelta.x),WT(this.prevProjectionDelta.y,this.projectionDelta.y)),ul(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!ZT(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Wa&&Hi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ge(),y=l?l.source:void 0,w=this.layout?this.layout.source:void 0,T=y!==w,I=this.getStack(),v=!I||I.members.length<=1,g=!!(T&&!v&&this.options.crossfade===!0&&!this.path.some($B));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const V=k/1e3;r1(d.x,o.x,V),r1(d.y,o.y,V),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UB(this.relativeTarget,this.relativeTargetOrigin,p,V),E&&_B(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ge()),cn(E,this.relativeTarget)),T&&(this.animationValues=h,fB(h,c,this.latestValues,V,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{jc.hasAnimatedSinceResize=!0,this.currentAnimation=PB(0,e1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&yx(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ge();const d=sn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=sn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}cn(a,l),oo(a,h),ul(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Ep("z",o,c,this.animationValues);for(let h=0;h<wp.length;h++)Ep(`rotate${wp[h]}`,o,c,this.animationValues),Ep(`skew${wp[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CB;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Uc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Uc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!zi(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=EB(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:w}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in Uh){if(p[T]===void 0)continue;const{correct:I,applyTo:v}=Uh[T],g=c.transform==="none"?p[T]:I(p[T],d);if(v){const E=v.length;for(let k=0;k<E;k++)c[v[k]]=g}else c[T]=g}return this.options.layoutId&&(c.pointerEvents=d===this?Uc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(t1),this.root.sharedNodes.clear()}}}function xB(t){t.updateLayout()}function bB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?dn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=sn(p);p.min=r[d].min,p.max=p.min+y}):yx(s,n.layoutBox,r)&&dn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=sn(r[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=io();ul(a,r,n.layoutBox);const l=io();o?ul(l,t.applyTransform(i,!0),n.measuredBox):ul(l,r,n.layoutBox);const c=!fx(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const w=Ge();cl(w,n.layoutBox,p.layoutBox);const T=Ge();cl(T,r,y.layoutBox),px(w,T)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kB(t){Wa&&Hi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NB(t){t.clearSnapshot()}function t1(t){t.clearMeasurements()}function DB(t){t.isLayoutDirty=!1}function VB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LB(t){t.resolveTargetDelta()}function MB(t){t.calcProjection()}function FB(t){t.resetSkewAndRotation()}function jB(t){t.removeLeadSnapshot()}function r1(t,e,n){t.translate=Ue(e.translate,0,n),t.scale=Ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function i1(t,e,n,r){t.min=Ue(e.min,n.min,r),t.max=Ue(e.max,n.max,r)}function UB(t,e,n,r){i1(t.x,e.x,n.x,r),i1(t.y,e.y,n.y,r)}function $B(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BB={duration:.45,ease:[.4,0,.1,1]},s1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o1=s1("applewebkit/")&&!s1("chrome/")?Math.round:kt;function a1(t){t.min=o1(t.min),t.max=o1(t.max)}function zB(t){a1(t.x),a1(t.y)}function yx(t,e,n){return t==="position"||t==="preserve-aspect"&&!H3(JT(e),JT(n),.2)}function HB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const WB=gx({attachResizeListener:(t,e)=>lr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tp={current:void 0},vx=gx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tp.current){const t=new WB({});t.mount(window),t.setOptions({layoutScroll:!0}),Tp.current=t}return Tp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qB={pan:{Feature:oB},drag:{Feature:sB,ProjectionNode:vx,MeasureLayout:cx}};function l1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||ex())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Pe.postRender(()=>l(s,o))};return mr(t.current,n,i,{passive:!t.getProps()[r]})}class KB extends xi{mount(){this.unmount=pr(l1(this.node,!0),l1(this.node,!1))}unmount(){}}class GB extends xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pr(lr(this.node.current,"focus",()=>this.onFocus()),lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _x=(t,e)=>e?t===e?!0:_x(t,e.parentElement):!1;function Sp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ld(n))}class QB extends xi{constructor(){super(...arguments),this.removeStartListeners=kt,this.removeEndListeners=kt,this.removeAccessibleListeners=kt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=mr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),p=!d&&!_x(this.node.current,a.target)?h:c;p&&Pe.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=mr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Sp("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Pe.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=lr(this.node.current,"keyup",o),Sp("down",(a,l)=>{this.startPress(a,l)})},n=lr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Sp("cancel",(s,o)=>this.cancelPress(s,o))},i=lr(this.node.current,"blur",r);this.removeAccessibleListeners=pr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Pe.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ex()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Pe.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=mr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const vg=new WeakMap,Ip=new WeakMap,YB=t=>{const e=vg.get(t.target);e&&e(t)},XB=t=>{t.forEach(YB)};function JB({root:t,...e}){const n=t||document;Ip.has(n)||Ip.set(n,{});const r=Ip.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(XB,{root:t,...e})),r[i]}function ZB(t,e,n){const r=JB(e);return vg.set(t,n),r.observe(t),()=>{vg.delete(t),r.unobserve(t)}}const e6={some:0,all:1};class t6 extends xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:e6[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return ZB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n6(e,n))&&this.startObserver()}unmount(){}}function n6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r6={inView:{Feature:t6},tap:{Feature:QB},focus:{Feature:GB},hover:{Feature:KB}},i6={layout:{ProjectionNode:vx,MeasureLayout:cx}},wx=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Md=b.createContext({}),Yv=typeof window<"u",s6=Yv?b.useLayoutEffect:b.useEffect,Ex=b.createContext({strict:!1});function o6(t,e,n,r,i){var s,o;const{visualElement:a}=b.useContext(Md),l=b.useContext(Ex),c=b.useContext(Gv),h=b.useContext(wx).reducedMotion,d=b.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,y=b.useContext(ux);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&a6(d.current,n,i,y),b.useInsertionEffect(()=>{p&&p.update(n,c)});const w=n[HR],T=b.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return s6(()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),Qv.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)===null||I===void 0||I.call(window,w)}),T.current=!1))}),p}function a6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Tx(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ro(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Tx(t){if(t)return t.options.allowProjection!==!1?t.projection:Tx(t.parent)}function l6(t,e,n){return b.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ro(n)&&(n.current=r))},[e])}function Fd(t){return zl(t.animate)||bv.some(e=>Hl(t[e]))}function Sx(t){return!!(Fd(t)||t.variants)}function u6(t,e){if(Fd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Hl(n)?n:void 0,animate:Hl(r)?r:void 0}}return t.inherit!==!1?e:{}}function c6(t){const{initial:e,animate:n}=u6(t,b.useContext(Md));return b.useMemo(()=>({initial:e,animate:n}),[u1(e),u1(n)])}function u1(t){return Array.isArray(t)?t.join(" "):t}const c1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const t in c1)jo[t]={isEnabled:e=>c1[t].some(n=>!!e[n])};function h6(t){for(const e in t)jo[e]={...jo[e],...t[e]}}const d6=Symbol.for("motionComponentSymbol");function f6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&h6(t);function s(a,l){let c;const h={...b.useContext(wx),...a,layoutId:p6(a)},{isStatic:d}=h,p=c6(a),y=r(a,d);if(!d&&Yv){m6();const w=g6(h);c=w.MeasureLayout,p.visualElement=o6(i,y,h,e,w.ProjectionNode)}return D.jsxs(Md.Provider,{value:p,children:[c&&p.visualElement?D.jsx(c,{visualElement:p.visualElement,...h}):null,n(i,a,l6(y,p.visualElement,l),y,d,p.visualElement)]})}const o=b.forwardRef(s);return o[d6]=i,o}function p6({layoutId:t}){const e=b.useContext(lx).id;return e&&t!==void 0?e+"-"+t:t}function m6(t,e){b.useContext(Ex).strict}function g6(t){const{drag:e,layout:n}=jo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const y6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xv(t){return typeof t!="string"||t.includes("-")?!1:!!(y6.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ix(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Ax=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Px(t,e,n,r){Ix(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ax.has(i)?i:Vd(i),e.attrs[i])}function Cx(t,{layout:e,layoutId:n}){return Ri.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uh[t]||t==="opacity")}function Jv(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(bt(i[o])||e.style&&bt(e.style[o])||Cx(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function Rx(t,e,n){const r=Jv(t,e,n);for(const i in t)if(bt(t[i])||bt(e[i])){const s=gu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function v6(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}function _6({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:w6(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const xx=t=>(e,n)=>{const r=b.useContext(Md),i=b.useContext(Gv),s=()=>_6(t,e,r,i,n);return n?s():v6(s)};function h1(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=Rv(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function w6(t,e,n,r,i){var s;const o={};let a=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0;const l=i(t,{});for(const T in l)o[T]=Uc(l[T]);let{initial:c,animate:h}=t;const d=Fd(t),p=Sx(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const w=y?h:c;return w&&typeof w!="boolean"&&!zl(w)&&h1(t,w,(T,I)=>{for(const v in T){let g=T[v];if(Array.isArray(g)){const E=y?g.length-1:0;g=g[E]}g!==null&&(o[v]=g)}for(const v in I)o[v]=I[v]}),a&&h&&c!==!1&&!zl(h)&&h1(t,h,T=>{for(const I in T)if(qR(I)){o.willChange="transform";return}}),o}const Zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bx=()=>({...Zv(),attrs:{}}),kx=(t,e)=>e&&typeof t=="number"?e.transform(t):t,E6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T6=gu.length;function S6(t,e,n){let r="",i=!0;for(let s=0;s<T6;s++){const o=gu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=kx(a,Fv[o]);if(!l){i=!1;const h=E6[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function e0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ri.has(l)){o=!0;continue}else if(_R(l)){i[l]=c;continue}else{const h=kx(c,Fv[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=S6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}function d1(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function I6(t,e,n){const r=d1(e,t.x,t.width),i=d1(n,t.y,t.height);return`${r} ${i}`}const A6={offset:"stroke-dashoffset",array:"stroke-dasharray"},P6={offset:"strokeDashoffset",array:"strokeDasharray"};function C6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?A6:P6;t[s.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(n);t[s.array]=`${o} ${a}`}function t0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(e0(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:w}=t;p.transform&&(w&&(y.transform=p.transform),delete p.transform),w&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=I6(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&C6(p,o,a,l,!1)}const n0=t=>typeof t=="string"&&t.toLowerCase()==="svg",R6={useVisualState:xx({scrapeMotionValuesFromProps:Rx,createRenderState:bx,onMount:(t,e,{renderState:n,latestValues:r})=>{Pe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Pe.render(()=>{t0(n,r,n0(e.tagName),t.transformTemplate),Px(e,n)})}})},x6={useVisualState:xx({applyWillChange:!0,scrapeMotionValuesFromProps:Jv,createRenderState:Zv})};function Ox(t,e,n){for(const r in e)!bt(e[r])&&!Cx(r,n)&&(t[r]=e[r])}function b6({transformTemplate:t},e){return b.useMemo(()=>{const n=Zv();return e0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function k6(t,e){const n=t.style||{},r={};return Ox(r,n,t),Object.assign(r,b6(t,e)),r}function O6(t,e){const n={},r=k6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const N6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||N6.has(t)}let Nx=t=>!$h(t);function D6(t){t&&(Nx=e=>e.startsWith("on")?!$h(e):t(e))}try{D6(require("@emotion/is-prop-valid").default)}catch{}function V6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Nx(i)||n===!0&&$h(i)||!e&&!$h(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function L6(t,e,n,r){const i=b.useMemo(()=>{const s=bx();return t0(s,e,n0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Ox(s,t.style,t),i.style={...s,...i.style}}return i}function M6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Xv(n)?L6:O6)(r,s,o,n),c=V6(r,typeof n=="string",t),h=n!==b.Fragment?{...c,...l,ref:i}:{},{children:d}=r,p=b.useMemo(()=>bt(d)?d.get():d,[d]);return b.createElement(n,{...h,children:p})}}function F6(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Xv(r)?R6:x6,preloadedFeatures:t,useRender:M6(i),createVisualElement:e,Component:r};return f6(o)}}const _g={current:null},Dx={current:!1};function j6(){if(Dx.current=!0,!!Yv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_g.current=t.matches;t.addListener(e),e()}else _g.current=!1}function U6(t,e,n){for(const r in e){const i=e[r],s=n[r];if(bt(i))t.addValue(r,i);else if(bt(s))t.addValue(r,Kl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Kl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const f1=new WeakMap,$6=[...TR,Pt,wi],B6=t=>$6.find(ER(t)),p1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Hn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Pe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Fd(n),this.isVariantNode=Sx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const y=d[p];l[p]!==void 0&&bt(y)&&y.set(l[p],!1)}}mount(e){this.current=e,f1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Dx.current||j6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){f1.delete(this.current),this.projection&&this.projection.unmount(),vi(this.notifyUpdate),vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ri.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jo){const n=jo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<p1.length;r++){const i=p1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=U6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Kl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(yR(i)||gR(i))?i=parseFloat(i):!B6(i)&&wi.test(n)&&(i=bR(e,n)),this.setBaseTarget(e,bt(i)?i.get():i)),bt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Rv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Vx extends z6{constructor(){super(...arguments),this.KeyframeResolver=kR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function H6(t){return window.getComputedStyle(t)}class W6 extends Vx{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Ix}readValueFromInstance(e,n){if(Ri.has(n)){const r=jv(n);return r&&r.default||0}else{const r=H6(e),i=(_R(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ox(e,n)}build(e,n,r){e0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class q6 extends Vx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ri.has(n)){const r=jv(n);return r&&r.default||0}return n=Ax.has(n)?n:Vd(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Rx(e,n,r)}build(e,n,r){t0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Px(e,n,r,i)}mount(e){this.isSVGTag=n0(e.tagName),super.mount(e)}}const K6=(t,e)=>Xv(t)?new q6(e):new W6(e,{allowProjection:t!==b.Fragment}),G6=F6({...V3,...r6,...qB,...i6},K6),Ir=CU(G6);function Q6(){const{currentUser:t}=b.useContext(Zo),[e,n]=b.useState(!1),r=async()=>{try{await sU(),Ae.success("Successfully Logged Out!")}catch(o){console.log(o)}},i=()=>{n(!e)},s={hidden:{opacity:1,x:"-100%"},visible:{opacity:1,x:"0%"},exit:{opacity:0,x:"-100%"}};return D.jsxs("nav",{className:"bg-primary h-[65px] flex items-center justify-between px-6 lg:px-12 relative z-10",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("h2",{className:"text-textPrimary font-bold text-2xl",children:D.jsx(er,{to:"/",children:"YumYum"})}),D.jsxs("div",{className:"hidden lg:flex items-center space-x-9 ml-12",children:[D.jsx("p",{className:"text-white hover:text-gray-200",children:D.jsx(er,{to:"/",children:"Home"})}),D.jsx("p",{className:"text-white hover:text-gray-200",children:D.jsx(er,{to:"/favorites",children:"Favorites"})})]})]}),D.jsx("div",{className:"lg:hidden flex items-center z-20",children:D.jsx("button",{onClick:i,children:e?D.jsx(PU,{className:"text-white text-2xl"}):D.jsx(AU,{className:"text-white text-2xl"})})}),D.jsx("div",{className:"hidden lg:flex items-center",children:t?D.jsx("button",{onClick:r,className:"bg-textPrimary hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded",children:"Logout"}):D.jsx(er,{to:"/login",children:D.jsx("button",{className:"bg-textPrimary hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded",children:"Sign In"})})}),D.jsx(Ir.div,{className:"lg:hidden absolute top-[65px] left-0 w-full bg-primary text-white py-4 z-10",initial:"hidden",animate:e?"visible":"hidden",exit:"exit",variants:s,transition:{duration:.5},children:D.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[D.jsx("p",{className:"hover:text-gray-200",children:D.jsx(er,{to:"/",onClick:i,children:"Home"})}),D.jsx("p",{className:"hover:text-gray-200",children:D.jsx(er,{to:"/favorites",onClick:i,children:"Favorites"})}),t?D.jsx("button",{onClick:()=>{r(),i()},className:"bg-textPrimary hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded",children:"Logout"}):D.jsx(er,{to:"/login",onClick:i,children:D.jsx("button",{className:"bg-textPrimary hover:bg-zinc-700 text-white font-bold py-2 px-4 rounded",children:"Sign In"})})]})})]})}const Y6=""+new URL("homepage-cooking-CDS99RW3.svg",import.meta.url).href,Ap=({className:t="w-6 h-6 text-green-500"})=>D.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{d:"M9 19.4L4.2 14.7a1 1 0 1 1 1.4-1.4l3.4 3.4 9.2-9.2a1 1 0 0 1 1.4 1.4L9 19.4z"})});function Lx(){const[t,e]=b.useState(""),n=qo(),r=i=>{i.preventDefault(),console.log("hello"),n(`/results/${t}`),console.log("test")};return D.jsx("form",{onSubmit:r,children:D.jsx("input",{className:"w-full bg-gray-300 rounded px-4 py-3 text-base outline-none",type:"text",placeholder:"Search for a recipe...",value:t,onChange:i=>e(i.target.value)})})}function X6(){return D.jsxs(Ir.div,{className:"flex flex-col items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[D.jsxs("div",{className:"flex flex-col text-center text-2xl lg:text-3xl gap-4 mt-16 px-4 w-full max-w-md md:max-w-xl lg:w-[600px]",children:[D.jsx("p",{children:"Find Your Next Favorite Recipe"}),D.jsx(Lx,{})]}),D.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between my-16 lg:mt-28 bg-white px-4",children:[D.jsxs("ul",{className:"w-full lg:w-1/2 space-y-4 text-lg lg:text-xl text-textPrimary mb-8 lg:mb-0",children:[D.jsxs("li",{className:"flex items-start",children:[D.jsx(Ap,{className:"w-6 h-6 mr-2 text-green-500"}),"Discover thousands of recipes tailored to your taste."]}),D.jsxs("li",{className:"flex items-start",children:[D.jsx(Ap,{className:"w-6 h-6 mr-2 text-green-500"}),"Easy-to-follow recipes for all skill levels."]}),D.jsxs("li",{className:"flex items-start",children:[D.jsx(Ap,{className:"w-6 h-6 mr-2 text-green-500"}),"Save your favorite recipes and build a personal cookbook."]})]}),D.jsx("img",{className:"w-full lg:w-1/2 max-w-xs lg:max-w-sm",src:Y6,alt:"two people cooking together"})]})]})}function Mx(t,e){return function(){return t.apply(e,arguments)}}const{toString:J6}=Object.prototype,{getPrototypeOf:r0}=Object,jd=(t=>e=>{const n=J6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kn=t=>(t=t.toLowerCase(),e=>jd(e)===t),Ud=t=>e=>typeof e===t,{isArray:ta}=Array,Gl=Ud("undefined");function Z6(t){return t!==null&&!Gl(t)&&t.constructor!==null&&!Gl(t.constructor)&&tn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Fx=kn("ArrayBuffer");function e9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Fx(t.buffer),e}const t9=Ud("string"),tn=Ud("function"),jx=Ud("number"),$d=t=>t!==null&&typeof t=="object",n9=t=>t===!0||t===!1,$c=t=>{if(jd(t)!=="object")return!1;const e=r0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r9=kn("Date"),i9=kn("File"),s9=kn("Blob"),o9=kn("FileList"),a9=t=>$d(t)&&tn(t.pipe),l9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tn(t.append)&&((e=jd(t))==="formdata"||e==="object"&&tn(t.toString)&&t.toString()==="[object FormData]"))},u9=kn("URLSearchParams"),[c9,h9,d9,f9]=["ReadableStream","Request","Response","Headers"].map(kn),p9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _u(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ta(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Ux(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$x=t=>!Gl(t)&&t!==Yi;function wg(){const{caseless:t}=$x(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ux(e,i)||i;$c(e[s])&&$c(r)?e[s]=wg(e[s],r):$c(r)?e[s]=wg({},r):ta(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_u(arguments[r],n);return e}const m9=(t,e,n,{allOwnKeys:r}={})=>(_u(e,(i,s)=>{n&&tn(i)?t[s]=Mx(i,n):t[s]=i},{allOwnKeys:r}),t),g9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),y9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},v9=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&r0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},_9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},w9=t=>{if(!t)return null;if(ta(t))return t;let e=t.length;if(!jx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},E9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&r0(Uint8Array)),T9=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},S9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},I9=kn("HTMLFormElement"),A9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),m1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),P9=kn("RegExp"),Bx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};_u(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},C9=t=>{Bx(t,(e,n)=>{if(tn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(tn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},R9=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ta(t)?r(t):r(String(t).split(e)),n},x9=()=>{},b9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Pp="abcdefghijklmnopqrstuvwxyz",g1="0123456789",zx={DIGIT:g1,ALPHA:Pp,ALPHA_DIGIT:Pp+Pp.toUpperCase()+g1},k9=(t=16,e=zx.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function O9(t){return!!(t&&tn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const N9=t=>{const e=new Array(10),n=(r,i)=>{if($d(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ta(r)?[]:{};return _u(r,(o,a)=>{const l=n(o,i+1);!Gl(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},D9=kn("AsyncFunction"),V9=t=>t&&($d(t)||tn(t))&&tn(t.then)&&tn(t.catch),Hx=((t,e)=>t?setImmediate:e?((n,r)=>(Yi.addEventListener("message",({source:i,data:s})=>{i===Yi&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Yi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tn(Yi.postMessage)),L9=typeof queueMicrotask<"u"?queueMicrotask.bind(Yi):typeof process<"u"&&process.nextTick||Hx,j={isArray:ta,isArrayBuffer:Fx,isBuffer:Z6,isFormData:l9,isArrayBufferView:e9,isString:t9,isNumber:jx,isBoolean:n9,isObject:$d,isPlainObject:$c,isReadableStream:c9,isRequest:h9,isResponse:d9,isHeaders:f9,isUndefined:Gl,isDate:r9,isFile:i9,isBlob:s9,isRegExp:P9,isFunction:tn,isStream:a9,isURLSearchParams:u9,isTypedArray:E9,isFileList:o9,forEach:_u,merge:wg,extend:m9,trim:p9,stripBOM:g9,inherits:y9,toFlatObject:v9,kindOf:jd,kindOfTest:kn,endsWith:_9,toArray:w9,forEachEntry:T9,matchAll:S9,isHTMLForm:I9,hasOwnProperty:m1,hasOwnProp:m1,reduceDescriptors:Bx,freezeMethods:C9,toObjectSet:R9,toCamelCase:A9,noop:x9,toFiniteNumber:b9,findKey:Ux,global:Yi,isContextDefined:$x,ALPHABET:zx,generateString:k9,isSpecCompliantForm:O9,toJSONObject:N9,isAsyncFn:D9,isThenable:V9,setImmediate:Hx,asap:L9};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const Wx=le.prototype,qx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qx[t]={value:t}});Object.defineProperties(le,qx);Object.defineProperty(Wx,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,s)=>{const o=Object.create(Wx);return j.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const M9=null;function Eg(t){return j.isPlainObject(t)||j.isArray(t)}function Kx(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function y1(t,e,n){return t?t.concat(e).map(function(i,s){return i=Kx(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function F9(t){return j.isArray(t)&&!t.some(Eg)}const j9=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Bd(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,I){return!j.isUndefined(I[T])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(j.isDate(w))return w.toISOString();if(!l&&j.isBlob(w))throw new le("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(w)||j.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,T,I){let v=w;if(w&&!I&&typeof w=="object"){if(j.endsWith(T,"{}"))T=r?T:T.slice(0,-2),w=JSON.stringify(w);else if(j.isArray(w)&&F9(w)||(j.isFileList(w)||j.endsWith(T,"[]"))&&(v=j.toArray(w)))return T=Kx(T),v.forEach(function(E,k){!(j.isUndefined(E)||E===null)&&e.append(o===!0?y1([T],k,s):o===null?T:T+"[]",c(E))}),!1}return Eg(w)?!0:(e.append(y1(I,T,s),c(w)),!1)}const d=[],p=Object.assign(j9,{defaultVisitor:h,convertValue:c,isVisitable:Eg});function y(w,T){if(!j.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+T.join("."));d.push(w),j.forEach(w,function(v,g){(!(j.isUndefined(v)||v===null)&&i.call(e,v,j.isString(g)?g.trim():g,T,p))===!0&&y(v,T?T.concat(g):[g])}),d.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return y(t),e}function v1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function i0(t,e){this._pairs=[],t&&Bd(t,this,e)}const Gx=i0.prototype;Gx.append=function(e,n){this._pairs.push([e,n])};Gx.toString=function(e){const n=e?function(r){return e.call(this,r,v1)}:v1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function U9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qx(t,e,n){if(!e)return t;const r=n&&n.encode||U9,i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new i0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class _1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Yx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$9=typeof URLSearchParams<"u"?URLSearchParams:i0,B9=typeof FormData<"u"?FormData:null,z9=typeof Blob<"u"?Blob:null,H9={isBrowser:!0,classes:{URLSearchParams:$9,FormData:B9,Blob:z9},protocols:["http","https","file","blob","url","data"]},s0=typeof window<"u"&&typeof document<"u",Tg=typeof navigator=="object"&&navigator||void 0,W9=s0&&(!Tg||["ReactNative","NativeScript","NS"].indexOf(Tg.product)<0),q9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K9=s0&&window.location.href||"http://localhost",G9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s0,hasStandardBrowserEnv:W9,hasStandardBrowserWebWorkerEnv:q9,navigator:Tg,origin:K9},Symbol.toStringTag,{value:"Module"})),Kt={...G9,...H9};function Q9(t,e){return Bd(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Kt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Y9(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function X9(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Xx(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,l?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=X9(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(Y9(r),i,n,0)}),n}return null}function J9(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const wu={transitional:Yx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(Xx(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Q9(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),J9(e)):e}],transformResponse:[function(e){const n=this.transitional||wu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{wu.headers[t]={}});const Z9=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Z9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},w1=Symbol("internals");function Na(t){return t&&String(t).trim().toLowerCase()}function Bc(t){return t===!1||t==null?t:j.isArray(t)?t.map(Bc):String(t)}function t5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const n5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cp(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function r5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function i5(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Gt{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const h=Na(l);if(!h)throw new Error("header name must be a non-empty string");const d=j.findKey(i,h);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Bc(a))}const o=(a,l)=>j.forEach(a,(c,h)=>s(c,h,l));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!n5(e))o(e5(e),n);else if(j.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Na(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return t5(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Na(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Cp(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Na(o),o){const a=j.findKey(r,o);a&&(!n||Cp(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Cp(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=Bc(i),delete n[s];return}const a=e?r5(s):String(s).trim();a!==s&&delete n[s],n[a]=Bc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[w1]=this[w1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Na(o);r[a]||(i5(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}}Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Gt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(Gt);function Rp(t,e){const n=this||wu,r=e||n,i=Gt.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Jx(t){return!!(t&&t.__CANCEL__)}function na(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(na,le,{__CANCEL__:!0});function Zx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function s5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function o5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const y=h&&c-h;return y?Math.round(p*1e3/y):void 0}}function a5(t,e){let n=0,r=1e3/e,i,s;const o=(c,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const h=Date.now(),d=h-n;d>=r?o(c,h):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const Bh=(t,e,n=3)=>{let r=0;const i=o5(50,250);return a5(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),h=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},E1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},T1=t=>(...e)=>j.asap(()=>t(...e)),l5=Kt.hasStandardBrowserEnv?function(){const e=Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=j.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),u5=Kt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function c5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function h5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function eb(t,e){return t&&!c5(e)?h5(t,e):e}const S1=t=>t instanceof Gt?{...t}:t;function gs(t,e){e=e||{};const n={};function r(c,h,d){return j.isPlainObject(c)&&j.isPlainObject(h)?j.merge.call({caseless:d},c,h):j.isPlainObject(h)?j.merge({},h):j.isArray(h)?h.slice():h}function i(c,h,d){if(j.isUndefined(h)){if(!j.isUndefined(c))return r(void 0,c,d)}else return r(c,h,d)}function s(c,h){if(!j.isUndefined(h))return r(void 0,h)}function o(c,h){if(j.isUndefined(h)){if(!j.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in e)return r(c,h);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>i(S1(c),S1(h),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=l[h]||i,p=d(t[h],e[h],h);j.isUndefined(p)&&d!==a||(n[h]=p)}),n}const tb=t=>{const e=gs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Gt.from(o),e.url=Qx(eb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(j.isFormData(n)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(Kt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&l5(e.url))){const c=i&&s&&u5.read(s);c&&o.set(i,c)}return e},d5=typeof XMLHttpRequest<"u",f5=d5&&function(t){return new Promise(function(n,r){const i=tb(t);let s=i.data;const o=Gt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,h,d,p,y,w;function T(){y&&y(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function v(){if(!I)return;const E=Gt.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:E,config:t,request:I};Zx(function(A){n(A),T()},function(A){r(A),T()},V),I=null}"onloadend"in I?I.onloadend=v:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(v)},I.onabort=function(){I&&(r(new le("Request aborted",le.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const V=i.transitional||Yx;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new le(k,V.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&j.forEach(o.toJSON(),function(k,V){I.setRequestHeader(V,k)}),j.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),a&&a!=="json"&&(I.responseType=i.responseType),c&&([p,w]=Bh(c,!0),I.addEventListener("progress",p)),l&&I.upload&&([d,y]=Bh(l),I.upload.addEventListener("progress",d),I.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=E=>{I&&(r(!E||E.type?new na(null,t,I):E),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const g=s5(i.url);if(g&&Kt.protocols.indexOf(g)===-1){r(new le("Unsupported protocol "+g+":",le.ERR_BAD_REQUEST,t));return}I.send(s||null)})},p5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof le?h:new na(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>j.asap(a),l}},m5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},g5=async function*(t,e){for await(const n of y5(t))yield*m5(n,e)},y5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},I1=(t,e,n,r)=>{const i=g5(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await i.next();if(c){a(),l.close();return}let d=h.byteLength;if(n){let p=s+=d;n(p)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},zd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nb=zd&&typeof ReadableStream=="function",v5=zd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),rb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_5=nb&&rb(()=>{let t=!1;const e=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),A1=64*1024,Sg=nb&&rb(()=>j.isReadableStream(new Response("").body)),zh={stream:Sg&&(t=>t.body)};zd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zh[e]&&(zh[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const w5=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(Kt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await v5(t)).byteLength},E5=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??w5(e)},T5=zd&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:p}=tb(t);c=c?(c+"").toLowerCase():"text";let y=p5([i,s&&s.toAbortSignal()],o),w;const T=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let I;try{if(l&&_5&&n!=="get"&&n!=="head"&&(I=await E5(h,r))!==0){let V=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(j.isFormData(r)&&(L=V.headers.get("content-type"))&&h.setContentType(L),V.body){const[A,_]=E1(I,Bh(T1(l)));r=I1(V.body,A1,A,_)}}j.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;w=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let g=await fetch(w);const E=Sg&&(c==="stream"||c==="response");if(Sg&&(a||E&&T)){const V={};["status","statusText","headers"].forEach(P=>{V[P]=g[P]});const L=j.toFiniteNumber(g.headers.get("content-length")),[A,_]=a&&E1(L,Bh(T1(a),!0))||[];g=new Response(I1(g.body,A1,A,()=>{_&&_(),T&&T()}),V)}c=c||"text";let k=await zh[j.findKey(zh,c)||"text"](g,t);return!E&&T&&T(),await new Promise((V,L)=>{Zx(V,L,{data:k,headers:Gt.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:w})})}catch(v){throw T&&T(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,w),{cause:v.cause||v}):le.from(v,v&&v.code,t,w)}}),Ig={http:M9,xhr:f5,fetch:T5};j.forEach(Ig,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const P1=t=>`- ${t}`,S5=t=>j.isFunction(t)||t===null||t===!1,ib={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!S5(n)&&(r=Ig[(o=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(P1).join(`
`):" "+P1(s[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ig};function xp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new na(null,t)}function C1(t){return xp(t),t.headers=Gt.from(t.headers),t.data=Rp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ib.getAdapter(t.adapter||wu.adapter)(t).then(function(r){return xp(t),r.data=Rp.call(t,t.transformResponse,r),r.headers=Gt.from(r.headers),r},function(r){return Jx(r)||(xp(t),r&&r.response&&(r.response.data=Rp.call(t,t.transformResponse,r.response),r.response.headers=Gt.from(r.response.headers))),Promise.reject(r)})}const sb="1.7.7",o0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{o0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const R1={};o0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+sb+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new le(i(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!R1[o]&&(R1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function I5(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const Ag={assertOptions:I5,validators:o0},Lr=Ag.validators;class rs{constructor(e){this.defaults=e,this.interceptors={request:new _1,response:new _1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=gs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ag.assertOptions(r,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:Ag.assertOptions(i,{encode:Lr.function,serialize:Lr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=Gt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(l=l&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const c=[];this.interceptors.response.forEach(function(T){c.push(T.fulfilled,T.rejected)});let h,d=0,p;if(!l){const w=[C1.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),p=w.length,h=Promise.resolve(n);d<p;)h=h.then(w[d++],w[d++]);return h}p=a.length;let y=n;for(d=0;d<p;){const w=a[d++],T=a[d++];try{y=w(y)}catch(I){T.call(this,I);break}}try{h=C1.call(this,y)}catch(w){return Promise.reject(w)}for(d=0,p=c.length;d<p;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=gs(this.defaults,e);const n=eb(e.baseURL,e.url);return Qx(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){rs.prototype[e]=function(n,r){return this.request(gs(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(gs(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}rs.prototype[e]=n(),rs.prototype[e+"Form"]=n(!0)});class a0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new na(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new a0(function(i){e=i}),cancel:e}}}function A5(t){return function(n){return t.apply(null,n)}}function P5(t){return j.isObject(t)&&t.isAxiosError===!0}const Pg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pg).forEach(([t,e])=>{Pg[e]=t});function ob(t){const e=new rs(t),n=Mx(rs.prototype.request,e);return j.extend(n,rs.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ob(gs(t,i))},n}const Ke=ob(wu);Ke.Axios=rs;Ke.CanceledError=na;Ke.CancelToken=a0;Ke.isCancel=Jx;Ke.VERSION=sb;Ke.toFormData=Bd;Ke.AxiosError=le;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=A5;Ke.isAxiosError=P5;Ke.mergeConfig=gs;Ke.AxiosHeaders=Gt;Ke.formToJSON=t=>Xx(j.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=ib.getAdapter;Ke.HttpStatusCode=Pg;Ke.default=Ke;const l0=void 0,u0=void 0,C5=async(t,e)=>{try{return(await Ke.get(`${l0}/complexSearch?apiKey=${u0}&query=${t}&number=${e}`)).data}catch(n){throw console.log(`Error fetching recipes: ${n}`),n}},R5=async t=>{try{const e=await Ke.get(`${l0}/${t}/information?apiKey=${u0}`);return console.log(e.data),e.data}catch(e){throw console.log(`Error fetching recipes: ${e}`),e}},x5=async(t,e)=>{try{return(await Ke.get(`${l0}/${t}/similar?apiKey=${u0}&number=${e}`)).data}catch(n){throw console.log(`Error fetching recipes: ${n}`),n}},b5=(t,e)=>{const[n,r]=b.useState([]),[i,s]=b.useState(!0),[o,a]=b.useState(null);return b.useEffect(()=>{t&&(async()=>{try{s(!0);const c=await C5(t,e);r(c.results)}catch{a("There was an error trying to fetch recipes.")}finally{s(!1)}})()},[t]),{recipes:n,loading:i,error:o}};function c0({id:t,title:e,image:n}){const r=qo();return D.jsxs(Ir.div,{onClick:()=>r(`/recipe/${t}`),className:"border border-gray-200 rounded-lg shadow-md overflow-hidden cursor-pointer",whileHover:{scale:1.05},transition:{type:"tween",stiffness:300},children:[n&&D.jsx("img",{src:n,alt:e,className:"w-full h-40 object-cover"}),D.jsxs("div",{className:"p-4",children:[D.jsx("h2",{className:"text-xl font-semibold mb-2 truncate",children:e}),D.jsx(Ir.div,{children:D.jsx("p",{className:"text-primary hover:text-primary-dark",children:"View Recipe"})})]})]},t)}function k5(){const{query:t}=LA(),{recipes:e,loading:n,error:r}=b5(t,20);return D.jsxs(Ir.div,{className:"p-8",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[D.jsx("div",{className:"w-full max-w-md",children:D.jsx(Lx,{})}),D.jsxs("p",{className:"text-2xl font-semibold pb-4 mt-4",children:["Here are the recipes we found for ",t,"..."]}),D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:e.map(i=>D.jsx(c0,{id:i.id,title:i.title,image:i.image},i.id))})]})}const O5=(t,e)=>{const[n,r]=b.useState([]),[i,s]=b.useState(!0),[o,a]=b.useState(null);return b.useEffect(()=>{t&&(async()=>{try{s(!0);const c=await x5(t,e);r(c)}catch{a("There was an error trying to fetch the recipe details.")}finally{s(!1)}})()},[t]),{similarRecipes:n,loading:i,error:o}},N5=t=>{const[e,n]=b.useState([]),[r,i]=b.useState(!0),[s,o]=b.useState(null);return b.useEffect(()=>{t&&(async()=>{try{i(!0);const l=await R5(t);n(l)}catch{o("There was an error trying to fetch the recipe details.")}finally{i(!1)}})()},[t]),{details:e,loading:r,error:s}},D5=async(t,e)=>{const n=wv(Cv,"users",t);try{await YC(n,{favorites:Z4(e)},{merge:!0}),console.log("Favorite added")}catch(r){console.log("Error adding favorite:",r)}},V5=async(t,e)=>{const n=wv(Cv,"users",t);try{await YC(n,{favorites:eU(e)},{merge:!0})}catch(r){console.log("Error deleting favorite:",r)}},L5=async t=>{const e=wv(Cv,"users",t);try{const n=await Q4(e);return n.exists()?n.data().favorites||[]:(console.log("Document doesnt exist/ no favorites found"),[])}catch(n){console.log("Error fetching favorites:",n)}},Hd=b.createContext(),M5=({children:t})=>{const{currentUser:e}=b.useContext(Zo),[n,r]=b.useState([]);return b.useEffect(()=>{e&&(async()=>{const s=await L5(e.uid);r(s)})()},[e]),D.jsx(Hd.Provider,{value:{favorites:n,setFavorites:r},children:t})};function F5(){const{id:t}=LA(),{similarRecipes:e}=O5(t,3),{details:n,loading:r,error:i}=N5(t),{favorites:s,setFavorites:o}=b.useContext(Hd),a=s.some(d=>d.id==t),{currentUser:l}=b.useContext(Zo),c=async()=>{!a&&l&&(await D5(l.uid,n),o([...s,n]))},h=async()=>{if(a&&l){await V5(l.uid,n);const d=s.filter(p=>p.id!=t);o(d)}};return D.jsx(D.Fragment,{children:r?"":D.jsxs(Ir.div,{className:"max-w-5xl mx-auto p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[D.jsxs("div",{className:"mb-8",children:[D.jsx("img",{src:n.image,alt:"Recipe image",className:"w-full h-auto rounded-lg shadow-md"}),D.jsx("h1",{className:"text-4xl font-bold mt-6",children:n.title}),D.jsx("p",{dangerouslySetInnerHTML:{__html:n.summary},className:"text-gray-600 text-lg mt-2"}),D.jsxs("div",{className:"mt-4 flex space-x-8 text-gray-700",children:[D.jsxs("div",{children:[D.jsx("strong",{children:"Prep Time:"})," ",n.preperationMinutes&&n.preperationMinutes]}),D.jsxs("div",{children:[D.jsx("strong",{children:"Cook Time:"})," ",n.readyInMinutes]}),D.jsxs("div",{children:[D.jsx("strong",{children:"Servings:"})," ",n.servings]})]})]}),D.jsxs("div",{className:"mb-8",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ingredients"}),D.jsx("ul",{className:"list-none",children:n.extendedIngredients&&n.extendedIngredients.map((d,p)=>D.jsxs("li",{children:[D.jsx("input",{type:"checkbox",id:"ingredient2"}),D.jsx("label",{className:"ml-2",htmlFor:"ingredient2",children:`${d.amount} ${d.unit} ${d.name}`})]},d.id))})]}),D.jsxs("div",{className:"mb-8",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Instructions"}),D.jsx("ol",{className:"list-decimal ml-6 space-y-2",children:n.analyzedInstructions&&n.analyzedInstructions[0].steps.map((d,p)=>D.jsx("li",{children:d.step},d.number))})]}),a?D.jsx("button",{onClick:h,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:"Remove from Favorites"}):D.jsx("button",{onClick:c,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded",children:"Save to Favorites"}),D.jsxs("div",{className:"mt-12",children:[D.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Related Recipes"}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(d=>D.jsx(c0,{id:d.id,title:d.title},d.id))})]})]})})}const j5=()=>{const{favorites:t}=b.useContext(Hd);return D.jsxs(Ir.div,{className:"max-w-6xl mx-auto p-8",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[D.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Your Favorite Recipes"}),t.length===0?D.jsx("p",{className:"text-center text-lg",children:"You have no favorite recipes saved."}):D.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(e=>D.jsx(c0,{id:e.id,title:e.title,image:e.image},e.id))})]})};var U5=function(e){return $5(e)&&!B5(e)};function $5(t){return!!t&&typeof t=="object"}function B5(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||W5(t)}var z5=typeof Symbol=="function"&&Symbol.for,H5=z5?Symbol.for("react.element"):60103;function W5(t){return t.$$typeof===H5}function q5(t){return Array.isArray(t)?[]:{}}function Hh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ql(q5(t),t,e):t}function K5(t,e,n){return t.concat(e).map(function(r){return Hh(r,n)})}function G5(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Hh(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Hh(e[i],n):r[i]=Ql(t[i],e[i],n)}),r}function Ql(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||K5,n.isMergeableObject=n.isMergeableObject||U5;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):G5(t,e,n):Hh(e,n)}Ql.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ql(r,i,n)},{})};var Cg=Ql,ab=typeof global=="object"&&global&&global.Object===Object&&global,Q5=typeof self=="object"&&self&&self.Object===Object&&self,Qn=ab||Q5||Function("return this")(),Ei=Qn.Symbol,lb=Object.prototype,Y5=lb.hasOwnProperty,X5=lb.toString,Da=Ei?Ei.toStringTag:void 0;function J5(t){var e=Y5.call(t,Da),n=t[Da];try{t[Da]=void 0;var r=!0}catch{}var i=X5.call(t);return r&&(e?t[Da]=n:delete t[Da]),i}var Z5=Object.prototype,ez=Z5.toString;function tz(t){return ez.call(t)}var nz="[object Null]",rz="[object Undefined]",x1=Ei?Ei.toStringTag:void 0;function Is(t){return t==null?t===void 0?rz:nz:x1&&x1 in Object(t)?J5(t):tz(t)}function ub(t,e){return function(n){return t(e(n))}}var h0=ub(Object.getPrototypeOf,Object);function As(t){return t!=null&&typeof t=="object"}var iz="[object Object]",sz=Function.prototype,oz=Object.prototype,cb=sz.toString,az=oz.hasOwnProperty,lz=cb.call(Object);function b1(t){if(!As(t)||Is(t)!=iz)return!1;var e=h0(t);if(e===null)return!0;var n=az.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&cb.call(n)==lz}function uz(){this.__data__=[],this.size=0}function hb(t,e){return t===e||t!==t&&e!==e}function Wd(t,e){for(var n=t.length;n--;)if(hb(t[n][0],e))return n;return-1}var cz=Array.prototype,hz=cz.splice;function dz(t){var e=this.__data__,n=Wd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():hz.call(e,n,1),--this.size,!0}function fz(t){var e=this.__data__,n=Wd(e,t);return n<0?void 0:e[n][1]}function pz(t){return Wd(this.__data__,t)>-1}function mz(t,e){var n=this.__data__,r=Wd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function xr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xr.prototype.clear=uz;xr.prototype.delete=dz;xr.prototype.get=fz;xr.prototype.has=pz;xr.prototype.set=mz;function gz(){this.__data__=new xr,this.size=0}function yz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function vz(t){return this.__data__.get(t)}function _z(t){return this.__data__.has(t)}function Eu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wz="[object AsyncFunction]",Ez="[object Function]",Tz="[object GeneratorFunction]",Sz="[object Proxy]";function db(t){if(!Eu(t))return!1;var e=Is(t);return e==Ez||e==Tz||e==wz||e==Sz}var bp=Qn["__core-js_shared__"],k1=function(){var t=/[^.]+$/.exec(bp&&bp.keys&&bp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Iz(t){return!!k1&&k1 in t}var Az=Function.prototype,Pz=Az.toString;function Ps(t){if(t!=null){try{return Pz.call(t)}catch{}try{return t+""}catch{}}return""}var Cz=/[\\^$.*+?()[\]{}|]/g,Rz=/^\[object .+?Constructor\]$/,xz=Function.prototype,bz=Object.prototype,kz=xz.toString,Oz=bz.hasOwnProperty,Nz=RegExp("^"+kz.call(Oz).replace(Cz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dz(t){if(!Eu(t)||Iz(t))return!1;var e=db(t)?Nz:Rz;return e.test(Ps(t))}function Vz(t,e){return t==null?void 0:t[e]}function Cs(t,e){var n=Vz(t,e);return Dz(n)?n:void 0}var Yl=Cs(Qn,"Map"),Xl=Cs(Object,"create");function Lz(){this.__data__=Xl?Xl(null):{},this.size=0}function Mz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Fz="__lodash_hash_undefined__",jz=Object.prototype,Uz=jz.hasOwnProperty;function $z(t){var e=this.__data__;if(Xl){var n=e[t];return n===Fz?void 0:n}return Uz.call(e,t)?e[t]:void 0}var Bz=Object.prototype,zz=Bz.hasOwnProperty;function Hz(t){var e=this.__data__;return Xl?e[t]!==void 0:zz.call(e,t)}var Wz="__lodash_hash_undefined__";function qz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Xl&&e===void 0?Wz:e,this}function ys(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ys.prototype.clear=Lz;ys.prototype.delete=Mz;ys.prototype.get=$z;ys.prototype.has=Hz;ys.prototype.set=qz;function Kz(){this.size=0,this.__data__={hash:new ys,map:new(Yl||xr),string:new ys}}function Gz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qd(t,e){var n=t.__data__;return Gz(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Qz(t){var e=qd(this,t).delete(t);return this.size-=e?1:0,e}function Yz(t){return qd(this,t).get(t)}function Xz(t){return qd(this,t).has(t)}function Jz(t,e){var n=qd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function bi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bi.prototype.clear=Kz;bi.prototype.delete=Qz;bi.prototype.get=Yz;bi.prototype.has=Xz;bi.prototype.set=Jz;var Zz=200;function e8(t,e){var n=this.__data__;if(n instanceof xr){var r=n.__data__;if(!Yl||r.length<Zz-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bi(r)}return n.set(t,e),this.size=n.size,this}function ra(t){var e=this.__data__=new xr(t);this.size=e.size}ra.prototype.clear=gz;ra.prototype.delete=yz;ra.prototype.get=vz;ra.prototype.has=_z;ra.prototype.set=e8;function t8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var O1=function(){try{var t=Cs(Object,"defineProperty");return t({},"",{}),t}catch{}}();function fb(t,e,n){e=="__proto__"&&O1?O1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var n8=Object.prototype,r8=n8.hasOwnProperty;function pb(t,e,n){var r=t[e];(!(r8.call(t,e)&&hb(r,n))||n===void 0&&!(e in t))&&fb(t,e,n)}function Kd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?fb(n,a,l):pb(n,a,l)}return n}function i8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var s8="[object Arguments]";function N1(t){return As(t)&&Is(t)==s8}var mb=Object.prototype,o8=mb.hasOwnProperty,a8=mb.propertyIsEnumerable,l8=N1(function(){return arguments}())?N1:function(t){return As(t)&&o8.call(t,"callee")&&!a8.call(t,"callee")},Tu=Array.isArray;function u8(){return!1}var gb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D1=gb&&typeof module=="object"&&module&&!module.nodeType&&module,c8=D1&&D1.exports===gb,V1=c8?Qn.Buffer:void 0,h8=V1?V1.isBuffer:void 0,yb=h8||u8,d8=9007199254740991,f8=/^(?:0|[1-9]\d*)$/;function p8(t,e){var n=typeof t;return e=e??d8,!!e&&(n=="number"||n!="symbol"&&f8.test(t))&&t>-1&&t%1==0&&t<e}var m8=9007199254740991;function vb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=m8}var g8="[object Arguments]",y8="[object Array]",v8="[object Boolean]",_8="[object Date]",w8="[object Error]",E8="[object Function]",T8="[object Map]",S8="[object Number]",I8="[object Object]",A8="[object RegExp]",P8="[object Set]",C8="[object String]",R8="[object WeakMap]",x8="[object ArrayBuffer]",b8="[object DataView]",k8="[object Float32Array]",O8="[object Float64Array]",N8="[object Int8Array]",D8="[object Int16Array]",V8="[object Int32Array]",L8="[object Uint8Array]",M8="[object Uint8ClampedArray]",F8="[object Uint16Array]",j8="[object Uint32Array]",De={};De[k8]=De[O8]=De[N8]=De[D8]=De[V8]=De[L8]=De[M8]=De[F8]=De[j8]=!0;De[g8]=De[y8]=De[x8]=De[v8]=De[b8]=De[_8]=De[w8]=De[E8]=De[T8]=De[S8]=De[I8]=De[A8]=De[P8]=De[C8]=De[R8]=!1;function U8(t){return As(t)&&vb(t.length)&&!!De[Is(t)]}function d0(t){return function(e){return t(e)}}var _b=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hl=_b&&typeof module=="object"&&module&&!module.nodeType&&module,$8=hl&&hl.exports===_b,kp=$8&&ab.process,Uo=function(){try{var t=hl&&hl.require&&hl.require("util").types;return t||kp&&kp.binding&&kp.binding("util")}catch{}}(),L1=Uo&&Uo.isTypedArray,B8=L1?d0(L1):U8,z8=Object.prototype,H8=z8.hasOwnProperty;function wb(t,e){var n=Tu(t),r=!n&&l8(t),i=!n&&!r&&yb(t),s=!n&&!r&&!i&&B8(t),o=n||r||i||s,a=o?i8(t.length,String):[],l=a.length;for(var c in t)(e||H8.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||p8(c,l)))&&a.push(c);return a}var W8=Object.prototype;function f0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||W8;return t===n}var q8=ub(Object.keys,Object),K8=Object.prototype,G8=K8.hasOwnProperty;function Q8(t){if(!f0(t))return q8(t);var e=[];for(var n in Object(t))G8.call(t,n)&&n!="constructor"&&e.push(n);return e}function Eb(t){return t!=null&&vb(t.length)&&!db(t)}function p0(t){return Eb(t)?wb(t):Q8(t)}function Y8(t,e){return t&&Kd(e,p0(e),t)}function X8(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var J8=Object.prototype,Z8=J8.hasOwnProperty;function e7(t){if(!Eu(t))return X8(t);var e=f0(t),n=[];for(var r in t)r=="constructor"&&(e||!Z8.call(t,r))||n.push(r);return n}function m0(t){return Eb(t)?wb(t,!0):e7(t)}function t7(t,e){return t&&Kd(e,m0(e),t)}var Tb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,M1=Tb&&typeof module=="object"&&module&&!module.nodeType&&module,n7=M1&&M1.exports===Tb,F1=n7?Qn.Buffer:void 0,j1=F1?F1.allocUnsafe:void 0;function r7(t,e){if(e)return t.slice();var n=t.length,r=j1?j1(n):new t.constructor(n);return t.copy(r),r}function Sb(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function i7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ib(){return[]}var s7=Object.prototype,o7=s7.propertyIsEnumerable,U1=Object.getOwnPropertySymbols,g0=U1?function(t){return t==null?[]:(t=Object(t),i7(U1(t),function(e){return o7.call(t,e)}))}:Ib;function a7(t,e){return Kd(t,g0(t),e)}function Ab(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var l7=Object.getOwnPropertySymbols,Pb=l7?function(t){for(var e=[];t;)Ab(e,g0(t)),t=h0(t);return e}:Ib;function u7(t,e){return Kd(t,Pb(t),e)}function Cb(t,e,n){var r=e(t);return Tu(t)?r:Ab(r,n(t))}function c7(t){return Cb(t,p0,g0)}function h7(t){return Cb(t,m0,Pb)}var Rg=Cs(Qn,"DataView"),xg=Cs(Qn,"Promise"),bg=Cs(Qn,"Set"),kg=Cs(Qn,"WeakMap"),$1="[object Map]",d7="[object Object]",B1="[object Promise]",z1="[object Set]",H1="[object WeakMap]",W1="[object DataView]",f7=Ps(Rg),p7=Ps(Yl),m7=Ps(xg),g7=Ps(bg),y7=Ps(kg),nr=Is;(Rg&&nr(new Rg(new ArrayBuffer(1)))!=W1||Yl&&nr(new Yl)!=$1||xg&&nr(xg.resolve())!=B1||bg&&nr(new bg)!=z1||kg&&nr(new kg)!=H1)&&(nr=function(t){var e=Is(t),n=e==d7?t.constructor:void 0,r=n?Ps(n):"";if(r)switch(r){case f7:return W1;case p7:return $1;case m7:return B1;case g7:return z1;case y7:return H1}return e});var v7=Object.prototype,_7=v7.hasOwnProperty;function w7(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&_7.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var q1=Qn.Uint8Array;function y0(t){var e=new t.constructor(t.byteLength);return new q1(e).set(new q1(t)),e}function E7(t,e){var n=e?y0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var T7=/\w*$/;function S7(t){var e=new t.constructor(t.source,T7.exec(t));return e.lastIndex=t.lastIndex,e}var K1=Ei?Ei.prototype:void 0,G1=K1?K1.valueOf:void 0;function I7(t){return G1?Object(G1.call(t)):{}}function A7(t,e){var n=e?y0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var P7="[object Boolean]",C7="[object Date]",R7="[object Map]",x7="[object Number]",b7="[object RegExp]",k7="[object Set]",O7="[object String]",N7="[object Symbol]",D7="[object ArrayBuffer]",V7="[object DataView]",L7="[object Float32Array]",M7="[object Float64Array]",F7="[object Int8Array]",j7="[object Int16Array]",U7="[object Int32Array]",$7="[object Uint8Array]",B7="[object Uint8ClampedArray]",z7="[object Uint16Array]",H7="[object Uint32Array]";function W7(t,e,n){var r=t.constructor;switch(e){case D7:return y0(t);case P7:case C7:return new r(+t);case V7:return E7(t,n);case L7:case M7:case F7:case j7:case U7:case $7:case B7:case z7:case H7:return A7(t,n);case R7:return new r;case x7:case O7:return new r(t);case b7:return S7(t);case k7:return new r;case N7:return I7(t)}}var Q1=Object.create,q7=function(){function t(){}return function(e){if(!Eu(e))return{};if(Q1)return Q1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function K7(t){return typeof t.constructor=="function"&&!f0(t)?q7(h0(t)):{}}var G7="[object Map]";function Q7(t){return As(t)&&nr(t)==G7}var Y1=Uo&&Uo.isMap,Y7=Y1?d0(Y1):Q7,X7="[object Set]";function J7(t){return As(t)&&nr(t)==X7}var X1=Uo&&Uo.isSet,Z7=X1?d0(X1):J7,eH=1,tH=2,nH=4,Rb="[object Arguments]",rH="[object Array]",iH="[object Boolean]",sH="[object Date]",oH="[object Error]",xb="[object Function]",aH="[object GeneratorFunction]",lH="[object Map]",uH="[object Number]",bb="[object Object]",cH="[object RegExp]",hH="[object Set]",dH="[object String]",fH="[object Symbol]",pH="[object WeakMap]",mH="[object ArrayBuffer]",gH="[object DataView]",yH="[object Float32Array]",vH="[object Float64Array]",_H="[object Int8Array]",wH="[object Int16Array]",EH="[object Int32Array]",TH="[object Uint8Array]",SH="[object Uint8ClampedArray]",IH="[object Uint16Array]",AH="[object Uint32Array]",xe={};xe[Rb]=xe[rH]=xe[mH]=xe[gH]=xe[iH]=xe[sH]=xe[yH]=xe[vH]=xe[_H]=xe[wH]=xe[EH]=xe[lH]=xe[uH]=xe[bb]=xe[cH]=xe[hH]=xe[dH]=xe[fH]=xe[TH]=xe[SH]=xe[IH]=xe[AH]=!0;xe[oH]=xe[xb]=xe[pH]=!1;function dl(t,e,n,r,i,s){var o,a=e&eH,l=e&tH,c=e&nH;if(o!==void 0)return o;if(!Eu(t))return t;var h=Tu(t);if(h){if(o=w7(t),!a)return Sb(t,o)}else{var d=nr(t),p=d==xb||d==aH;if(yb(t))return r7(t,a);if(d==bb||d==Rb||p&&!i){if(o=l||p?{}:K7(t),!a)return l?u7(t,t7(o,t)):a7(t,Y8(o,t))}else{if(!xe[d])return i?t:{};o=W7(t,d,a)}}s||(s=new ra);var y=s.get(t);if(y)return y;s.set(t,o),Z7(t)?t.forEach(function(I){o.add(dl(I,e,n,I,t,s))}):Y7(t)&&t.forEach(function(I,v){o.set(v,dl(I,e,n,v,t,s))});var w=c?l?h7:c7:l?m0:p0,T=h?void 0:w(t);return t8(T||t,function(I,v){T&&(v=I,I=t[v]),pb(o,v,dl(I,e,n,v,t,s))}),o}var PH=1,CH=4;function qa(t){return dl(t,PH|CH)}var J1=Array.isArray,Z1=Object.keys,RH=Object.prototype.hasOwnProperty,xH=typeof Element<"u";function Og(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=J1(t),r=J1(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Og(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,h=e instanceof RegExp;if(c!=h)return!1;if(c&&h)return t.toString()==e.toString();var d=Z1(t);if(s=d.length,s!==Z1(e).length)return!1;for(i=s;i--!==0;)if(!RH.call(e,d[i]))return!1;if(xH&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!Og(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var bH=function(e,n){try{return Og(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Ur=Qh(bH);var kH=4;function eS(t){return dl(t,kH)}function kb(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var OH="[object Symbol]";function v0(t){return typeof t=="symbol"||As(t)&&Is(t)==OH}var NH="Expected a function";function _0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(NH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(_0.Cache||bi),n}_0.Cache=bi;var DH=500;function VH(t){var e=_0(t,function(r){return n.size===DH&&n.clear(),r}),n=e.cache;return e}var LH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MH=/\\(\\)?/g,FH=VH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(LH,function(n,r,i,s){e.push(i?s.replace(MH,"$1"):r||n)}),e}),jH=1/0;function UH(t){if(typeof t=="string"||v0(t))return t;var e=t+"";return e=="0"&&1/t==-jH?"-0":e}var $H=1/0,tS=Ei?Ei.prototype:void 0,nS=tS?tS.toString:void 0;function Ob(t){if(typeof t=="string")return t;if(Tu(t))return kb(t,Ob)+"";if(v0(t))return nS?nS.call(t):"";var e=t+"";return e=="0"&&1/t==-$H?"-0":e}function BH(t){return t==null?"":Ob(t)}function Nb(t){return Tu(t)?kb(t,UH):v0(t)?[t]:Sb(FH(BH(t)))}var Db={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=typeof Symbol=="function"&&Symbol.for,w0=ct?Symbol.for("react.element"):60103,E0=ct?Symbol.for("react.portal"):60106,Gd=ct?Symbol.for("react.fragment"):60107,Qd=ct?Symbol.for("react.strict_mode"):60108,Yd=ct?Symbol.for("react.profiler"):60114,Xd=ct?Symbol.for("react.provider"):60109,Jd=ct?Symbol.for("react.context"):60110,T0=ct?Symbol.for("react.async_mode"):60111,Zd=ct?Symbol.for("react.concurrent_mode"):60111,ef=ct?Symbol.for("react.forward_ref"):60112,tf=ct?Symbol.for("react.suspense"):60113,zH=ct?Symbol.for("react.suspense_list"):60120,nf=ct?Symbol.for("react.memo"):60115,rf=ct?Symbol.for("react.lazy"):60116,HH=ct?Symbol.for("react.block"):60121,WH=ct?Symbol.for("react.fundamental"):60117,qH=ct?Symbol.for("react.responder"):60118,KH=ct?Symbol.for("react.scope"):60119;function ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case w0:switch(t=t.type,t){case T0:case Zd:case Gd:case Yd:case Qd:case tf:return t;default:switch(t=t&&t.$$typeof,t){case Jd:case ef:case rf:case nf:case Xd:return t;default:return e}}case E0:return e}}}function Vb(t){return ln(t)===Zd}Ie.AsyncMode=T0;Ie.ConcurrentMode=Zd;Ie.ContextConsumer=Jd;Ie.ContextProvider=Xd;Ie.Element=w0;Ie.ForwardRef=ef;Ie.Fragment=Gd;Ie.Lazy=rf;Ie.Memo=nf;Ie.Portal=E0;Ie.Profiler=Yd;Ie.StrictMode=Qd;Ie.Suspense=tf;Ie.isAsyncMode=function(t){return Vb(t)||ln(t)===T0};Ie.isConcurrentMode=Vb;Ie.isContextConsumer=function(t){return ln(t)===Jd};Ie.isContextProvider=function(t){return ln(t)===Xd};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===w0};Ie.isForwardRef=function(t){return ln(t)===ef};Ie.isFragment=function(t){return ln(t)===Gd};Ie.isLazy=function(t){return ln(t)===rf};Ie.isMemo=function(t){return ln(t)===nf};Ie.isPortal=function(t){return ln(t)===E0};Ie.isProfiler=function(t){return ln(t)===Yd};Ie.isStrictMode=function(t){return ln(t)===Qd};Ie.isSuspense=function(t){return ln(t)===tf};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gd||t===Zd||t===Yd||t===Qd||t===tf||t===zH||typeof t=="object"&&t!==null&&(t.$$typeof===rf||t.$$typeof===nf||t.$$typeof===Xd||t.$$typeof===Jd||t.$$typeof===ef||t.$$typeof===WH||t.$$typeof===qH||t.$$typeof===KH||t.$$typeof===HH)};Ie.typeOf=ln;Db.exports=Ie;var GH=Db.exports,S0=GH,QH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},I0={};I0[S0.ForwardRef]=XH;I0[S0.Memo]=Lb;function rS(t){return S0.isMemo(t)?Lb:I0[t.$$typeof]||QH}var JH=Object.defineProperty,ZH=Object.getOwnPropertyNames,iS=Object.getOwnPropertySymbols,eW=Object.getOwnPropertyDescriptor,tW=Object.getPrototypeOf,sS=Object.prototype;function Mb(t,e,n){if(typeof e!="string"){if(sS){var r=tW(e);r&&r!==sS&&Mb(t,r,n)}var i=ZH(e);iS&&(i=i.concat(iS(e)));for(var s=rS(t),o=rS(e),a=0;a<i.length;++a){var l=i[a];if(!YH[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=eW(e,l);try{JH(t,l,c)}catch{}}}}return t}var nW=Mb;const rW=Qh(nW);function Ee(){return Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ee.apply(this,arguments)}function Fb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Jr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var sf=b.createContext(void 0);sf.displayName="FormikContext";var iW=sf.Provider,sW=sf.Consumer;function jb(){var t=b.useContext(sf);return t}var aS=function(e){return Array.isArray(e)&&e.length===0},pt=function(e){return typeof e=="function"},Su=function(e){return e!==null&&typeof e=="object"},oW=function(e){return String(Math.floor(Number(e)))===e},Op=function(e){return Object.prototype.toString.call(e)==="[object String]"},Ub=function(e){return b.Children.count(e)===0},Np=function(e){return Su(e)&&pt(e.then)};function Le(t,e,n,r){r===void 0&&(r=0);for(var i=Nb(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Wn(t,e,n){for(var r=eS(t),i=r,s=0,o=Nb(e);s<o.length-1;s++){var a=o[s],l=Le(t,o.slice(0,s+1));if(l&&(Su(l)||Array.isArray(l)))i=i[a]=eS(l);else{var c=o[s+1];i=i[a]=oW(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function $b(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Su(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},$b(a,e,n,r[o])):r[o]=e}return r}function aW(t,e){switch(e.type){case"SET_VALUES":return Ee({},t,{values:e.payload});case"SET_TOUCHED":return Ee({},t,{touched:e.payload});case"SET_ERRORS":return Ur(t.errors,e.payload)?t:Ee({},t,{errors:e.payload});case"SET_STATUS":return Ee({},t,{status:e.payload});case"SET_ISSUBMITTING":return Ee({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Ee({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Ee({},t,{values:Wn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Ee({},t,{touched:Wn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Ee({},t,{errors:Wn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Ee({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Ee({},t,{touched:$b(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Ee({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Ee({},t,{isSubmitting:!1});default:return t}}var Fi={},mc={};function lW(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,h=t.onSubmit,d=Jr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=Ee({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:h},d),y=b.useRef(p.initialValues),w=b.useRef(p.initialErrors||Fi),T=b.useRef(p.initialTouched||mc),I=b.useRef(p.initialStatus),v=b.useRef(!1),g=b.useRef({});b.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var E=b.useState(0),k=E[1],V=b.useRef({values:qa(p.initialValues),errors:qa(p.initialErrors)||Fi,touched:qa(p.initialTouched)||mc,status:qa(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),L=V.current,A=b.useCallback(function(M){var W=V.current;V.current=aW(W,M),W!==V.current&&k(function(G){return G+1})},[]),_=b.useCallback(function(M,W){return new Promise(function(G,J){var X=p.validate(M,W);X==null?G(Fi):Np(X)?X.then(function(ie){G(ie||Fi)},function(ie){J(ie)}):G(X)})},[p.validate]),P=b.useCallback(function(M,W){var G=p.validationSchema,J=pt(G)?G(W):G,X=W&&J.validateAt?J.validateAt(W,M):cW(M,J);return new Promise(function(ie,Fe){X.then(function(){ie(Fi)},function(un){un.name==="ValidationError"?ie(uW(un)):Fe(un)})})},[p.validationSchema]),C=b.useCallback(function(M,W){return new Promise(function(G){return G(g.current[M].validate(W))})},[]),x=b.useCallback(function(M){var W=Object.keys(g.current).filter(function(J){return pt(g.current[J].validate)}),G=W.length>0?W.map(function(J){return C(J,Le(M,J))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(G).then(function(J){return J.reduce(function(X,ie,Fe){return ie==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ie&&(X=Wn(X,W[Fe],ie)),X},{})})},[C]),O=b.useCallback(function(M){return Promise.all([x(M),p.validationSchema?P(M):{},p.validate?_(M):{}]).then(function(W){var G=W[0],J=W[1],X=W[2],ie=Cg.all([G,J,X],{arrayMerge:hW});return ie})},[p.validate,p.validationSchema,x,_,P]),R=hn(function(M){return M===void 0&&(M=L.values),A({type:"SET_ISVALIDATING",payload:!0}),O(M).then(function(W){return v.current&&(A({type:"SET_ISVALIDATING",payload:!1}),A({type:"SET_ERRORS",payload:W})),W})});b.useEffect(function(){o&&v.current===!0&&Ur(y.current,p.initialValues)&&R(y.current)},[o,R]);var ye=b.useCallback(function(M){var W=M&&M.values?M.values:y.current,G=M&&M.errors?M.errors:w.current?w.current:p.initialErrors||{},J=M&&M.touched?M.touched:T.current?T.current:p.initialTouched||{},X=M&&M.status?M.status:I.current?I.current:p.initialStatus;y.current=W,w.current=G,T.current=J,I.current=X;var ie=function(){A({type:"RESET_FORM",payload:{isSubmitting:!!M&&!!M.isSubmitting,errors:G,touched:J,status:X,values:W,isValidating:!!M&&!!M.isValidating,submitCount:M&&M.submitCount&&typeof M.submitCount=="number"?M.submitCount:0}})};if(p.onReset){var Fe=p.onReset(L.values,ks);Np(Fe)?Fe.then(ie):ie()}else ie()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);b.useEffect(function(){v.current===!0&&!Ur(y.current,p.initialValues)&&c&&(y.current=p.initialValues,ye(),o&&R(y.current))},[c,p.initialValues,ye,o,R]),b.useEffect(function(){c&&v.current===!0&&!Ur(w.current,p.initialErrors)&&(w.current=p.initialErrors||Fi,A({type:"SET_ERRORS",payload:p.initialErrors||Fi}))},[c,p.initialErrors]),b.useEffect(function(){c&&v.current===!0&&!Ur(T.current,p.initialTouched)&&(T.current=p.initialTouched||mc,A({type:"SET_TOUCHED",payload:p.initialTouched||mc}))},[c,p.initialTouched]),b.useEffect(function(){c&&v.current===!0&&!Ur(I.current,p.initialStatus)&&(I.current=p.initialStatus,A({type:"SET_STATUS",payload:p.initialStatus}))},[c,p.initialStatus,p.initialTouched]);var ot=hn(function(M){if(g.current[M]&&pt(g.current[M].validate)){var W=Le(L.values,M),G=g.current[M].validate(W);return Np(G)?(A({type:"SET_ISVALIDATING",payload:!0}),G.then(function(J){return J}).then(function(J){A({type:"SET_FIELD_ERROR",payload:{field:M,value:J}}),A({type:"SET_ISVALIDATING",payload:!1})})):(A({type:"SET_FIELD_ERROR",payload:{field:M,value:G}}),Promise.resolve(G))}else if(p.validationSchema)return A({type:"SET_ISVALIDATING",payload:!0}),P(L.values,M).then(function(J){return J}).then(function(J){A({type:"SET_FIELD_ERROR",payload:{field:M,value:Le(J,M)}}),A({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Qt=b.useCallback(function(M,W){var G=W.validate;g.current[M]={validate:G}},[]),ue=b.useCallback(function(M){delete g.current[M]},[]),z=hn(function(M,W){A({type:"SET_TOUCHED",payload:M});var G=W===void 0?i:W;return G?R(L.values):Promise.resolve()}),Q=b.useCallback(function(M){A({type:"SET_ERRORS",payload:M})},[]),Y=hn(function(M,W){var G=pt(M)?M(L.values):M;A({type:"SET_VALUES",payload:G});var J=W===void 0?n:W;return J?R(G):Promise.resolve()}),de=b.useCallback(function(M,W){A({type:"SET_FIELD_ERROR",payload:{field:M,value:W}})},[]),re=hn(function(M,W,G){A({type:"SET_FIELD_VALUE",payload:{field:M,value:W}});var J=G===void 0?n:G;return J?R(Wn(L.values,M,W)):Promise.resolve()}),ce=b.useCallback(function(M,W){var G=W,J=M,X;if(!Op(M)){M.persist&&M.persist();var ie=M.target?M.target:M.currentTarget,Fe=ie.type,un=ie.name,Ns=ie.id,la=ie.value,Oi=ie.checked,hf=ie.outerHTML,ua=ie.options,ca=ie.multiple;G=W||un||Ns,J=/number|range/.test(Fe)?(X=parseFloat(la),isNaN(X)?"":X):/checkbox/.test(Fe)?fW(Le(L.values,G),Oi,la):ua&&ca?dW(ua):la}G&&re(G,J)},[re,L.values]),ke=hn(function(M){if(Op(M))return function(W){return ce(W,M)};ce(M)}),Ce=hn(function(M,W,G){W===void 0&&(W=!0),A({type:"SET_FIELD_TOUCHED",payload:{field:M,value:W}});var J=G===void 0?i:G;return J?R(L.values):Promise.resolve()}),Je=b.useCallback(function(M,W){M.persist&&M.persist();var G=M.target,J=G.name,X=G.id,ie=G.outerHTML,Fe=W||J||X;Ce(Fe,!0)},[Ce]),tt=hn(function(M){if(Op(M))return function(W){return Je(W,M)};Je(M)}),bs=b.useCallback(function(M){pt(M)?A({type:"SET_FORMIK_STATE",payload:M}):A({type:"SET_FORMIK_STATE",payload:function(){return M}})},[]),Iu=b.useCallback(function(M){A({type:"SET_STATUS",payload:M})},[]),ki=b.useCallback(function(M){A({type:"SET_ISSUBMITTING",payload:M})},[]),br=hn(function(){return A({type:"SUBMIT_ATTEMPT"}),R().then(function(M){var W=M instanceof Error,G=!W&&Object.keys(M).length===0;if(G){var J;try{if(J=sa(),J===void 0)return}catch(X){throw X}return Promise.resolve(J).then(function(X){return v.current&&A({type:"SUBMIT_SUCCESS"}),X}).catch(function(X){if(v.current)throw A({type:"SUBMIT_FAILURE"}),X})}else if(v.current&&(A({type:"SUBMIT_FAILURE"}),W))throw M})}),ia=hn(function(M){M&&M.preventDefault&&pt(M.preventDefault)&&M.preventDefault(),M&&M.stopPropagation&&pt(M.stopPropagation)&&M.stopPropagation(),br().catch(function(W){console.warn("Warning: An unhandled error was caught from submitForm()",W)})}),ks={resetForm:ye,validateForm:R,validateField:ot,setErrors:Q,setFieldError:de,setFieldTouched:Ce,setFieldValue:re,setStatus:Iu,setSubmitting:ki,setTouched:z,setValues:Y,setFormikState:bs,submitForm:br},sa=hn(function(){return h(L.values,ks)}),oa=hn(function(M){M&&M.preventDefault&&pt(M.preventDefault)&&M.preventDefault(),M&&M.stopPropagation&&pt(M.stopPropagation)&&M.stopPropagation(),ye()}),Au=b.useCallback(function(M){return{value:Le(L.values,M),error:Le(L.errors,M),touched:!!Le(L.touched,M),initialValue:Le(y.current,M),initialTouched:!!Le(T.current,M),initialError:Le(w.current,M)}},[L.errors,L.touched,L.values]),uf=b.useCallback(function(M){return{setValue:function(G,J){return re(M,G,J)},setTouched:function(G,J){return Ce(M,G,J)},setError:function(G){return de(M,G)}}},[re,Ce,de]),cf=b.useCallback(function(M){var W=Su(M),G=W?M.name:M,J=Le(L.values,G),X={name:G,value:J,onChange:ke,onBlur:tt};if(W){var ie=M.type,Fe=M.value,un=M.as,Ns=M.multiple;ie==="checkbox"?Fe===void 0?X.checked=!!J:(X.checked=!!(Array.isArray(J)&&~J.indexOf(Fe)),X.value=Fe):ie==="radio"?(X.checked=J===Fe,X.value=Fe):un==="select"&&Ns&&(X.value=X.value||[],X.multiple=!0)}return X},[tt,ke,L.values]),Os=b.useMemo(function(){return!Ur(y.current,L.values)},[y.current,L.values]),aa=b.useMemo(function(){return typeof a<"u"?Os?L.errors&&Object.keys(L.errors).length===0:a!==!1&&pt(a)?a(p):a:L.errors&&Object.keys(L.errors).length===0},[a,Os,L.errors,p]),Pu=Ee({},L,{initialValues:y.current,initialErrors:w.current,initialTouched:T.current,initialStatus:I.current,handleBlur:tt,handleChange:ke,handleReset:oa,handleSubmit:ia,resetForm:ye,setErrors:Q,setFormikState:bs,setFieldTouched:Ce,setFieldValue:re,setFieldError:de,setStatus:Iu,setSubmitting:ki,setTouched:z,setValues:Y,submitForm:br,validateForm:R,validateField:ot,isValid:aa,dirty:Os,unregisterField:ue,registerField:Qt,getFieldProps:cf,getFieldMeta:Au,getFieldHelpers:uf,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Pu}function Bb(t){var e=lW(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return b.useImperativeHandle(s,function(){return e}),b.createElement(iW,{value:e},n?b.createElement(n,e):i?i(e):r?pt(r)?r(e):Ub(r)?null:b.Children.only(r):null)}function uW(t){var e={};if(t.inner){if(t.inner.length===0)return Wn(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Le(e,o.path)||(e=Wn(e,o.path,o.message))}}return e}function cW(t,e,n,r){n===void 0&&(n=!1);var i=Ng(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function Ng(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||b1(i)?Ng(i):i!==""?i:void 0}):b1(t[r])?e[r]=Ng(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function hW(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?Cg(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=Cg(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function dW(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function fW(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var pW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function hn(t){var e=b.useRef(t);return pW(function(){e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function Wh(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=Jr(t,["validate","name","render","children","as","component","className"]),c=jb(),h=Jr(c,["validate","validationSchema"]),d=h.registerField,p=h.unregisterField;b.useEffect(function(){return d(n,{validate:e}),function(){p(n)}},[d,p,n,e]);var y=h.getFieldProps(Ee({name:n},l)),w=h.getFieldMeta(n),T={field:y,form:h};if(r)return r(Ee({},T,{meta:w}));if(pt(i))return i(Ee({},T,{meta:w}));if(o){if(typeof o=="string"){var I=l.innerRef,v=Jr(l,["innerRef"]);return b.createElement(o,Ee({ref:I},y,v,{className:a}),i)}return b.createElement(o,Ee({field:y,form:h},l,{className:a}),i)}var g=s||"input";if(typeof g=="string"){var E=l.innerRef,k=Jr(l,["innerRef"]);return b.createElement(g,Ee({ref:E},y,k,{className:a}),i)}return b.createElement(g,Ee({},y,l,{className:a}),i)}var A0=b.forwardRef(function(t,e){var n=t.action,r=Jr(t,["action"]),i=n??"#",s=jb(),o=s.handleReset,a=s.handleSubmit;return b.createElement("form",Ee({onSubmit:a,ref:e,onReset:o,action:i},r))});A0.displayName="Form";function mW(t){var e=function(i){return b.createElement(sW,null,function(s){return b.createElement(t,Ee({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",rW(e,t)}var gW=function(e,n,r){var i=vs(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},yW=function(e,n,r){var i=vs(e),s=i[n];return i[n]=i[r],i[r]=s,i},Dp=function(e,n,r){var i=vs(e);return i.splice(n,0,r),i},vW=function(e,n,r){var i=vs(e);return i[n]=r,i},vs=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Ee({},e,{length:n+1}))}else return[]},lS=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Su(i)){var s=vs(i);return r(s)}return i}},_W=function(t){Fb(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,c=l.name,h=l.formik.setFormikState;h(function(d){var p=lS(a,s),y=lS(o,s),w=Wn(d.values,c,s(Le(d.values,c))),T=a?p(Le(d.errors,c)):void 0,I=o?y(Le(d.touched,c)):void 0;return aS(T)&&(T=void 0),aS(I)&&(I=void 0),Ee({},d,{values:w,errors:a?Wn(d.errors,c,T):d.errors,touched:o?Wn(d.touched,c,I):d.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(vs(o),[qa(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return yW(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return gW(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return Dp(a,s,o)},function(a){return Dp(a,s,null)},function(a){return Dp(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return vW(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(oS(i)),i.pop=i.pop.bind(oS(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ur(Le(i.formik.values,i.name),Le(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?vs(o):[];return s||(s=a[i]),pt(a.splice)&&a.splice(i,1),pt(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,c=s.name,h=s.formik,d=Jr(h,["validate","validationSchema"]),p=Ee({},i,{form:d,name:c});return o?b.createElement(o,p):a?a(p):l?typeof l=="function"?l(p):Ub(l)?null:b.Children.only(l):null},e}(b.Component);_W.defaultProps={validateOnChange:!0};var wW=function(t){Fb(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Le(this.props.formik.errors,this.props.name)!==Le(i.formik.errors,this.props.name)||Le(this.props.formik.touched,this.props.name)!==Le(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,c=i.name,h=Jr(i,["component","formik","render","children","name"]),d=Le(o.touched,c),p=Le(o.errors,c);return d&&p?a?pt(a)?a(p):null:l?pt(l)?l(p):null:s?b.createElement(s,h,p):p:null},e}(b.Component),qh=mW(wW);function Rs(t){this._maxSize=t,this.clear()}Rs.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Rs.prototype.get=function(t){return this._values[t]};Rs.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var EW=/[^.^\]^[]+|(?=\[\]|\.\.)/g,zb=/^\d+$/,TW=/^\d/,SW=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,IW=/^\s*(['"]?)(.*?)(\1)\s*$/,P0=512,uS=new Rs(P0),cS=new Rs(P0),hS=new Rs(P0),is={Cache:Rs,split:Dg,normalizePath:Vp,setter:function(t){var e=Vp(t);return cS.get(t)||cS.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Vp(t);return hS.get(t)||hS.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(C0(n)||zb.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){AW(Array.isArray(t)?t:Dg(t),e,n)}};function Vp(t){return uS.get(t)||uS.set(t,Dg(t).map(function(e){return e.replace(IW,"$2")}))}function Dg(t){return t.match(EW)||[""]}function AW(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(RW(i)&&(i='"'+i+'"'),a=C0(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function C0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function PW(t){return t.match(TW)&&!t.match(zb)}function CW(t){return SW.test(t)}function RW(t){return!C0(t)&&(PW(t)||CW(t))}const xW=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,of=t=>t.match(xW)||[],af=t=>t[0].toUpperCase()+t.slice(1),R0=(t,e)=>of(t).join(e).toLowerCase(),Hb=t=>of(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),bW=t=>af(Hb(t)),kW=t=>R0(t,"_"),OW=t=>R0(t,"-"),NW=t=>af(R0(t," ")),DW=t=>of(t).map(af).join(" ");var Lp={words:of,upperFirst:af,camelCase:Hb,pascalCase:bW,snakeCase:kW,kebabCase:OW,sentenceCase:NW,titleCase:DW},x0={exports:{}};x0.exports=function(t){return Wb(VW(t),t)};x0.exports.array=Wb;function Wb(t,e){var n=t.length,r=new Array(n),i={},s=n,o=LW(e),a=MW(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,h,d){if(d.has(c)){var p;try{p=", node was:"+JSON.stringify(c)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[h]){i[h]=!0;var y=o.get(c)||new Set;if(y=Array.from(y),h=y.length){d.add(c);do{var w=y[--h];l(w,a.get(w),d)}while(h);d.delete(c)}r[--n]=c}}}function VW(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function LW(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function MW(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var FW=x0.exports;const jW=Qh(FW),UW=Object.prototype.toString,$W=Error.prototype.toString,BW=RegExp.prototype.toString,zW=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",HW=/^Symbol\((.*)\)(.*)$/;function WW(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function dS(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return WW(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return zW.call(t).replace(HW,"Symbol($1)");const r=UW.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+$W.call(t)+"]":r==="RegExp"?BW.call(t):null}function di(t,e){let n=dS(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=dS(this[r],e);return s!==null?s:i},2)}function qb(t){return t==null?[]:[].concat(t)}let Kb,Gb,Qb,qW=/\$\{\s*(\w+)\s*\}/g;Kb=Symbol.toStringTag;class fS{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Kb]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],qb(e).forEach(s=>{if(Bt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Gb=Symbol.hasInstance;Qb=Symbol.toStringTag;class Bt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(qW,(i,s)=>di(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new fS(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Qb]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Bt)}static[Gb](e){return fS[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Dn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${di(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${di(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${di(n,!0)}\``+i}},Ut={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},KW={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Vg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},GW={isValue:"${path} field must be ${value}"},Lg={noUnknown:"${path} field has unspecified keys: ${unknown}"},QW={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},YW={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${di(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${di(n,!0)}\``}return Bt.formatError(Dn.notType,t)}};Object.assign(Object.create(null),{mixed:Dn,string:Ut,number:KW,date:Vg,object:Lg,array:QW,boolean:GW,tuple:YW});const b0=t=>t&&t.__isYupSchema__;class Kh{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Kh(e,(a,l)=>{var c;let h=o(...a)?i:s;return(c=h==null?void 0:h(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!b0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const gc={context:"$",value:"."};class xs{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===gc.context,this.isValue=this.key[0]===gc.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?gc.context:this.isValue?gc.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&is.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}xs.prototype.__isYupRef=!0;const Xi=t=>t==null;function js(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:h,params:d,message:p,skipAbsent:y}=t;let{parent:w,context:T,abortEarly:I=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=i;function g(x){return xs.isRef(x)?x.getValue(n,w,T):x}function E(x={}){const O=Object.assign({value:n,originalValue:s,label:o.spec.label,path:x.path||r,spec:o.spec,disableStackTrace:x.disableStackTrace||v},d,x.params);for(const ye of Object.keys(O))O[ye]=g(O[ye]);const R=new Bt(Bt.formatError(x.message||p,O),n,O.path,x.type||c,O.disableStackTrace);return R.params=O,R}const k=I?a:l;let V={path:r,parent:w,type:c,from:i.from,createError:E,resolve:g,options:i,originalValue:s,schema:o};const L=x=>{Bt.isError(x)?k(x):x?l(null):k(E())},A=x=>{Bt.isError(x)?k(x):a(x)};if(y&&Xi(n))return L(!0);let P;try{var C;if(P=h.call(V,n,V),typeof((C=P)==null?void 0:C.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${V.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(L,A)}}catch(x){A(x);return}L(P)}return e.OPTIONS=t,e}function XW(t,e,n,r=n){let i,s,o;return e?(is.forEach(e,(a,l,c)=>{let h=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",p=c?parseInt(h,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=d?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[h],t=t.fields[h]}s=h,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Gh extends Set{describe(){const e=[];for(const n of this.values())e.push(xs.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Gh(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function ao(t,e=new Map){if(b0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=ao(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,ao(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(ao(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=ao(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Gn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Gh,this._blacklist=new Gh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Dn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=ao(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Xi(s))return s;let o=di(e),a=di(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let h of Object.values(this.internalTests))h&&c.push(h);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,h=>{if(h.length)return i(h,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,h=T=>{i||(i=!0,n(T,o))},d=T=>{i||(i=!0,r(T,o))},p=s.length,y=[];if(!p)return d([]);let w={value:o,originalValue:a,path:l,options:c,schema:this};for(let T=0;T<s.length;T++){const I=s[T];I(w,h,function(g){g&&(Array.isArray(g)?y.push(...g):y.push(g)),--p<=0&&d(y)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const h=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,p,y)=>this.resolve(h)._validate(c,h,p,y)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,c)=>{Bt.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Bt(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Bt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Bt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Bt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Bt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):ao(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=js({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=js({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Dn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Dn.notNull){return this.nullability(!1,e)}required(e=Dn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Dn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=js(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=qb(e).map(s=>new xs(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Kh(i,n):Kh.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=js({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Dn.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=js({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Dn.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=js({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,h)=>h.findIndex(d=>d.name===l.name)===c)}}}Gn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Gn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=XW(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Gn.prototype[t]=Gn.prototype.oneOf;for(const t of["not","nope"])Gn.prototype[t]=Gn.prototype.notOneOf;const JW=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ZW(t){const e=Mg(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Mg(t){var e,n;const r=JW.exec(t);return r?{year:Jn(r[1]),month:Jn(r[2],1)-1,day:Jn(r[3],1),hour:Jn(r[4]),minute:Jn(r[5]),second:Jn(r[6]),millisecond:r[7]?Jn(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Jn(r[10]),minuteOffset:Jn(r[11])}:null}function Jn(t,e=0){return Number(t)||e}let eq=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tq=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,nq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,rq="^\\d{4}-\\d{2}-\\d{2}",iq="\\d{2}:\\d{2}:\\d{2}",sq="(([+-]\\d{2}(:?\\d{2})?)|Z)",oq=new RegExp(`${rq}T${iq}(\\.\\d+)?${sq}$`),aq=t=>Xi(t)||t===t.trim(),lq={}.toString();function Jl(){return new Yb}class Yb extends Gn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===lq?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Dn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ut.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Ut.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Ut.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Ut.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Ut.email){return this.matches(eq,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ut.url){return this.matches(tq,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ut.uuid){return this.matches(nq,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(oq,{name:"datetime",message:n||Ut.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ut.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=Mg(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Ut.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Mg(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ut.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:aq})}lowercase(e=Ut.lowercase){return this.transform(n=>Xi(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Xi(n)||n===n.toLowerCase()})}uppercase(e=Ut.uppercase){return this.transform(n=>Xi(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Xi(n)||n===n.toUpperCase()})}}Jl.prototype=Yb.prototype;let uq=new Date(""),cq=t=>Object.prototype.toString.call(t)==="[object Date]";class lf extends Gn{constructor(){super({type:"date",check(e){return cq(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=ZW(e),isNaN(e)?lf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(xs.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Vg.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Vg.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}lf.INVALID_DATE=uq;lf.prototype;function hq(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=is.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),xs.isRef(a)&&a.isSibling?s(a.path,o):b0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return jW.array(Array.from(r),n).reverse()}function pS(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Xb(t){return(e,n)=>pS(t,e)-pS(t,n)}const dq=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function zc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=zc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=zc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(zc)}):"optional"in t?t.optional():t}const fq=(t,e)=>{const n=[...is.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=is.getter(is.join(n),!0)(t);return!!(i&&r in i)};let mS=t=>Object.prototype.toString.call(t)==="[object Object]";function pq(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const mq=Xb([]);function k0(t){return new Jb(t)}class Jb extends Gn{constructor(e){super({type:"object",check(n){return mS(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=mq,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),h=!1;for(const d of a){let p=s[d],y=d in i;if(p){let w,T=i[d];c.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:T,context:n.context,parent:l});let I=p instanceof Gn?p.spec:void 0,v=I==null?void 0:I.strict;if(I!=null&&I.strip){h=h||d in i;continue}w=!n.__validating||!v?p.cast(i[d],c):i[d],w!==void 0&&(l[d]=w)}else y&&!o&&(l[d]=i[d]);(y!==d in l||l[d]!==i[d])&&(h=!0)}return h?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!mS(c)){i(l,c);return}o=o||c;let h=[];for(let d of this._nodes){let p=this.fields[d];!p||xs.isRef(p)||h.push(p.asNestedTest({options:n,key:d,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:c,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=hq(e,n),r._sortErrors=Xb(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return zc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=is.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return fq(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(dq)}noUnknown(e=!0,n=Lg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=pq(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Lg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Lp.camelCase)}snakeCase(){return this.transformKeys(Lp.snakeCase)}constantCase(){return this.transformKeys(e=>Lp.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}k0.prototype=Jb.prototype;function gq(){var l;const[t,e]=b.useState(""),n=qo(),r=k0({email:Jl().email("Please provide a valid email").required("Email is required"),password:Jl().min(6,"Password must be at least 6 characters").required("Please provide a password")}),i={"auth/email-already-in-use":"Email is already in use. Try signing in.","auth/invalid-email":"Invalid email format.","auth/weak-password":"Password too weak. Use at least 6 characters.","auth/operation-not-allowed":"Sign-up is disabled. Contact support.","auth/network-request-failed":"Network error. Check your connection.","auth/internal-error":"Internal error. Try again later.","auth/too-many-requests":"Too many attempts. Try again later."},o=((l=Cr().state)==null?void 0:l.from)||"/",a=async c=>{try{await rU(c.email,c.password),Ae.success("Welcome to YumYum!"),console.log("Signed Up"),n(o,{replace:!0})}catch(h){const d=h.code,p=i[d]||"An unexpected error occured";e(p)}};return D.jsxs(Ir.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"max-w-lg m-auto shadow-md rounded-lg text-center p-6 mt-40",children:[D.jsx("p",{className:"text-2xl",children:"Create an account!"}),D.jsx(Bb,{initialValues:{email:"",password:""},validationSchema:r,onSubmit:a,children:D.jsxs(A0,{className:"flex flex-col gap-4 my-4",children:[D.jsxs("div",{className:"flex flex-col text-start",children:[D.jsx("label",{htmlFor:"email-signup",children:"Email:"}),D.jsx(Wh,{className:"bg-gray-300 rounded px-4 py-3 text-base outline-none",name:"email",id:"email-signup",placeholder:"Email",type:"email"}),D.jsx(qh,{name:"email",component:"p",className:"text-error"})]}),D.jsxs("div",{className:"flex flex-col text-start",children:[D.jsx("label",{className:"text-start",htmlFor:"pass-signup",children:"Password"}),D.jsx(Wh,{className:"bg-gray-300 rounded px-4 py-3 text-base outline-none",name:"password",id:"pass-signup",placeholder:"Password",type:"password"}),D.jsx(qh,{name:"password",component:"p",className:"text-error"})]}),D.jsx("button",{type:"submit",className:"bg-primary hover:bg-green-600 text-white font-bold py-2 px-4 rounded",children:"Get Started"}),t&&D.jsx("p",{className:"text-error",children:t})]})}),D.jsxs("p",{children:["Already have an account?"," ",D.jsx(er,{className:"text-primary",to:"/login",children:"Sign In"})]})]})}function yq(){var l;const[t,e]=b.useState(""),n=qo(),r=k0({email:Jl().email("Not a valid email format").required("Email is required"),password:Jl().required("Password is required")}),i={"auth/user-not-found":"No account found. Please sign up.","auth/invalid-credential":"Email or password is incorrect.","auth/user-disabled":"Account disabled. Contact support.","auth/too-many-requests":"Too many login attempts. Try again later.","auth/network-request-failed":"Network error. Check your connection.","auth/internal-error":"Internal error. Try again later."},o=((l=Cr().state)==null?void 0:l.from)||"/",a=async c=>{try{await iU(c.email,c.password),Ae.success("Welcome back!"),console.log("Signed In"),n(o,{replace:!0})}catch(h){const d=h.code,p=i[d]||"An unexpected error occured";e(p)}};return D.jsxs(Ir.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"max-w-lg m-auto shadow-md rounded-lg text-center p-6 mt-40",children:[D.jsx("p",{className:"text-2xl",children:"Welcome Back!"}),D.jsx(Bb,{initialValues:{email:"",password:""},validationSchema:r,onSubmit:a,children:D.jsxs(A0,{className:"flex flex-col gap-4 my-4",children:[D.jsxs("div",{className:"flex flex-col text-start",children:[D.jsx("label",{htmlFor:"email-signup",children:"Email:"}),D.jsx(Wh,{className:"bg-gray-300 rounded px-4 py-3 text-base outline-none",name:"email",id:"email-signup",placeholder:"Email",type:"email"}),D.jsx(qh,{name:"email",component:"p",className:"text-error"})]}),D.jsxs("div",{className:"flex flex-col text-start",children:[D.jsx("label",{className:"text-start",htmlFor:"pass-signup",children:"Password"}),D.jsx(Wh,{className:"bg-gray-300 rounded px-4 py-3 text-base outline-none",name:"password",id:"pass-signup",placeholder:"Password",type:"password"}),D.jsx(qh,{name:"password",component:"p",className:"text-error"})]}),D.jsx("button",{type:"submit",className:"bg-primary hover:bg-green-600 text-white font-bold py-2 px-4 rounded",children:"Sign In"}),t&&D.jsx("p",{className:"text-error",children:t})]})}),D.jsxs("p",{children:["Dont have an account?"," ",D.jsx(er,{className:"text-primary",to:"/signup",children:"Sign Up"})]})]})}function Mp({children:t}){const{currentUser:e}=b.useContext(Zo),n=Cr();return e?t:D.jsx(UA,{to:"/login",state:{from:n.pathname},replace:!0})}function gS({children:t}){var i;const{currentUser:e}=b.useContext(Zo),r=((i=Cr().state)==null?void 0:i.from)||"/";return e?D.jsx(UA,{to:r}):t}function vq(){const{favorites:t,setFavorites:e}=b.useContext(Hd);return b.useEffect(()=>{localStorage.setItem("favorites",JSON.stringify(t))},[t]),D.jsxs(qN,{basename:"/recipe-app",children:[D.jsx(Q6,{}),D.jsxs(jN,{children:[D.jsx($i,{path:"/",element:D.jsx(X6,{})}),D.jsx($i,{path:"/results/:query",element:D.jsx(Mp,{children:D.jsx(k5,{})})}),D.jsx($i,{path:"/recipe/:id",element:D.jsx(Mp,{children:D.jsx(F5,{})})}),D.jsx($i,{path:"/favorites",element:D.jsx(Mp,{children:D.jsx(j5,{})})}),D.jsx($i,{path:"signup",element:D.jsx(gS,{children:D.jsx(gq,{})})}),D.jsx($i,{path:"login",element:D.jsx(gS,{children:D.jsx(yq,{})})})]})]})}xA(document.getElementById("root")).render(D.jsx(b.StrictMode,{children:D.jsx(nU,{children:D.jsxs(M5,{children:[D.jsx(yU,{}),D.jsx(vq,{})]})})}));
